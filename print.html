<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <script async defer src="https://buttons.github.io/buttons.js"></script>

        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Luos.io - Documentation</title>
        
        <meta name="robots" content="noindex" />
        
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Luos official documentation pages">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" type="image/png" href="favicon-luos.png">
        <!--<link rel="shortcut icon" type="image/png" href="">-->
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="src/_assets/css/custom.css">
        

        

        <!-- Chat Zoho -->
        <script type="text/javascript"> 
            var $zoho=$zoho || {};
            $zoho.salesiq = $zoho.salesiq || {widgetcode:"3527438c9fcafa0972a3a2576fae38964b4fe1b8f520ccf46ff8317a97584595", values:{},ready:function(){}};
            var d=document;s=d.createElement("script");
            s.type="text/javascript";
            s.id="zsiqscript";
            s.defer=true;
            s.src="https://salesiq.zoho.eu/widget";
            t=d.getElementsByTagName("script")[0];
            t.parentNode.insertBefore(s,t);
            d.write("<div id='zsiqwidget'></div>"); </script>

        <link href="_assets/css/form.css" rel="stylesheet" type="text/css">
        <script src="_assets/js/validation.js"></script>
        
        <div style="position:fixed;top:calc(50% - 250px);right:0;transition:width 300ms ease-out;width:0; z-index: 99;" data-qa="side_panel"> <a class="typeform-share button" href="https://form.typeform.com/to/KqtBEb6N?typeform-medium=embed-snippet" data-mode="side_panel" style="box-sizing:border-box;position:absolute;top:300px;width:230px;height:48px;padding:0 20px;margin:0;cursor:pointer;background:#75DBC7;border-radius:4px 4px 0px 0px;box-shadow:0px 2px 12px rgba(0, 0, 0, 0.06), 0px 2px 4px rgba(0, 0, 0, 0.08);display:flex;align-items:center;justify-content:flex-start;transform:rotate(-90deg);transform-origin:bottom left;color:white;text-decoration:none;z-index:9999;" data-hide-headers="true" data-hide-footer="true" data-width="320" data-height="500" target="_blank"> <span class="icon" style="width:32px;position:relative;text-align:center;transform:rotate(90deg) scale(0.85);left:-8px;"> <img alt="" src="https://images.typeform.com/images/9agMH7QtgJsU" style="max-width:24px;max-height:24px;margin-top:10px;" /> </span> <span style="text-decoration:none;font-size:18px;font-family:Helvetica,Arial,sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;">Is Luos for me? ü§î</span> </a> </div> <script> (function() { var qs,js,q,s,d=document, gi=d.getElementById, ce=d.createElement, gt=d.getElementsByTagName, id="typef_orm_share", b="https://embed.typeform.com/"; if(!gi.call(d,id)){ js=ce.call(d,"script"); js.id=id; js.src=b+"embed.js"; q=gt.call(d,"script")[0]; q.parentNode.insertBefore(js,q) } })() </script>
    </head>
    <body>

            <!-- Provide site root to javascript -->
            <script type="text/javascript">
                var path_to_root = "";
                var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
            </script>
    		
            <!-- Work around some values being stored in localStorage wrapped in quotes -->
            <script type="text/javascript">
                try {
                    var theme = localStorage.getItem('mdbook-theme');
                    var sidebar = localStorage.getItem('mdbook-sidebar');

                    if (theme.startsWith('"') && theme.endsWith('"')) {
                        localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                    }

                    if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                        localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                    }
                } catch (e) { }
            </script>

            <!-- Set the theme before any content is loaded, prevents flash -->
            <script type="text/javascript">
                var theme;
                try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
                if (theme === null || theme === undefined) { theme = default_theme; }
                var html = document.querySelector('html');
                html.classList.remove('no-js')
                html.classList.remove('light')
                html.classList.add(theme);
                html.classList.add('js');
            </script>

            <!-- Hide / unhide sidebar before it is displayed -->
            <script type="text/javascript">
                var html = document.querySelector('html');
                var sidebar = 'hidden';
                if (document.body.clientWidth >= 1080) {
                    try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                    sidebar = sidebar || 'visible';
                }
                html.classList.remove('sidebar-visible');
                html.classList.add("sidebar-" + sidebar);
            </script>

    		<nav id="sidebar" class="sidebar" aria-label="Table of contents">
    			<div id="sidebar-scrollbox" class="sidebar-scrollbox" style="padding-top: 100px;">
    				<ol class="chapter"><li class="chapter-item affix "><a href="index.html">Home</a></li><li class="chapter-item "><a href="pages/overview/general-basics.html"><strong aria-hidden="true">1.</strong> Basics</a></li><li class="chapter-item "><a href="pages/low/low-level.html"><strong aria-hidden="true">2.</strong> Low level</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pages/low/dev-env.html"><strong aria-hidden="true">2.1.</strong> Development environment</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pages/low/dev_env/general-integration-consideration.html"><strong aria-hidden="true">2.1.1.</strong> General integration</a></li><li class="chapter-item "><a href="pages/low/dev_env/platformio.html"><strong aria-hidden="true">2.1.2.</strong> PlatformIO</a></li><li class="chapter-item "><a href="pages/low/dev_env/arduino.html"><strong aria-hidden="true">2.1.3.</strong> Arduino</a></li></ol></li><li class="chapter-item "><a href="pages/low/hardware-topics.html"><strong aria-hidden="true">2.2.</strong> Hardware Topics</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pages/low/hardware_topics/minimal-requirements.html"><strong aria-hidden="true">2.2.1.</strong> Minimum Requirements</a></li><li class="chapter-item "><a href="pages/low/hardware_topics/electronic-design.html"><strong aria-hidden="true">2.2.2.</strong> Electronic design</a></li><li class="chapter-item "><a href="pages/low/hardware_topics/luos-hal.html"><strong aria-hidden="true">2.2.3.</strong> Use of Luos HAL</a></li></ol></li><li class="chapter-item "><a href="pages/low/containers.html"><strong aria-hidden="true">2.3.</strong> Containers</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pages/low/containers/create-project.html"><strong aria-hidden="true">2.3.1.</strong> Create Luos projects</a></li><li class="chapter-item "><a href="pages/low/containers/create-containers.html"><strong aria-hidden="true">2.3.2.</strong> Create Luos containers</a></li><li class="chapter-item "><a href="pages/low/containers/od.html"><strong aria-hidden="true">2.3.3.</strong> Object dictionary</a></li><li class="chapter-item "><a href="pages/low/containers/routing-table.html"><strong aria-hidden="true">2.3.4.</strong> Routing table</a></li><li class="chapter-item "><a href="pages/low/containers/msg-handling.html"><strong aria-hidden="true">2.3.5.</strong> Messages handling</a></li><li class="chapter-item "><a href="pages/low/containers/self-healing.html"><strong aria-hidden="true">2.3.6.</strong> Self-healing</a></li><li class="chapter-item "><a href="pages/low/containers/streaming.html"><strong aria-hidden="true">2.3.7.</strong> Streaming</a></li><li class="chapter-item "><a href="pages/low/containers/rt-config.html"><strong aria-hidden="true">2.3.8.</strong> Real-time configuration</a></li><li class="chapter-item "><a href="pages/low/containers/examples.html"><strong aria-hidden="true">2.3.9.</strong> Codes Examples</a></li></ol></li></ol></li><li class="chapter-item "><a href="pages/high/high-level.html"><strong aria-hidden="true">3.</strong> High level</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pages/high/json-api.html"><strong aria-hidden="true">3.1.</strong> JSON API</a></li><li class="chapter-item "><a href="pages/high/pyluos.html"><strong aria-hidden="true">3.2.</strong> Pyluos</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pages/high/containers_list/angle.html"><strong aria-hidden="true">3.2.1.</strong> Angle</a></li><li class="chapter-item "><a href="pages/high/containers_list/color.html"><strong aria-hidden="true">3.2.2.</strong> Color</a></li><li class="chapter-item "><a href="pages/high/containers_list/controller-motor.html"><strong aria-hidden="true">3.2.3.</strong> Controller motor</a></li><li class="chapter-item "><a href="pages/high/containers_list/dc-motor.html"><strong aria-hidden="true">3.2.4.</strong> DC motor</a></li><li class="chapter-item "><a href="pages/high/containers_list/distance.html"><strong aria-hidden="true">3.2.5.</strong> Distance</a></li><li class="chapter-item "><a href="pages/high/containers_list/dxl.html"><strong aria-hidden="true">3.2.6.</strong> Dynamixel motor</a></li><li class="chapter-item "><a href="pages/high/containers_list/gate.html"><strong aria-hidden="true">3.2.7.</strong> Gate</a></li><li class="chapter-item "><a href="pages/high/containers_list/imu.html"><strong aria-hidden="true">3.2.8.</strong> IMU</a></li><li class="chapter-item "><a href="pages/high/containers_list/light.html"><strong aria-hidden="true">3.2.9.</strong> Light</a></li><li class="chapter-item "><a href="pages/high/containers_list/servo.html"><strong aria-hidden="true">3.2.10.</strong> Servo motor</a></li><li class="chapter-item "><a href="pages/high/containers_list/state.html"><strong aria-hidden="true">3.2.11.</strong> State</a></li><li class="chapter-item "><a href="pages/high/containers_list/stepper.html"><strong aria-hidden="true">3.2.12.</strong> Stepper motor</a></li><li class="chapter-item "><a href="pages/high/containers_list/voltage.html"><strong aria-hidden="true">3.2.13.</strong> Voltage</a></li></ol></li><li class="chapter-item "><a href="pages/high/ros.html"><strong aria-hidden="true">3.3.</strong> ROS</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pages/high/ros/bike_alarm.html"><strong aria-hidden="true">3.3.1.</strong> ROS package example</a></li><li class="chapter-item "><a href="pages/high/ros/ros1.html"><strong aria-hidden="true">3.3.2.</strong> Retrocompatibility with ROS 1</a></li></ol></li></ol></li><li class="chapter-item "><a href="pages/demo_boards/demo-boards.html"><strong aria-hidden="true">4.</strong> Demonstration boards examples</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pages/demo_boards/electronic-use.html"><strong aria-hidden="true">4.1.</strong> Boards general use</a></li><li class="chapter-item "><a href="pages/demo_boards/quick-start.html"><strong aria-hidden="true">4.2.</strong> Quick start</a></li><li class="chapter-item "><a href="pages/demo_boards/boards-list.html"><strong aria-hidden="true">4.3.</strong> Boards list</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pages/demo_boards/boards_list/battery-power-input.html"><strong aria-hidden="true">4.3.1.</strong> Battery power input</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/button.html"><strong aria-hidden="true">4.3.2.</strong> Button</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/controller-motor.html"><strong aria-hidden="true">4.3.3.</strong> Controller motor</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/dc-motor.html"><strong aria-hidden="true">4.3.4.</strong> DC motor</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/distance.html"><strong aria-hidden="true">4.3.5.</strong> Distance sensor</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/dxl.html"><strong aria-hidden="true">4.3.6.</strong> Dynamixel motor</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/gpio.html"><strong aria-hidden="true">4.3.7.</strong> GPIO</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/imu.html"><strong aria-hidden="true">4.3.8.</strong> IMU</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/jack-power-input.html"><strong aria-hidden="true">4.3.9.</strong> Jack power input</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/light.html"><strong aria-hidden="true">4.3.10.</strong> Light sensor</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/led-strip.html"><strong aria-hidden="true">4.3.11.</strong> LED strip</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/potentiometer.html"><strong aria-hidden="true">4.3.12.</strong> Potentiometer</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/power-isolator.html"><strong aria-hidden="true">4.3.13.</strong> Power isolator</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/powerpi.html"><strong aria-hidden="true">4.3.14.</strong> Power Pi</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/powerswitch.html"><strong aria-hidden="true">4.3.15.</strong> Power switch</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/rgbled.html"><strong aria-hidden="true">4.3.16.</strong> RGB LED</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/servo.html"><strong aria-hidden="true">4.3.17.</strong> Servo motor</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/stepper.html"><strong aria-hidden="true">4.3.18.</strong> Stepper motor</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/usb.html"><strong aria-hidden="true">4.3.19.</strong> USB</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/wifible.html"><strong aria-hidden="true">4.3.20.</strong> Wifi BLE</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/wire-power-input.html"><strong aria-hidden="true">4.3.21.</strong> Wire power input</a></li><li class="chapter-item "><a href="pages/demo_boards/boards_list/cables.html"><strong aria-hidden="true">4.3.22.</strong> Cables</a></li></ol></li></ol></li></ol>
    			<p style="marging-bottom: 40px;"><a class="cust_menu_item" href="https://www.luos.io" target="_blank">Go to Luos.io &#8599;</a></p>
               
                </div>


                <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
            </nav>

            <script src="https://kit.fontawesome.com/e122236495.js" crossorigin="anonymous"></script>

            <div class="cust_menu_container">

                <div class="cust_column cust_logo_container">
                    <a href="https://docs.luos.io/"><img src="_assets/img/logo_luos_animated_white.gif" alt="Luos" id="logo" width="72px"></a>
                </div>

                <div class="cust_column cust_middle">

                    <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar"><i class="fa fa-bars"></i>
                    </button>
                    <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                        <i class="fa fa-paint-brush"></i>
                    </button>
                    <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                        <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                        <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                    </ul>
                    
                    <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                        <i class="fa fa-search"></i>
                    </button>
                    
                    <a href="print.html" title="Print this documentation" aria-label="Print this book"><i id="print-button" class="fa fa-print" style="padding-left: 5px;transform: translate(0px,1px) scale(0.8);"></i></a>

                </div>
                <div class="cust_column cust_right">

                    <a title="" target="_blank" href="https://www.luos.io/#technology">Technology</a>
                    <a title="" target="_blank" href="https://www.luos.io/pricing">Pricing</a>
                    <a title="" target="_blank" href="https://www.luos.io/appstore">Appstore</a>
                    <a title="" target="_blank" href="https://www.luos.io/blog">Blog</a>
                    <a style="color: #bd99ff;">Docs</a>
                    <a title="Download on Github" target="_blank" rel="noopener noreferrer" href="https://github.com/luos-io">Download</a>                    
                    

                </div>
            </div>

            <div id="page-wrapper" class="page-wrapper">

                <div class="page">
                    

                    
                    <div id="search-wrapper" class="hidden">
                        <form id="searchbar-outer" class="searchbar-outer">
                            <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                        </form>
                        <div id="searchresults-outer" class="searchresults-outer hidden">
                            <div id="searchresults-header" class="searchresults-header"></div>
                            <ul id="searchresults">
                            </ul>
                        </div>
                    </div>
                    

                    <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                    <script type="text/javascript">
                        document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                        document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                        Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                            link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                        });
                    </script>

                    <div id="content" class="content">
                        <main>
                            <h1 class="no-break"><a href="index.html#welcome" class="header" id="welcome">Welcome to Luos documentation</a></h1>
<p><small><a href="https://github.com/Luos-io/Luos" target="blank">Luos revision: 1.2.0</a></small></p>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>We started designing Luos with the conviction that building electronic systems should be made easier than it is today. Most of the time should be spent on designing the applications and behaviors instead of on complex and time-and-money-eating technicalities. To give a simple example, adding a new sensor ‚Äîfor instance a distance sensor‚Äî to an electronic device in conception should not take more than a few minutes. So you can try, test and iterate fast on a project to truly design what users want.</p>
<p><strong>Luos works like a <a href="https://en.wikipedia.org/wiki/Microservices" target="_blank">microservices architecture</a> in the software world, and a containerization platform: it encapsulates any software or hardware function to make it communicate and work with any other encapsulated container, however it was developed, either on bare metal or on top of an embedded OS.</strong></p>
<h3 id="you-are-not-familiar-with-luos-operations-follow-this-flowchart"><a class="header" href="#you-are-not-familiar-with-luos-operations-follow-this-flowchart">You are not familiar with Luos operations? Follow this flowchart:</a></h3>
<div id="container1">
<figure  class="print-break">
  <figcaption></figcaption>
  <ul class="tree">
    <li class="wf_li"><span class="cust_choice"><img src="./_assets/img/logo-luos.png" width="100px"><br /><strong>What do you want to do?</strong></span>
      <ul class="wf_ul">
        <li class="wf_li"><span class="cust_basics"><a name="step2"></a><a name="step3"></a><a href="./pages/overview/general-basics.html">Begin with the <b>basics</b></a></span>
          <ul class="wf_ul">
            <li class="wf_li"><span class="cust_choice"><strong class="cust_number">&#9312;</strong><br />Build a Luos-ready board</span>
              <ul class="wf_ul">
                <li class="wf_li"><span><a href="./pages/low/hardware_topics/electronic-design.html">Read about the <b>electronic design rules</b></a></span>
                	<ul class="wf_ul">
                		<li class="wf_li"><span><a href="index.html#step2">Go to 2 <strong>&#8599;</strong></a></span>
                		</li>
                	</ul>
                </li>
              </ul>
            </li>
           <li class="wf_li"><span class="cust_choice"><strong class="cust_number">&#9313;</strong><br />Make <b>drivers</b> and <b>apps</b> for your hardware</span>
              <ul class="wf_ul">
                <li class="wf_li"><span><a href="./pages/low/dev-env.html">Choose and configure your <b>development environment</b></a></span>
                	<ul class="wf_ul">
                		<li class="wf_li"><span><a href="./pages/low/containers.html">Read about <b>containers</b> and how they work
</a></span>
                			<ul class="wf_ul">
                				<li class="wf_li"><span><a href="./pages/low/containers/create-project.html">Create a <b>project</b></a><br /> and <br /><a href="./pages/low/containers/create-containers.html">start creating <b>containers</b></a></span>
                					<ul class="wf_ul">
                						<li class="wf_li"><span>Learn more about the tools and configurations available with Luos:<br /> 
											&#8594; <a href="./pages/low/containers/od.html"><b>Object dictionary</b></a><br />
											&#8594; <a href="./pages/low/containers/routing-table.html"><b>Routing table</b></a><br />
											&#8594; <a href="./pages/low/containers/msg-handling.html"><b>Messages handling</b></a><br />
											&#8594; <a href="./pages/low/containers/self-healing.html"><b>Self-healing</b></a><br />
											&#8594; <a href="./pages/low/containers/streaming.html"><b>Streaming</b></a><br />
											&#8594; <a href="./pages/low/containers/rt-config.html"><b>Real-time</b> configuration</a></span>
                							<ul class="wf_ul">
                								<li class="wf_li"><span><a href="./pages/low/containers/examples.html">Read the Codes Examples</a> and <a href="https://community.luos.io/t/a-new-way-to-design-embedded-app-using-luos-intro/277">follow the bike alarm tutorial</a>
												</span>
													<ul class="wf_ul">
								                		<li class="wf_li"><span><a href="index.html#step3">Go to 3 <strong>&#8599;</strong></a></span>
								                		</li>
								                	</ul>
                								</li>
                							</ul>
                						</li>
                					</ul>
                				</li>
                			</ul>
                		</li>
                	</ul>
                </li>
              </ul>
            </li>
            <li class="wf_li"><span class="cust_choice"><strong class="cust_number">&#9314;</strong><br />Use Luos-ready boards and containers</span>
                <ul class="wf_ul">
                	<li class="wf_li"><span><a href="./pages/high/json-api.html#"><img src="./_assets/img/json-logo.png" width="60px"><br />Learn how to use the <b>JSON API</b></a></span>
                		<ul class="wf_ul">
                			<li class="wf_li"><span><a href="./pages/high/pyluos.html"><img src="./_assets/img/python-logo.png" width="60px"><br />Read about <b>Pyluos</b> and how to create behaviors</a></span>
                        <ul class="wf_ul">
                          <li class="wf_li"><span><a href="./pages/high/ros.html"><img src="./_assets/img/ros-logo.png" width="60px"><br />Read about <b>ROS</b> integration and how to use it with Luos</a></span>
                          </li>
                        </ul>
                			</li>
                		</ul>
                	</li>
                </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</figure>
</div>
<p>If you have questions about a specific topic, you can refer or ask it on the <a href="https://community.luos.io" target="_blank">Luos' Forum</a>. And if you have suggestions about this documentation don't hesitate to create pull requests.</p>
<p>Watch this video for additional details:</p>
<iframe class="cust_video" src="https://www.youtube.com/embed/xQe3z0M_FE8?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br />
<p><small>Luos is under <a href="https://github.com/Luos-io/Luos/blob/master/LICENSE" target="_blank">Apache 2.0 license</a>.</small></p>
<h1 id="general-guide-to-luos-technology"><a class="header" href="#general-guide-to-luos-technology">General guide to Luos technology</a></h1>
<p>Take most embedded systems, and you will find the same architecture. The dictatorship of electronics; one central microcontroller that has direct control over all components. Sensors, actuators, all of them will be controlled by one chip, and ultimately, one program.
Sometimes, a design will have more than one microcontroller, but will ultimately be controlled by one central device. It will be up to the designers to implement an inter-device communication protocol, using any bus available, including instructions and messaging, but also error handling. A significant portion of time is spent on software development.
Other times, hardware constraints will force you to separate your electronics on to several boards, potentially making interconnection troublesome. </p>
<h2 id="introduction-to-embedded-containerized-platforms"><a class="header" href="#introduction-to-embedded-containerized-platforms">Introduction to embedded containerized platforms</a></h2>
<p>Luos aims to change the way you develop by containerizing services on your devices. A microcontroller can host a series of services, like data acquisition from sensors to actuators like motors and relays. These services are placed inside <strong>Containers</strong>. Prepare your containers, and deploy them anywhere on a Luos network, and you will be able to communicate directly with your containers, no matter where they are on the network. Containers can be dynamically connected and disconnected, and can be detected by your application.
Imagine an industrial device. We will build a system with multiple sensors to monitor the device. It might contain several temperature sensors that will monitor specific parts of the system, and our system will need to know exactly what they monitor. When we read the temperature of the industrial motor, we need to get the information from the motor, not from the power supply. These sensors are placed into containers, and clearly state which components they monitor.
If the device encounters a problem, we need to notify anyone around of an incident. This could be a flashing light, a siren, or any other way of notifying people. In this case, it doesn't matter where the peripherals are placed, or even how many there are, Luos can notify all containers that identify as an alarm to activate. Alarms can even be added to the Luos network while it is operating, and they will be recognized and used.
Finally, it doesn't matter where on the Luos network sensors or actuators are placed. You can wire the different elements together as you want, each element will be detected, and you will be able to use all of your containers, wherever they are. </p>
<h2 id="introduction-to-luos"><a class="header" href="#introduction-to-luos">Introduction to Luos</a></h2>
<p>Luos is a simple and lightweight containerization platform dedicated to embedded systems enabling a <a href="https://en.wikipedia.org/wiki/Microservices" target="_blank">microservices</a> architecture for electronics. It's a powerful tool using modularity to simplify and link any hardware component or application code together as a <a href="https://en.wikipedia.org/wiki/Single_system_image" target="_blank">single system image</a>.</p>
<p>This guide contains all the basic notions you will need to use, create and understand Luos technology.</p>
<p>Luos is a low-level software technology uploaded into every board's (<span class="cust_tooltip"><a href="pages/overview/general-basics.html#what-is-a-node"><strong>node</strong></a><span class="cust_tooltiptext">Hardware element (MCU) hosting and running Luos and hosting one or several containers.</span></span>) of a device.
You can use Luos as a <strong>bare metal</strong> lib or as a driver into your <strong>embedded OS</strong>.</p>
<p>Luos is composed as well of <strong>code subdivisions</strong> called <span class="cust_tooltip"><a href="pages/overview/general-basics.html#container"><strong>containers</strong></a><span class="cust_tooltiptext">Software element run by Luos that can communicate with other containers. It can be a driver or an app. (Initially called a module)</span></span>. Containers are distributed into every nodes in a network.</p>
<p><a href="pages/overview/../../_assets/img/feature-container-node-board.jpg" target="_blank"><img src="pages/overview/../../_assets/img/feature-container-node-board.jpg" width="800px" /></a></p>
<h2 id="what-is-a-node"><a class="header" href="#what-is-a-node">What is a Node?</a></h2>
<p>A node is a physical component (hardware) running Luos and hosting one or several containers. In a Luos network, nodes are all connected together using <span class="cust_tooltip">Robus<span class="cust_tooltiptext">Bus communication protocol used by Luos.</span></span>, the Luos communication technology.<br/>In other words, <strong>a node is a microcontroler</strong> connected to other microcontrolers running Luos.
In the Luos philosophy, each node has to carry the necessary programs (containers) allowing it to manage its boards and features.</p>
<img src="pages/overview/../../_assets/img/MCU-luos.png" height="100px" />
<p>Nodes can have capacities such as measuring the core temperature, sending the processor's unique ID or input voltage. A node's capacities are commonly shared by all the containers hosted into it and are accessible through each of them.</p>
<h2 id="container"><a class="header" href="#container">Container</a></h2>
<p>A container is code hosted on a Node. It can provide both inputs and outputs. An input could be a temperature sensor, a push button, an I2C sensor, or any other input that you would usually use on your microcontroller design. An output could be an I2C device, or a DAC, GPIO line, PWM or timer output, or any output that you are used to using in your design.
Containers, much like their server-world counterparts, can be placed anywhere in your infrastructure. Containers will be placed on the Luos network, and you do not need to know where in the network your container is located, it will be automatically detected on bootup, and accessible. The network can physically change, and your containers will still be available.</p>
<p><strong>Each container is hosted in a single node</strong>, but a node can handle several containers at the same time and manage communication between them and between other containers hosted in other nodes, using the same interface.</p>
<p>For example, the <a href="pages/overview/../demo_boards/boards_list/dxl.html">Dynamixel board</a> provided by Luos can dynamically create and manage Dynamixel containers depending on the number of Dynamixel motors linked to it. Any Dynamixel containers can get or set values to other Dynamixel containers on the same node or to any other containers in any other nodes in the network.</p>
<p><a href="pages/overview/../low/containers.html">Go to Containers page</a>.</p>
<h2 id="app"><a class="header" href="#app">App</a></h2>
<p>An App is a special type of container, one that does not provide any hardware operations, but will contain the intelligence of your product. This is where you will concentrate your code and development time.</p>
<p>While your app does not contain any hardware capabilites (sensors or actuators), an App can talk to your containers to receive information, or to give orders. For example, an App will not have direct access to sensors or to digital outputs, but will be able to communicate with containers that do offer hardware capabilities. </p>
<h2 id="messages"><a class="header" href="#messages">Messages</a></h2>
<p>Communications between continers and apps is performed through Messages. A message contains information on the destination container(s), the type of operation to be performed (a read or write operation and the type of message) as well as any supplemental data. The message will be sent on the network, and will arrive at destination, no matter where the container is placed on the network.</p>
<p><a href="pages/overview/../low/containers/msg-handling.html">Go to Messages handling page</a>.</p>
<h2 id="container-detection"><a class="header" href="#container-detection">Container detection</a></h2>
<p>Containers on the network are automatically detected, and assigned IDs depending on their node's physical position in the network, and a routing table is generated.</p>
<p>IDs are assigned from the nearest to the furthest node branch by branch, from the point of view of the container running the detection. Following this logic, the container running the detection will have the ID 1, the next one will have the ID 2, etc.</p>
<blockquote>
<p><em>Note:</em> Multiple detections by different containers at the same time is not allowed.</p>
</blockquote>
<p>It is possible to execute a detection on the network frequently in order to dynamically discover included or excluded containers while running, detecting if hardware has been added or removed. Go to <a href="pages/overview/../low/containers/routing-table.html">Routing table</a> page for more information.</p>
<h2 id="routing-table"><a class="header" href="#routing-table">Routing table</a></h2>
<p>A routing table is a &quot;service&quot; managed by the Luos network and available for any containers on any nodes. This service lists all the containers on the network and allows any containers to access and use basic information of any other containers. The routing table's data can be loaded or auto-generated during detection, and can be refreshed on demand.</p>
<p><a href="pages/overview/../low/containers/routing-table.html">Go to Routing table page</a>.</p>
<h1 id="low-level"><a class="header" href="#low-level">Low level</a></h1>
<p>In an embedded development project, low level is the part which is the closest to the hardware, the programming of microcontrollers or the electronics of a system. This part of the Luos documentation is dedicated to people designing their own electronic boards or their specific embedded code.</p>
<p>Let's start by setting up your <a href="pages/low/./dev-env.html"><strong>development environment</strong></a>, then you can start your <a href="pages/low/./hardware_topics/electronic-design.html"><strong>electronic design</strong></a> and your <a href="pages/low/./containers.html"><strong>containers</strong></a> creation.</p>
<h1 id="setup-your-development-environment"><a class="header" href="#setup-your-development-environment">Setup your development environment</a></h1>
<p>Before starting developing with Luos, you need to have an operational development environment.
At Luos, we use PlatformIO to share all our examples and to make our lib integration easy, but of course you can use your favorite IDE and integrate our libs by yourself.</p>
<h1 id="general-integration-consideration"><a class="header" href="#general-integration-consideration">General integration consideration</a></h1>
<h2 id="library"><a class="header" href="#library">Library</a></h2>
<p>Luos works as a code library running on nodes. To match Luos library with your hardware, Luos offers a <em>Hardware Abstraction Layer</em> for various devices in <span class="cust_tooltip">LuosHAL<span class="cust_tooltiptext">Hardware Abstraction Layer used to fit Luos with various hardware designs.</span></span>.</p>
<ul>
<li><a href="https://github.com/Luos-io/LuosHAL" target="_blank">LuosHAL</a>: This repository provides a list of family devices covered to match the Luos library with your hardware.</li>
<li><a href="https://github.com/Luos-io/Luos" target="_blank">Luos</a>: This is the main library you will be working with.</li>
</ul>
<p>To make it work in your environment, you have to:</p>
<ul>
<li>Include the Luos lib folders in your project compilation;</li>
<li>Select the right LuosHAL for your device family in LuosHAL folder, and include <code>luos_hal.c</code>, <code>luos_hal.h</code> and <code>luos_hal_config.h</code> in your project;</li>
<li>Change, if necessary, <code>luos_hal_config.h</code> in you project, the default configuration created by Luos (before including <code>luos.h</code>) in order to match LuosHAL with your hardware (eg: match pins with your design);</li>
<li>Include <code>luos.h</code> on your source file.</li>
</ul>
<h2 id="configuration"><a class="header" href="#configuration">Configuration</a></h2>
<p>Through the configuration file <a href="https://github.com/Luos-io/Luos/tree/master/Robus/inc/config.h" target="_blank">config.h</a>, Luos allows users to customize many parameters needed for the library. These parameters can be set as compiler variables listed above:</p>
<table><thead><tr><th align="center">Parameters</th><th align="center">Defaults value</th><th align="center">Description</th></tr></thead><tbody>
<tr><td align="center">PROTOCOL_REVISION</td><td align="center">0</td><td align="center">Luos protocol version.</td></tr>
<tr><td align="center">DEFAULTBAUDRATE</td><td align="center">1Mbps</td><td align="center">Default network bauderate.</td></tr>
<tr><td align="center">MAX_DATA_MSG_SIZE</td><td align="center">128</td><td align="center">Number of bytes of the data field.</td></tr>
<tr><td align="center">NBR_NAK_RETRY</td><td align="center">10</td><td align="center">Number of retries to send after a received NAK.</td></tr>
<tr><td align="center">MAX_CONTAINER_NUMBER</td><td align="center">5</td><td align="center">Number of containers in the node (memory optimisation).</td></tr>
<tr><td align="center">MSG_BUFFER_SIZE</td><td align="center">3*size_msg</td><td align="center">Message buffer size. Max size of a message (3 * (7 bytes header + 128 bytes data + 2 bytes CRC)).</td></tr>
<tr><td align="center">MAX_MSG_NB</td><td align="center">2*MAX_CONTAINER_NUMBER</td><td align="center">Max number of messages for a container that can be buffered.</td></tr>
<tr><td align="center">NBR_PORT</td><td align="center">2</td><td align="center">Number of PTP on the node ( max 8). See <a href="pages/low/dev_env/../hardware_topics/electronic-design.html">electronic design</a> page.</td></tr>
</tbody></table>
<h1 id="setup-a-luos-platformio-project"><a class="header" href="#setup-a-luos-platformio-project">Setup a Luos PlatformIO project</a></h1>
<p><a href="https://platformio.org/" target="_blank">PlatformIO</a> is a cross-platform, cross-architecture, multiple framework, professional tool for embedded systems engineers and for software developers who write applications for embedded products. It can be used as a plug-in in a lot of <a href="https://docs.platformio.org/en/latest/integration/ide/index.html#desktop-ide" target="_blank">different editors</a>.</p>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<ol>
<li>Install Platform IO on VSCode by following the instructions on <a href="https://platformio.org/platformio-ide" target="_blank">this page</a>.</li>
<li>Create a new project on PlatformIO</li>
<li>Add Luos as a dependancy and select HAL on your <code>platformio.ini</code> file:</li>
</ol>
<pre><code class="language-Json">lib_deps = Luos
board = &lt;board name&gt;
</code></pre>
<p>Replace <code>&lt;board name&gt;</code> with the name of the board you are using, eg. <code>board = l0</code> for the L0 board.</p>
<blockquote>
<p><em>Note:</em> More information about how Luos libraries are managed into PlatformIO is available by <a href="https://community.luos.io/t/how-to-link-luos-with-platformio/303" target="\_blank">reading this post on our forum</a>.</p>
</blockquote>
<h3 id="project-examples"><a class="header" href="#project-examples">Project examples</a></h3>
<p>Luos provides a lot of <a href="https://github.com/Luos-io/Examples/tree/master/Projects" target="_blank">code examples</a>, feel free to use and modify them as you want.</p>
<h2 id="demonstration-boards"><a class="header" href="#demonstration-boards">Demonstration boards</a></h2>
<p>Luos created <a href="pages/low/dev_env/../../demo_boards/boards-list.html">a sets of demonstration boards</a> to allow you to easily test the technology.</p>
<h1 id="setup-a-luos-arduino-project"><a class="header" href="#setup-a-luos-arduino-project">Setup a Luos Arduino project</a></h1>
<p><a href="https://www.arduino.cc/" target="_blank">Arduino</a> is an open-source electronic platform based on easy-to-use hardware and software. The Luos library can be used in Arduino IDE and examples are provided to quickly test it on Arduino hardware. For now, only Arduino SAM Board 32-bits ARM cortex-M0+ are compatible with Luos Library (Arduino Zero, Arduino MKR Wifi, Arduino MKR FOX, Arduino MKR WAN, Arduino MKR GSM, Arduino NB, etc).</p>
<p>Creating a Luos Network with an Arduino board is very easy. Use D0 and D1 for Tx and Rx, D2 and D3 for Rx_En and Tx_En (RS485 configuration), D5 and D6 for PTPA and PTPB. See the <a href="pages/low/dev_env/../hardware-topics.html">hardware topics</a> page for more information.</p>
<h2 id="getting-started-1"><a class="header" href="#getting-started-1">Getting Started</a></h2>
<ol>
<li>Install Ardiuno IDE from <a href="https://www.arduino.cc/" target="_blank">Arduino</a> website.</li>
<li>Copy and paste the following URL into the <em>File &gt; Preferences &gt; &quot;Additional Boards Manager&quot;</em> textbox.</li>
</ol>
<pre><code class="language-Json">https://raw.githubusercontent.com/Luos-io/Arduino_core/main/package_luos_index.json
</code></pre>
<p><img src="pages/low/dev_env/../../../_assets/img/arduino_board_luos_preferences.png" alt="" /></p>
<ol start="3">
<li>
<p>Install the Luos adapted Arduino SAMD Library in <em>Boards &gt; &quot;Add board definition&quot; &gt; Search for &quot;Luos&quot; &gt; Install &quot;Luos adapted Arduino SAMD (32-bits ARM Cortex-M0+) Boards&quot;</em></p>
</li>
<li>
<p>Install the Arduino SAMD Library in <em>Boards &gt; &quot;Add board definition&quot; &gt; Search for &quot;SAMD&quot; &gt; Install Arduino SAMD Library</em>:</p>
</li>
</ol>
<p><img src="pages/low/dev_env/../../../_assets/img/arduino_Luos_board.png" alt="" /></p>
<ol start="5">
<li>
<p>Download Luos Library <a href="https://github.com/Luos-io/Luos/releases/tag/1.1.1" target="_blank">on GitHub ‚Üó</a>. </p>
</li>
<li>
<p>Include Luos Library to your IDE:</p>
</li>
</ol>
<p><img src="pages/low/dev_env/../../../_assets/img/arduino_include_library.png" alt="" /></p>
<ol start="7">
<li>Use provided Luos example, then compile and upload it to your Arduino board:</li>
</ol>
<p><img src="pages/low/dev_env/../../../_assets/img/arduino_Luos_example.png" alt="" /></p>
<h1 id="luos-network"><a class="header" href="#luos-network">Luos network</a></h1>
<p>Luos uses a communication protocol called <span class="cust_tooltip">Robus<span class="cust_tooltiptext">Bus communication protocol used by Luos.</span></span> to communicate with other containers. 
Luos can work on a single node or create a network for the communication between containers located on different nodes. This communication goes through a physical layer, which must be adapted to your own design (through the file <code>luos_hal_config.h</code>). </p>
<p>To create a Luos network, various serial bus technologies can be chosen to fit with your design, however Luos provides 2 default references designed to faciliate Luos Library integration and easy network creation. One design is based on RS485, responding to many technical issues of a serial bus like multimastering, speed, robustness and safety, etc. The second one is based on a usart half-duplex called One-wire.</p>
<p>List of advantages and drawbacks for each bus:</p>
<table><thead><tr><th align="center">Network</th><th align="center">Advantages</th><th align="center">Drawbacks</th></tr></thead><tbody>
<tr><td align="center">One-wire</td><td align="center">Needs only 4 GPIO; Simple; 100% Collision detection</td><td align="center">No recessive bit and no collision avoidance; Short distance wires; Less nodes connectable to network; 1 Mbps</td></tr>
<tr><td align="center">RS485</td><td align="center">Noise immunity; Long distance wires; 256 nodes connectable to network; 10 Mbps</td><td align="center">Needs 5 GPIO and a RS485 tranceiver; Collision avoidance not secured</td></tr>
</tbody></table>
<h1 id="minimum-requirements"><a class="header" href="#minimum-requirements">Minimum requirements</a></h1>
<p>Luos Library uses hardware and software MCU ressources. Here are the minimum requirements to make Luos Library work properly:</p>
<h2 id="mcu-consideration"><a class="header" href="#mcu-consideration">MCU consideration</a></h2>
<table><thead><tr><th align="center">Hardware</th><th align="center">Specification</th></tr></thead><tbody>
<tr><td align="center">Flash</td><td align="center">Luos Library uses less than 15 kB of Flash memory</td></tr>
<tr><td align="center">RAM</td><td align="center">Luos Library uses at least 2 kB of RAM for Library usage and protocol message buffering</td></tr>
<tr><td align="center">Stack</td><td align="center">512 B</td></tr>
<tr><td align="center">Heap</td><td align="center">0 needed</td></tr>
<tr><td align="center">GPIO</td><td align="center">4 in one wire / 5 in RS485</td></tr>
<tr><td align="center">Ressources</td><td align="center">1 USART, 1 Timer (option : DMA and CRC)</td></tr>
</tbody></table>
<h2 id="network-consideration"><a class="header" href="#network-consideration">Network consideration</a></h2>
<table><thead><tr><th align="center">MCU frequency</th><th align="center">Bus frequency</th></tr></thead><tbody>
<tr><td align="center">&gt;=48 MHz</td><td align="center">1 Mbps</td></tr>
<tr><td align="center">&gt;=32 MHz</td><td align="center">500 kbps</td></tr>
<tr><td align="center">&gt;=16 MHz</td><td align="center">250 kbps</td></tr>
<tr><td align="center">&gt;=8 MHz</td><td align="center">100 kbps</td></tr>
</tbody></table>
<h1 id="integrating-luos-into-an-electronic-board"><a class="header" href="#integrating-luos-into-an-electronic-board">Integrating Luos into an electronic board</a></h1>
<p>To create and match with a default reference design, electronic boards must respect some design rules in order to properly work in a Luos network.</p>
<h2 id="electronic-design"><a class="header" href="#electronic-design">Electronic design</a></h2>
<p>Board examples and electronic sources are available <a href="https://github.com/Luos-io/Examples/tree/master/Projects" target="_blank">on GitHub</a>. You are free to use them as you want.</p>
<p>You can Find the schematic of a Luos ready board call L0 for a quick hardware example (available <a href="https://github.com/Luos-io/Examples/tree/master/Hardware/l0" target="_blank">on GitHub</a>).</p>
<p>A Luos-friendly electronic board must contain <em>at least</em> the following elements:</p>
<ul>
<li><strong>1</strong> <a href="https://en.wikipedia.org/wiki/Microcontroller" target="_blank"><strong>MCU</strong></a> (microcontroller unit): It hosts, as a node, the Luos firmware along with the different <span class="cust_tooltip">containers<span class="cust_tooltiptext">Software element run by Luos that can communicate with other containers. It can be a driver or an app. (Initially called a module)</span></span> (drivers and apps).</li>
<li><strong>At least 2 connectors</strong>: They allow to link boards together into a Luos network as a daisy-chain. Through PTP pins, nodes know if there is another node connected to the connector. This is used when the user wants to make a topology detection of the system.</li>
</ul>
<h2 id="one-wire-reference-design"><a class="header" href="#one-wire-reference-design">One-wire reference design</a></h2>
<p><img src="pages/low/hardware_topics/../../../_assets/img/Luos_Network_Interface_OW.png" alt="" />
Luos' One-wire official connector is: <a href="https://octopart.com/df11-4dp-2ds%2852%29-hirose-261749" target="_blank"><em>DF11-4DP-2DS</em></a>.</p>
<h2 id="rs485-reference-design"><a class="header" href="#rs485-reference-design">RS485 reference design</a></h2>
<p><img src="pages/low/hardware_topics/../../../_assets/img/Luos_Network_Interface_485.png" alt="" />
Luos' RS485 official connector is: <a href="https://octopart.com/df11-8dp-2ds%2824%29-hirose-39521447" target="_blank"><em>DF11-8DP-2DS</em></a>.</p>
<h2 id="compatible-mcus"><a class="header" href="#compatible-mcus">Compatible MCUs</a></h2>
<p>Luos manages any type of microcontrollers, but they need to be added manually to the library. If your microcontroller is not supported yet, please contact us:</p>
<ul>
<li>by mail: <a href="mailto:hello@luos.io">hello@luos.io</a></li>
<li>on <a href="https://github.com/Luos-io/Luos/issues/new?assignees=nicolas-rabault&labels=porting&template=porting-request.md&title=%5BMCU+PORTING%5D+" target="_blank">GitHub</a></li>
</ul>
<h2 id="ptp"><a class="header" href="#ptp">PTP</a></h2>
<p>Peer-to-peer connection between nodes for topology detection.</p>
<h3 id="daisy-chain"><a class="header" href="#daisy-chain">Daisy-chain</a></h3>
<p>With 2 PTP pins per board, you must chained you device as below:
<img src="pages/low/hardware_topics/../../../_assets/img/daisy_chain.png" alt="" /></p>
<h3 id="star-mounting"><a class="header" href="#star-mounting">Star Mounting</a></h3>
<p>With at least 3 PTP pins per board, you can create a star mounting configuration:
<img src="pages/low/hardware_topics/../../../_assets/img/star_mounting.png" alt="" /></p>
<h1 id="luos-hardware-abstraction-layer"><a class="header" href="#luos-hardware-abstraction-layer">Luos Hardware Abstraction Layer</a></h1>
<h2 id="luos-library-robus-communication-protocol-and-physical-bus"><a class="header" href="#luos-library-robus-communication-protocol-and-physical-bus">Luos library, Robus communication protocol, and physical bus</a></h2>
<p>Luos can work on a single node or it can create a network for communication between containers located on different nodes. This communication should be defined and hardware-configured to fit with the chosen MCU. The files luos_hal.c and luos_hal.h define all the functions needed by the Luos library to send messages through the bus and create the initialization of all hardware MCU components.
The file luos_hal_config.h file contains a default config for an MCU family and can be redefined in your project to fit with your design.</p>
<h2 id="luos-hal"><a class="header" href="#luos-hal">Luos HAL</a></h2>
<p>Lists of all the functions using hardware components relative to protocol communication and physical bus:</p>
<ul>
<li><strong>PORT</strong>: Defines necessary pins, PTP lines, Rx/Tx, enable/disable</li>
<li><strong>TIMER</strong>: Defines timeouts for communications</li>
<li><strong>COM</strong>: Serial bus</li>
<li><strong>CRC</strong>: Validates messages. CRC can be generated by hardware or software</li>
<li><strong>DMA</strong>: Used by default with COM but can be disabled</li>
<li><strong>FLASH</strong>: Storing of containers' aliases in the system</li>
</ul>
<h2 id="luos-hal-configuration"><a class="header" href="#luos-hal-configuration">Luos HAL configuration</a></h2>
<p><code>luos_hal_config.h</code> defines a default configuration pinout, serial bus for a MCU Family.</p>
<p>Luos covers many <a href="https://github.com/Luos-io/LuosHAL" target="_blank">Hardware Abstraction Layers for MCU Families</a>, so you can choose the right one for your MCU.
To match pinout and fonctionality with your design, you can create a file <code>hardware_config.h</code> in <code>main.c</code>, for example, and include the file in your project before <code>including luos.h</code>:</p>
<pre><code class="language-C">#include &quot;hardware_config.h&quot;
#include &quot;luos.h&quot;

int main(void)
{
    Luos_Init();
    Container_Init();
    while(1)
    {
        Luos_Loop();
        Container_Loop();
    }
    return 0;
}

</code></pre>
<p>This way you are able to predefine hardware configuration for Luos in the file <code>hardware_config.h</code>.
For example, using USART3 in your design instead of USART1 defined by <code>luos_hal_config.h</code> is defined as followed:</p>
<pre><code class="language-C">#define COM_TX_PIN                  10
#define COM_TX_PORT                 GPIOA
#define COM_TX_AF                   GPIO_AF1_USART3

#define COM_RX_PIN                  11
#define COM_RX_PORT                 GPIOA
#define COM_RX_AF                   GPIO_AF1_USART3


#define LUOS_COM_CLOCK_ENABLE()     __HAL_RCC_USART3_CLK_ENABLE()
#define LUOS_COM                    USART3
#define LUOS_COM_IRQ                USART3_IRQn
#define LUOS_COM_IRQHANDLER()       USART3_IRQHandler()

</code></pre>
<p>There are many possible configurations that you can change, not all of them being necessary for your design:</p>
<h3 id="pinout"><a class="header" href="#pinout">Pinout</a></h3>
<table><thead><tr><th align="center">Function</th><th align="center">Description</th><th align="center">Comments</th></tr></thead><tbody>
<tr><td align="center">PORT_CLOCK_ENABLE</td><td align="center">Activates clock for GPIO</td><td align="center">Depends on port</td></tr>
<tr><td align="center">RX_EN_PIN/TX_EN_PIN</td><td align="center">Chooses pinout to activate Rx/Tx comms</td><td align="center">Necessary for special comms</td></tr>
<tr><td align="center">COM_TX_PIN/COM_RX_PIN</td><td align="center">Chooses pinout for Rx/Tx comms</td><td align="center">Adapts to the chosen serial bus</td></tr>
<tr><td align="center">PTPX_PIN/PTPX_IRQ/PINOUT_IRQHANDLER</td><td align="center">Chooses pinout, IRQ and callback for the PTP line</td><td align="center">Necessary for topology detection</td></tr>
</tbody></table>
<h3 id="communication"><a class="header" href="#communication">Communication</a></h3>
<table><thead><tr><th align="center">Function</th><th align="center">Description</th><th align="center">Comments</th></tr></thead><tbody>
<tr><td align="center">LUOS_COM_CLOCK_ENABLE</td><td align="center">Activates clock for serial</td><td align="center">Depends on serial bus</td></tr>
<tr><td align="center">LUOS_COM/LUOS_COM_IRQ/LUOS_COM_IRQHANDLER</td><td align="center">Chooses serial bus, IRQ and callback</td><td align="center">Adapts to the serial bus chosen</td></tr>
<tr><td align="center">LUOS_DMA_CLOCK_ENABLE</td><td align="center">Activates clock for DMA</td><td align="center">Necessary for for Tx</td></tr>
<tr><td align="center">LUOS_DMA_CHANNEL</td><td align="center">Chooses Channel</td><td align="center">Send Tx</td></tr>
</tbody></table>
<h3 id="timer"><a class="header" href="#timer">Timer</a></h3>
<table><thead><tr><th align="center">Function</th><th align="center">Description</th><th align="center">Comments</th></tr></thead><tbody>
<tr><td align="center">LUOS_TIMER_CLOCK_ENABLE</td><td align="center">Activates clock for Timeout</td><td align="center">Necessary for Timeout</td></tr>
<tr><td align="center">LUOS_TIMER/LUOS_TIMER_IRQ/LUOS_TIMER_IRQHANDLER</td><td align="center">Chooses Timer, IRQ and callback</td><td align="center">Necessary for Timeout</td></tr>
</tbody></table>
<h3 id="flash"><a class="header" href="#flash">Flash</a></h3>
<table><thead><tr><th align="center">Function</th><th align="center">Description</th><th align="center">Comments</th></tr></thead><tbody>
<tr><td align="center">PAGE_SIZE/ADRESS_LAST_PAGE</td><td align="center">Defines space in flash for alias</td><td align="center">Necessary to rename container alias</td></tr>
</tbody></table>
<h1 id="containers"><a class="header" href="#containers">Containers</a></h1>
<p>A container is a block of code which will provide functionality. Containers are able to communicate with any other containers present in the Luos network. </p>
<p>A container can be an <a href="pages/low/./containers/create-containers.html#apps-guidelines">application</a> or a <a href="pages/low/./containers/create-containers.html#drivers-guidelines">driver</a>.</p>
<p>Each container provides a particular set of tasks such as managing a motor, handling a laser range finder, or more complex operations like computing an inverse-kinematics.</p>
<p>Each container is hosted in a single <span class="cust_tooltip">node<span class="cust_tooltiptext">Hardware element (MCU) hosting and running Luos and hosting one or several containers.</span></span> (MCU), but a node can handle several containers at the same time and manage communication between them and between other containers hosted in other nodes, using the same network interface.</p>
<p><strong>As a developer you will always develop your functionalities into containers, and never into the <code>main()</code> program.</strong> The only information that should be put on the <code>main()</code> code are MCU setup parameters and containers' run functions.</p>
<h2 id="container-properties"><a class="header" href="#container-properties">Container properties</a></h2>
<p>To properly work, each container has some properties allowing other containers to recognize and access it:</p>
<table><thead><tr><th align="center">Name</th><th align="center">Description</th><th align="center">Format</th></tr></thead><tbody>
<tr><td align="center"><strong>ID</strong></td><td align="center">The ID is a unique number given to each container depending on their physical position. The system automatically assigns each ID during the <a href="pages/low/../overview/general-basics.html#container-detection">detection phase</a>. If you move a container from a microcontroller A to a microcontroller B on a given device, the ID will change. In the same way, if you change the wiring order of a microcontroler on the network on a given device, the ID will change too.</td><td align="center">Integer<br />e.g. <code>Id=1</code></td></tr>
<tr><td align="center"><strong>TYPE</strong></td><td align="center">The type defines the container purpose. A few types are predefined and can be used, or new ones can be created. The container type can't be changed after container initialization.</td><td align="center">String<br />e.g. <code>type=DISTANCE_MOD</code></td></tr>
<tr><td align="center"><strong>ALIAS</strong></td><td align="center">Alias is the name of the container. It's used to easily identify a container. Each container has a <strong>default alias</strong> which can be changed by users. For example, a container with the default alias <code>motor_mod</code> can be named <code>left_knee_motor</code> by user. This new name will be stored in the non-volatile memory of the board. As we don't want to have multiple containers with the same name, a duplicate name on your system will be automatically assigned with an incrementing number at its end, in the network. You can go back to the default name by setting a void name (<code>&quot;&quot;</code>) to a container.</td><td align="center">String<br />e.g. <code>alias=&quot;gate&quot;</code></td></tr>
</tbody></table>
<h1 id="create-luos-projects"><a class="header" href="#create-luos-projects">Create Luos Projects</a></h1>
<h2 id="how-to-properly-organize-your-luos-projects"><a class="header" href="#how-to-properly-organize-your-luos-projects">How to properly organize your Luos projects</a></h2>
<h3 id="how-to-run-luos"><a class="header" href="#how-to-run-luos">How to run Luos</a></h3>
<p>Luos is like a task that has to be run regularly. So you will have to run it by adding <code>luos_init()</code> and <code>luos_loop()</code> in the <code>main()</code> of your program.<br/>
Basically, your <code>main()</code> will look like this:</p>
<pre><code class="language-C">#include &quot;luos.h&quot;

int main(void)
{
    Luos_Init();
    while(1)
    {
        Luos_Loop();
    }
    return 0;
}

</code></pre>
<p>Putting this code into a <span class="cust_tooltip">node<span class="cust_tooltiptext">Hardware element (MCU) hosting and running Luos and hosting one or several containers.</span></span> makes it able to react to a Luos network. It's now ready to host your containers.</p>
<p><strong>As a developer you will always develop your functionalities into containers and never into the <code>main()</code> program.</strong></p>
<blockquote>
<p><strong>Note:</strong> The only information that should be put on the <code>main()</code> code are MCU setup parameters and containers' run functions.</p>
</blockquote>
<h3 id="how-to-add-containers-in-your-project"><a class="header" href="#how-to-add-containers-in-your-project">How to add containers in your project</a></h3>
<p>A node can host multiple containers, and a container has to be as portable as possible. In order to do that, containers have to be independent code folders that can be easily copied and pasted in another project.<br/>
When designing projects at Luos we always use the same way to organize our code: we put the containers into a <code>containers</code> folder and name the containers' code files with the name of each container:</p>
<pre><code class="language-AsciiDoc"> Project
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ containers
    ‚îÇ    ‚îú‚îÄ‚îÄ‚îÄ container_1
    ‚îÇ    ‚îÇ    ‚îú‚îÄ‚îÄ‚îÄ container_1.c
    ‚îÇ    ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ container_1.h
    ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ container_2
    ‚îÇ         ‚îú‚îÄ‚îÄ‚îÄ container_2.c
    ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ container_2.h
    ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ Inc
    ‚îÇ    ‚îú‚îÄ‚îÄ‚îÄ Luos
    ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ luos_hal
    ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ Src
         ‚îî‚îÄ‚îÄ‚îÄ Main.c
</code></pre>
<h3 id="basic-containers-functions"><a class="header" href="#basic-containers-functions">Basic containers functions</a></h3>
<p>We choose to put the public functions of our containers in the <code>container.h</code> file. Like Luos, containers are similar to tasks that need to be run regularly, so we choose to use the exact same stategy as presented for Luos functions by providing a <code>Container_Init()</code> and a <code>Container_Loop()</code> functions and to add them in the <code>main()</code>.
Following the previous folder organization, the <code>main()</code> code looks like this:</p>
<pre><code class="language-C">#include &quot;luos.h&quot;
#include &quot;container1.h&quot;
#include &quot;container2.h&quot;

int main(void)
{
    Luos_Init();
    Container1_Init();
    Container2_Init();
    while(1)
    {
        Luos_Loop();
        Container1_Loop();
        Container2_Loop();
    }
    return 0;
}

</code></pre>
<p>This way, it is easy to manage all of your containers and to add as many of them as you want in to <code>main()</code>.</p>
<h3 id="how-to-use-luos-hardware-abstraction-layer"><a class="header" href="#how-to-use-luos-hardware-abstraction-layer">How to use Luos hardware abstraction layer</a></h3>
<p>To ease the use of Luos Library on a specific target, the Luos company provides <code>luos_hal.c</code>, <code>luos_hal.h</code> and <code>luos_hal_config.h</code> from the LuosHAL folder for a lot of different MCU families. The purpose of these files is to make Luos communcations work directly on the chosen MCU. However, this default configuration for a MCU Family should be adapted to fit your design. See how to do it on the <a href="pages/low/containers/../hardware_topics/luos-hal.html">Luos HAL</a> page.</p>
<h1 id="create-luos-containers"><a class="header" href="#create-luos-containers">Create Luos containers</a></h1>
<p><strong>As a developer you will always develop your functionalities into containers and never into the <code>main()</code> program.</strong></p>
<blockquote>
<p><strong>Warning:</strong> Make sure to read and understand how to <a href="pages/low/containers/./create-project.html">Create Luos projects</a> before reading this page.</p>
</blockquote>
<h2 id="how-to-create-and-initialize-a-container"><a class="header" href="#how-to-create-and-initialize-a-container">How to create and initialize a container</a></h2>
<p>To create a container, you have to call this function:</p>
<pre><code class="language-c">container_t* Luos_CreateContainer(void* callback, container_type_t type, char* default_alias, revision_t revision);
</code></pre>
<p>The returned <code>container_t*</code> is a container structure pointer that will be useful to make your container act in the network after this initialization.</p>
<p><strong>callback</strong> is a pointer to a callback function called by Luos when your container receive messages from other containers (see <a href="pages/low/containers/./rt-config.html">Message Handling configuration page</a> for more details).
This function needs to have a specific format:</p>
<pre><code class="language-c">void Container_MsgHandler(container_t *container, msg_t *msg)
</code></pre>
<ul>
<li><strong>container</strong> is the container pointer of the container receiving the data (basically, it is your container).</li>
<li><strong>msg</strong> is the message your container received.</li>
</ul>
<p><strong>type</strong> is the type of the your new container represented by a number. Some basic types (e.g. <code>DISTANCE_MOD</code>, <code>VOLTAGE_MOD</code>, etc.) are already available in the <code>container_type_t</code> enum structure of Luos. You can also create your own on top of the Luos one.</p>
<p><strong>default alias</strong> is the alias by default for your new container. e.g. <code>Mycontainer02</code>. This alias is the one your container will use if no other alias is set by the user of your functionality hosted in your container. Aliases have a maximum size of 16 characters.</p>
<p><strong>revision</strong> is the revision number of the container you are creating and which will be accessible via Pyluos.</p>
<p>Following the <a href="pages/low/containers/./create-project.html#basic-containers-functions">project rules</a>, here is a code example for a button container:</p>
<pre><code class="language-c">revision_t ButtonRevision = {.unmap = {0,0,7}};
container_t* container_btn;

static void Button_MsgHandler(container_t *container, msg_t *msg){
    // Manage received messages
}

void Button_Init(void) {
    container_t* container_btn = Luos_CreateContainer(Button_MsgHandler, STATE_MOD, &quot;button_mod&quot;, ButtonRevision);
}

void Button_Loop(void) {
}
</code></pre>
<blockquote>
<p><strong>Note:</strong> According to the real-time configuration you chose, an additional line of code may be necessary. See <a href="pages/low/containers/./rt-config.html">Message Handling configuration page</a> for more details.</p>
</blockquote>
<h2 id="containers-categories"><a class="header" href="#containers-categories">Containers categories</a></h2>
<p>To make your development as clean as possible, you have to understand in which category (<a href="pages/low/containers/create-containers.html#drivers-guidelines"><strong>Driver</strong></a> or <a href="pages/low/containers/create-containers.html#apps-guidelines"><strong>App</strong></a>) each container of the project is.</p>
<p>By following the categories guidelines, you will be able to make clean and reusable functionalities.</p>
<h2 id="drivers-guidelines"><a class="header" href="#drivers-guidelines">Drivers guidelines</a></h2>
<p>A driver is a type of container that handles hardware. Motors, distance sensors, LEDs are all drivers.</p>
<p>By designing a driver, you have to keep the following rules in mind:</p>
<ul>
<li>A driver container always uses a standard Luos type to be usable by any other containers.</li>
<li>A driver container always uses standard <span class="cust_tooltip">object dictionary<span class="cust_tooltiptext">Set of objects based on SI metric system that can be transmitted through Luos messages. Any object can easily be converted in other units.</span></span> structures to be usable by any other containers.</li>
<li>A driver container never depends on or uses any other containers (driver or app).</li>
<li>A driver container is &quot;dumb&quot;, as it can't do anything else than manage its hardware feature (but it does it very well).</li>
</ul>
<p>You can have multiple driver containers on the same <span class="cust_tooltip">node<span class="cust_tooltiptext">Hardware element (MCU) hosting and running Luos and hosting one or several containers.</span></span> managing different hardware functionalities of your board, it is up to you to sort them depending on your design.</p>
<h2 id="apps-guidelines"><a class="header" href="#apps-guidelines">Apps guidelines</a></h2>
<p>An application or app is a type of container that only manages software items such as functions or algorithms. Apps use other containers to make your device act, operate, and behave.
Apps can be placed in any <span class="cust_tooltip"><a href="pages/low/containers/../../overview/general-basics.html#what-is-a-node">nodes</a><span class="cust_tooltiptext">Hardware element (MCU) hosting and running Luos and hosting one or several containers.</span></span> on a Luos network without any hardware or code modifications. However, the choice of the hosting node can impact global performances of the system.</p>
<p>By designing an app, you have to keep the following rules in mind:</p>
<ul>
<li>An app can't have hardware dependencies.</li>
<li>An app can use custom container types.</li>
<li>An app must use standard <span class="cust_tooltip">object dictionary<span class="cust_tooltiptext">Set of objects based on SI metric system that can be transmitted through Luos messages. Any object can easily be converted in other units.</span></span> structures. If the structures used are not standard, Gate containers could be completely unable to manage them.</li>
</ul>
<p>Apps are the embedded smartness of your device, and at least one of them should run a network detection in order to map every containers in every nodes in your device and make it work properly. Go to the <a href="pages/low/containers/./routing-table.html">Routing table</a> page for more information.</p>
<h1 id="object-dictionary"><a class="header" href="#object-dictionary">Object Dictionary</a></h1>
<p>To keep interoperability between <span class="cust_tooltip">containers<span class="cust_tooltiptext">Software element run by Luos that can communicate with other containers. It can be a driver or an app. (Initially called a module)</span></span>, Luos provides an Object Dictionary (OD).</p>
<h2 id="what-is-od"><a class="header" href="#what-is-od">What is OD?</a></h2>
<p>An Object Dictionary (OD) allows different developers of different containers to make them interoperate regardless of the unit they use on the container.</p>
<p>Let's take an example: If container1 uses an angle as radians and container2 uses degrees, what is the unit they should use to share the angle information?</p>
<p>An Object Dictionary defines a set of typical objects that can be transmitted through Luos messages. It allows to send these objects with a predefined type and to use it in the units the user want.</p>
<h2 id="how-is-it-managed-in-luos"><a class="header" href="#how-is-it-managed-in-luos">How is it managed in Luos?</a></h2>
<p>Luos defines objects based on physical values following the SI standard.</p>
<h3 id="object-and-types"><a class="header" href="#object-and-types">Object and types</a></h3>
<p>Each object in the Object Dictionary has a specific Type. For example:</p>
<pre><code class="language-c">// Define object angular_position as an angular_position_t type
angular_position_t angular_position; 
</code></pre>
<p>You can create your variables using these objects but <strong>never set OD variables directly with a value</strong>. Instead, you have to use functions available on the Luos OD:</p>
<pre><code class="language-c">// Set object angular_position
angular_position_t angular_position = AngularOD_PositionTo_deg (12.0); 
</code></pre>
<p>Following this rule, everybody will be able to use your values.</p>
<p>All the types are listed in the <a href="pages/low/containers/od.html#types-and-units-table-summary">table summary</a> at the end of this page.</p>
<h2 id="conversions"><a class="header" href="#conversions">Conversions</a></h2>
<p>As many units exist, many conversion functions are available. As a result, they follow a <strong>logic naming rules</strong> in order to easily find a desired function without having to search for it.</p>
<h3 id="unit-conversions"><a class="header" href="#unit-conversions">Unit conversions</a></h3>
<p>There are two types of unit conversion: in one way (OD type from desired unit), and in the other way (OD type to desired unit):</p>
<ul>
<li><strong><code>from</code> conversion:</strong> Converts a value with a defined unit into a desired OD type. Format:  <code>[type_var] = [type]From_[unit]([value])</code></li>
</ul>
<pre><code class="language-c">// save a linear_position from a mm value
linear_position_t LinearOD_PositionFrom_mm(float mm); 
</code></pre>
<ul>
<li><strong><code>to</code> conversion:</strong> Converts a type to a unit. Format: <code>[value] = [type]To_[unit]([type_var])</code></li>
</ul>
<pre><code class="language-c">// convert the variable linear_position into a mm
float LinearOD_PositionTo_mm(linear_position_t linear_position); 
</code></pre>
<h3 id="messages-conversions"><a class="header" href="#messages-conversions">Messages conversions</a></h3>
<p>In the same way, both conversion are available for messages (OD type from message and OD type to message):</p>
<ul>
<li><strong><code>from</code> conversion:</strong> Gets a type from a message. Format: <code>[type]FromMsg([type_var], msg)</code></li>
</ul>
<pre><code class="language-C">// get the linear_position from the message msg
void LinearOD_PositionFromMsg(linear_position_t* linear_position, msg_t* msg); 
</code></pre>
<ul>
<li><strong><code>to</code> conversion:</strong> Inserts a desired type into a message. Format: <code>[type]ToMsg(type_var], msg)</code></li>
</ul>
<pre><code class="language-c">// insert the linear_position into the message msg
void LinearOD_PositionToMsg(linear_position_t* linear_position, msg_t* msg);
</code></pre>
<h2 id="types-and-units-table-summary"><a class="header" href="#types-and-units-table-summary">Types and units table summary</a></h2>
<p>Here are listed the existing types:</p>
<table><thead><tr><th align="center">Type</th><th align="center">Available prefix and other units</th></tr></thead><tbody>
<tr><td align="center">linear_position</td><td align="center">nm, Œºm, mm, cm, m, km, in, ft, mi</td></tr>
<tr><td align="center">linear_speed</td><td align="center">mm/s, m/s, km/h, in/s, mi/h</td></tr>
<tr><td align="center">angular_position</td><td align="center">deg, revolution, rad</td></tr>
<tr><td align="center">angular_speed</td><td align="center">deg/s, revolution/s, revolution/min, rad/s</td></tr>
<tr><td align="center">force</td><td align="center">N, kgf, ozf, lbf</td></tr>
<tr><td align="center">moment</td><td align="center">N.mm, N.cm, N.m, kgf.mm, kgf.cm, kgf.m, ozf.in, lbf.in</td></tr>
<tr><td align="center">voltage</td><td align="center">mV, V</td></tr>
<tr><td align="center">current</td><td align="center">mA, A</td></tr>
<tr><td align="center">power</td><td align="center">mW, W</td></tr>
<tr><td align="center">ratio</td><td align="center">percentage</td></tr>
<tr><td align="center">temperature</td><td align="center">deg_c, deg_f, deg_k</td></tr>
<tr><td align="center">color</td><td align="center">8bit_RGB unsigned char [3]</td></tr>
</tbody></table>
<blockquote>
<p><strong>Note:</strong> to find out a conversion function, replace the characters <code>/</code> or <code>.</code> in the units by the character <code>_</code>. The character <code>¬µ</code> is replaced by <code>u</code>, and <code>revolution</code> is replaced by <code>rev</code>.</p>
<p>Examples: convert a linear speed to mm/s: <code>LinearOD_SpeedTo_mm_s()</code>; convert a value in Œºm to a linear position: <code>LinearOD_PositionFrom_um()</code>; convert a value in revolutions/s to an angular speed: <code>AngularOD_SpeedFrom_rev_s()</code>;</p>
</blockquote>
<h1 id="routing-table-1"><a class="header" href="#routing-table-1">Routing Table</a></h1>
<blockquote>
<p><strong>Warning:</strong> Make sure to read and understand how to <a href="pages/low/containers/./create-containers.html">Create Luos containers</a> before reading this page.</p>
</blockquote>
<p>The routing table is a feature of Luos allowing every <span class="cust_tooltip"><a href="pages/low/containers/../../overview/general-basics.html#container">container</a><span class="cust_tooltiptext">Software element run by Luos that can communicate with other containers. It can be a driver or an app. (Initially called a module)</span></span> to own a &quot;map&quot; (or topology) of the entire network of your device. This map allows containers to know their physical position and to search and interact with other containers easily.<br/>
This feature is particularly used by apps containers to find other containers they need to interact with. The routing table is shared by the container which launches the detection to other containers, but only apps containers store the routing table internaly.</p>
<h2 id="detection"><a class="header" href="#detection">Detection</a></h2>
<p>The routing table is automatically generated when a network detections is initiated by a container and shared with other containers at the end of the detection. A detection can be initiated by any container, but driver containers should not be able to run it and this kind of features should be only used on app containers by including routingTable.h an using this routing table API.</p>
<p>To run a detection, type:</p>
<pre><code class="language-C">RoutingTB_DetectContainers(app);
</code></pre>
<p>where app is the <code>container_t</code> pointer running the detection.</p>
<p>A non-detected container (not in the routing table) has a specific ID of <code>0</code>. At the beginning of the detection, Luos erases each container's ID in the network, so all of them will have the ID <code>0</code> during this operation. You can use it on your containers code to act consequently to this detection if you need it (for example, a container can monitor its ID to detect if a detection has been made and if it has to reconfigure its auto-update).</p>
<p>Then the container running the detection will have the ID <code>1</code> and the other containers will have an ID between <code>2</code> and <code>4096</code>, depending on their position from the container detector. The IDs are attributed to the containers according to their position from the detector container and to the branch they are in. The ID attribution begins first to the PTPA port, then PTPB, etc.
When each container in the network has an attributed ID, the detection algorithm proceeds to the creation of the routing table and shares it with every containers (saved only one time per node).</p>
<p>Sometimes, multiple containers in the network can have the same alias, which is not allowed to prevent container confusion. In this case, detection algorithm will add a number after each instance of this alias on the routing table.</p>
<blockquote>
<p><strong>Warning:</strong> Be careful that during a detection, a container can change ID depending on the container running this detection. Do not consider your container's ID fixed. Also, be aware that every containers remove their auto-update configuration during the detection to prevent any ID movement.</p>
</blockquote>
<h2 id="modes"><a class="header" href="#modes">Modes</a></h2>
<p>As explained in <a href="pages/low/containers/../../overview/general-basics.html#what-is-a-node">this page</a>, <span class="cust_tooltip">nodes<span class="cust_tooltiptext">Hardware element (MCU) hosting and running Luos and hosting one or several containers.</span></span> can host multiple containers. To get the topology of your device, the routing table references physical connexions between your nodes and lists all the containers in each one of them.</p>
<p>The routing table is a table of a <code>routing_table_t</code> structure containing nodes or containers information.
The maximum number of containers and nodes are managed by the precompilation constant <code>MAX_containerS_NUMBER</code> (set to 40 by default).</p>
<pre><code class="language-c">routing_table_t routing_table[MAX_CONTAINERS_NUMBER];
</code></pre>
<p>The routing table structure has two modes: <em>container entry mode</em> and <em>node entry mode</em>.</p>
<pre><code class="language-c">typedef struct __attribute__((__packed__))
{
    entry_mode_t mode;
    union
    {
        struct __attribute__((__packed__))// CONTAINER mode entry
        {                               
            uint16_t id;                // Container ID.
            uint16_t type;              // Container type.
            char alias[MAX_ALIAS_SIZE]; // Container alias.
        };
        struct __attribute__((__packed__))// NODE mode entry
        { 
            // Watch out, this structure has a lot of similarities with the node_t struct.
            // It is similar to allow copy of a node_t struct directly in this one
            // but there is potentially a port_table size difference so
            // do not replace it with node_t struct.
            struct __attribute__((__packed__))
            {
                uint16_t node_id : 12;  // Node id
                uint16_t certified : 4; // True if the node have a certificate
            };
            uint16_t port_table[(MAX_ALIAS_SIZE + 2 + 2 - 2) / 2]; // Node link table
        };
        uint8_t unmap_data[MAX_ALIAS_SIZE + 2 + 2];
    };
} routing_table_t;
</code></pre>
<h3 id="container-entry-mode"><a class="header" href="#container-entry-mode">container entry mode</a></h3>
<p>This mode allows <code>routing_table</code> to contain:</p>
<ul>
<li>id: container's unique id</li>
<li>type: container's type</li>
<li>alias: container's alias</li>
</ul>
<p>For more information, please refer to the <a href="pages/low/containers/../containers.html">containers</a> page of this documentation.</p>
<h3 id="node-entry-mode"><a class="header" href="#node-entry-mode">Node entry mode</a></h3>
<p>This mode gives physical information of your devices.</p>
<p>The <strong>node_id</strong> is the unique number that you can use to identify each one of your nodes. At the beginning (or when a reset detection is perfomed), all node IDs are set to 0. When the RoutingTB_DetectContainers API is called, Luos assigns a unique ID to nodes and containers in your system topology.</p>
<p>The <strong>certified</strong> Luos node can be certified for your system by including Luos licencing number in your product (feature in progress).</p>
<p>The <strong>port_table</strong> allows sharing of topological information of your network. Each element of this table corresponds to a physical Luos port of the node and indicates which node is connected to it by sharing a node's <code>id</code>.</p>
<p>Here is an example:</p>
<img src="pages/low/containers/../../../_assets/img/routing-table.png" title="Routing table">
<p>As shown on this image, elements of the <code>port_table</code> indicate the first or last container id of the connected node through a given port.</p>
<p>Specific values taken by <code>port_table</code>:</p>
<ul>
<li><strong>0</strong>: this port is waiting to discover who is connected with. You should never see this value.</li>
<li><strong>0x0FFF</strong>: this port is not connected to any other Node.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Routing tables can be easily displayed using <a href="pages/low/containers/../../high/pyluos.html">Pyluos</a> through a <a href="pages/low/containers/../../high/containers_list/gate.html">USB gate</a>. Please refer to the <a href="pages/low/containers/../../high/pyluos.html#routing-table-display">Pyluos routing table section</a> for more information.</p>
</blockquote>
<h2 id="search-tools"><a class="header" href="#search-tools">Search tools</a></h2>
<p>The routing table library provides the following search tools to find containers and nodes' information into a Luos network:</p>
<table><thead><tr><th align="center">Description</th><th align="center">Function</th><th align="center">Return</th></tr></thead><tbody>
<tr><td align="center">Find a container's id from its alias</td><td align="center"><code>RoutingTB_IDFromAlias(char* alias);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Find a container's id from its type (return the first of the list)</td><td align="center"><code>RoutingTB_IDFromType(luos_type_t type);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Find a container's id from a container</td><td align="center"><code>RoutingTB_IDFromContainer(container_t *container);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Find a container's alias from its id (return the first of the list)</td><td align="center"><code>RoutingTB_AliasFromId(uint16_t id);</code></td><td align="center"><code>char*</code></td></tr>
<tr><td align="center">Find a container's type from its id</td><td align="center"><code>RoutingTB_TypeFromID(uint16_t id);</code></td><td align="center"><code>container_type_t</code></td></tr>
<tr><td align="center">Find a container's type from its alias</td><td align="center"><code>RoutingTB_TypeFromAlias(char* alias);</code></td><td align="center"><code>container_type_t</code></td></tr>
<tr><td align="center">Find a container's string from its type (return the first of the list)</td><td align="center"><code>RoutingTB_StringFromType(luos_type_t type);</code></td><td align="center"><code>char*</code></td></tr>
<tr><td align="center">Test if a container's type is a sensor</td><td align="center"><code>RoutingTB_ContainerIsSensor(container_type_t type);</code></td><td align="center"><code>uint8_t</code></td></tr>
<tr><td align="center">Get the number of nodes in a Luos network</td><td align="center"><code>RoutingTB_GetNodeNB(void);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Get a node's id</td><td align="center"><code>RoutingTB_GetNodeID(unsigned short index);</code></td><td align="center"><code>uint16_t</code></td></tr>
</tbody></table>
<h2 id="management-tools"><a class="header" href="#management-tools">Management tools</a></h2>
<p>Here are the management tools provided by the routing table library:</p>
<table><thead><tr><th align="center">Description</th><th align="center">Function</th><th align="center">Return</th></tr></thead><tbody>
<tr><td align="center">Compute the rooting table</td><td align="center"><code>RoutingTB_ComputeRoutingTableEntryNB(void);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Detect the containers in a Luos network</td><td align="center"><code>RoutingTB_DetectContainers(container_t* container);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Convert a node to a routing table entry</td><td align="center"><code>RoutingTB_ConvertNodeToRoutingTable(routing_table_t *entry, node_t *node);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Convert a container to a routing table entry</td><td align="center"><code>RoutingTB_ConvertContainerToRoutingTable(routing_table_t* entry, container_t* container);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Remove an entry in the routing table (by id)</td><td align="center"><code>RoutingTB_RemoveOnRoutingTable(uint16_t id);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Erase routing table</td><td align="center"><code>RoutingTB_Erase(void);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Get the routing table</td><td align="center"><code>RoutingTB_Get(void);</code></td><td align="center"><code>routing_table_t*</code></td></tr>
<tr><td align="center">Get the last container in a Luos network</td><td align="center"><code>RoutingTB_GetLastContainer(void);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Get the last entry in a Luos network</td><td align="center"><code>RoutingTB_GetLastEntry(void);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Get the last node in a Luos network</td><td align="center"><code>RoutingTB_GetLastNode(void);</code></td><td align="center"><code>uint16_t*</code></td></tr>
</tbody></table>
<h1 id="containers-communication-handling-messages"><a class="header" href="#containers-communication-handling-messages">Containers communication handling messages</a></h1>
<blockquote>
<p><strong>Warning:</strong> Make sure to read and understand how to <a href="pages/low/containers/./create-project.html">Create Luos containers</a> before reading this page.</p>
</blockquote>
<p>As a developer, you will have to create and use Luos messages to exchange information between <span class="cust_tooltip">containers<span class="cust_tooltiptext">Software element run by Luos that can communicate with other containers. It can be a driver or an app. (Initially called a module)</span></span>. In order to do that, you have to understand how messages work.</p>
<h2 id="message-structure"><a class="header" href="#message-structure">Message structure</a></h2>
<p>Luos messages are managed by the <code>msg_t</code> structure:</p>
<pre><code class="language-C">typedef struct{
    header_t header;
    uint8_t data[MAX_DATA_MSG_SIZE];
}msg_t;
</code></pre>
<p>All messages have a header. A header is a 7-byte field containing all information allowing containers to understand messages context. All containers on the network catch and decode the header of each sent and received message.</p>
<p><code>data</code> is a table containing data.</p>
<blockquote>
<p><strong>Info:</strong> MAX_DATA_MSG_SIZE represenst the maximum size of messages (default value is 128 bytes);</p>
</blockquote>
<h2 id="header"><a class="header" href="#header">Header</a></h2>
<p>To send data to any containers you want, you will have to first fill out some information on the header.</p>
<p>here is the <code>header_t</code> structure:</p>
<pre><code class="language-C">typedef struct{
    uint16_t protocol : 4;    /*!&lt; Protocol version. */
    uint16_t target : 12;     /*!&lt; Target address, it can be (ID, Multicast/Broadcast, Type). */
    uint16_t target_mode : 4; /*!&lt; Select targeting mode (ID, ID+ACK, Multicast/Broadcast, Type). */
    uint16_t source : 12;     /*!&lt; Source address, it can be (ID, Multicast/Broadcast, Type). */
    uint8_t cmd;              /*!&lt; msg definition. */
    uint16_t size;            /*!&lt; Size of the data field. */
}header_t;
</code></pre>
<ul>
<li><strong>Protocol (4 bits)</strong>: This field provides the protocol revision. This field is automatically filled, you don't have to deal with it.</li>
<li><strong>Target (12 bits)</strong>: This field contains the target address. Make sure to understand the real destination of this field, you have to know the addressing mode contained on the <em>Target_mode</em> field.</li>
<li><strong>Target_mode (4 bits)</strong>: This field indicates the addressing mode and how to understand the <em>Target</em> field. It can take different values:
<ul>
<li><strong>ID</strong>: This mode allows to communicate with a unique container using its ID <strong>without</strong> acknowledgment return.</li>
<li><strong>ID_ACK</strong>: This mode allows to communicate with a unique container using its ID <strong>with</strong> acknowledgment return.</li>
<li><strong>Multicast/Broadcast</strong>: This mode allows multiple containers to catch a message. In this case, the message contains a type of data used by multiple containers.</li>
<li><strong>Type</strong>: This mode sends a message to all containers with a given type, for example all &quot;Sharp digital distance sensor&quot;.</li>
</ul>
</li>
<li><strong>Source (12 bits)</strong>: The unique ID of the transmitter container.</li>
<li><strong>CMD (8 bits)</strong>: The command defines the transmitted data's type.</li>
<li><strong>Size (16 bits)</strong>: Size of the incoming data.</li>
</ul>
<h1 id="receive-and-send-a-basic-message"><a class="header" href="#receive-and-send-a-basic-message">Receive and send a basic message</a></h1>
<p>To send a message you have to:</p>
<ol>
<li>Create a message variable</li>
<li>Set the <strong>target_mode</strong></li>
<li>Set the <strong>target</strong></li>
<li>Set the <strong>cmd</strong></li>
<li>Set your data <strong>size</strong></li>
<li>Set your data</li>
<li>Send it.</li>
</ol>
<p>Below is a basic reply example that you can find in a container reception callback. For more information on handling a message received, see <a href="pages/low/containers/./rt-config.html">Real-time configuration</a> page.</p>
<pre><code class="language-c">void containers_MsgHandler(container_t *container, msg_t *msg) {
    if (msg-&gt;header.cmd == ASK_PUB_CMD) {
        // fill the message info
        msg_t pub_msg;
        pub_msg.header.target_mode = ID;
        pub_msg.header.target = msg-&gt;header.source;
        pub_msg.header.cmd = IO_STATE;
        pub_msg.header.size = sizeof(char);
        pub_msg.data[0] = 0x01;
        Luos_SendMsg(container, &amp;pub_msg);
        return;
    }
}
</code></pre>
<blockquote>
<p><strong>Note:</strong> the function <em>Luos_SendMsg</em> return an error_status that informw user if the message was stored in buffer and is ready to be sent. User can monitor the return value and make a blocking statement to be sure that the message is ready to be sent.</p>
</blockquote>
<pre><code class="language-c">while(Luos_SendMsg(container, &amp;pub_msg) ! SUCCEED);
</code></pre>
<h2 id="container-exclusion"><a class="header" href="#container-exclusion">Container exclusion</a></h2>
<p>Luos includes an acknowledgement management using the <strong>ID_ACK</strong> target_mode. This mode guaranties the proper reception of critical messages.</p>
<p>If Luos fails to reach its target using ID_ACK, it will retry, sending up to 10 times. If the acknowledgement still fails, the targeted container is declared excluded. Excluded containers are removed from the routing table to avoid any messaging by any containers, preserving bandwidth for the rest of the system.</p>
<h2 id="large-data"><a class="header" href="#large-data">Large data</a></h2>
<p>You will sometimes have to deal with large data that could be larger than the maximum 128-byte data on a Luos message. Fortunately, Luos is able to automatically fragment and de-fragment the data above this side. To do that, you will have to use another send function that will take care of setting the messages' size, and the data fields.</p>
<p>For example, here is how to send a picture:</p>
<pre><code class="language-c">// fill the large message info
msg_t msg;
color_t picture[300*300] = {/*Your favorite cat picture data*/};
msg.header.target_mode = ID_ACK;
msg.header.target = 12;
msg.header.cmd = COLOR;
Luos_SendData(container, &amp;msg, picture, sizeof(color_t)*300*300);
return;
</code></pre>
<p>In the reception callback, here is the code for retrieve the message with the receiving container (the one with ID 12):</p>
<pre><code class="language-c">color_t picture[300*300];
void containers_MsgHandler(container_t *container, msg_t *msg) {
    if (msg-&gt;header.cmd == COLOR) {
        Luos_ReceiveData(container, msg, (void*)picture);
    }
}
</code></pre>
<blockquote>
<p><strong>Note:</strong> If you have to deal with high-frequency real-time data, please read <a href="pages/low/containers/./streaming.html">the Streaming page</a>.</p>
</blockquote>
<h2 id="time-triggered-update-messages"><a class="header" href="#time-triggered-update-messages">Time-triggered update messages</a></h2>
<p>Luos provides a standard command to ask a container to retrieve values from a sensor, called <code>ASK_PUB_CMD</code>. However, sometimes apps need to poll values from sensors, but the act of repeatedly retriving a value using the <code>ASK_PUB_CMD</code> command may result in the use of a lot bandwidth and take up valuable resources.
In this kind of polling situation, <strong>you can use the time-triggered auto-update features available from any Luos container</strong>. This feature allows you to ask a container to send you an update of any value each X milliseconds.
To use it, you have to setup targeted container with a message containing a standard time <span class="cust_tooltip">object dictionary<span class="cust_tooltiptext">Set of objects based on SI metric system that can be transmitted through Luos messages. Any object can easily be converted in other units.</span></span>, but with a specific command associated to it.</p>
<p>For example, to update a container each 10 ms:</p>
<pre><code class="language-C">time_luos_t time = TimeOD_TimeFrom_ms(10);
msg_t msg;
msg.header.target = id;
msg.header.target_mode = IDACK;
TimeOD_TimeToMsg(&amp;time, &amp;msg);
msg.header.cmd = UPDATE_PUB;
Luos_SendMsg(app, &amp;msg);
</code></pre>
<blockquote>
<p><strong>Info:</strong> containers can handle only one time-triggered target, 2 containers of the same network can't ask a time-triggered value from the same container.</p>
</blockquote>
<blockquote>
<p><strong>Warning:</strong> To prevent any ID movement, auto-update configuration is reset on all containers on each detection (see <a href="pages/low/containers/./routing-table.html">Routing table page</a> for more information).</p>
</blockquote>
<h1 id="luos-self-healing-capabilities"><a class="header" href="#luos-self-healing-capabilities">Luos self-healing capabilities</a></h1>
<blockquote>
<p><strong>Warning:</strong> Make sure to read and understand how to <a href="pages/low/containers/./create-project.html">create Luos containers</a> before reading this page.</p>
</blockquote>
<p>As a developer, you will have bugs. üò≤</p>
<p>Finding, understanding, and managing bugs on multiple boards running multiple containers can be really hard. To make your life easier, Luos allows you to get some basic information about any problems in your system allowing you to adapt to them.</p>
<h2 id="container-exclusion-1"><a class="header" href="#container-exclusion-1">Container exclusion</a></h2>
<p>Luos includes an <a href="pages/low/containers/./msg-handling.html">acknowledgement management using the <strong>ID_ACK</strong> target_mode</a>. This mode guaranties the proper reception of critical messages.</p>
<p>If Luos fails to reach its target using ID_ACK, it will retry 10 times. If the acknowledgement still fails, the targeted container is declared excluded. Excluded containers are removed from the routing table to avoid any messaging from any containers, preserving bandwidth for the rest of the system.</p>
<blockquote>
<p><strong>Note:</strong> Gates containers can report container exclusion through JSON.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> Pyluos can report container exclusion through Gates.</p>
</blockquote>
<h2 id="luos-statistics"><a class="header" href="#luos-statistics">Luos statistics</a></h2>
<p>Luos monitors some values representing the sanity of your nodes and containers.</p>
<blockquote>
<p><strong>Note:</strong> Gates containers can report statistics trough JSON.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> Pyluos can display statistics trough Gates.</p>
</blockquote>
<h3 id="node-statistics"><a class="header" href="#node-statistics">Node statistics</a></h3>
<p>Inside any container, you can have access to the host node's statistics values using the <code>luos_stats_t</code> structure.
This structure gives you access to several values:</p>
<ul>
<li><strong>memory</strong>: Memory statisctics information.
<ul>
<li><strong>rx_msg_stack_ratio</strong>: Percentage of memory occupation of Rx message management tasks.</li>
<li><strong>luos_stack_ratio</strong>: Percentage of memory occupation of Luos tasks.</li>
<li><strong>tx_msg_stack_ratio</strong>: Percentage of memory occupation of Tx message management tasks.</li>
<li><strong>buffer_occupation_ratio</strong>: Percentage of memory occupation of the message buffer.</li>
<li><strong>msg_drop_number</strong>: Number of messages dropped due to a lack of memory (older messages are dropped to be replaced by new ones).</li>
</ul>
</li>
<li><strong>max_loop_time_ms</strong>: Maximum time in ms between luos_loop executions.</li>
</ul>
<p>You can access to node statistics by using <code>container.node_statistics</code>.</p>
<h3 id="container-statistics"><a class="header" href="#container-statistics">Container statistics</a></h3>
<p>In any container you have access to statistics values using the <code>container_stats_t</code> structure.
This structure gives you access to a specific container's statistic value:</p>
<ul>
<li><strong>max_retry</strong>: Maximum number of sent retries due to a NAK or collision with another container.</li>
</ul>
<p>You can access node statistics by using <code>container.statistics</code>.</p>
<h2 id="assert"><a class="header" href="#assert">Assert</a></h2>
<p>Luos allows you to declare to an entire network a critical failure on a container.
To handle it, Luos exposes a <code>LUOS_ASSERT</code> macro that allows you to test some conditions on it to prevent wrong values.
for example:</p>
<pre><code class="language-C"> LUOS_ASSERT(arg_ptr != NULL);
</code></pre>
<p>In this case, if <code>arg_ptr</code> is not initialized, Luos will crash the entire node and send a message to all other containers with the file and line were the crash occured. All other nodes will remove all the containers from the crashed node from the routing table.</p>
<blockquote>
<p><strong>Note:</strong> Gates containers can <a href="pages/low/containers/../../high/json-api.html#node-assert-messages">report assert of other nodes trough Json</a>.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> Pyluos can display assert trough Gates.</p>
</blockquote>
<h1 id="streaming"><a class="header" href="#streaming">Streaming</a></h1>
<p>On occasion, you will have to deal with high-frequency small data with strong time constraints.</p>
<p>To make it easy, Luos manages streaming channels trough ring buffers.</p>
<p>A streaming channel allows you to drastically reduce the time constraints of your Luos network thanks to 2 factors:</p>
<ol>
<li>
<p>The first factor is a method which allows you to have a <em>no-real-time</em> container dealing with a strict-real-time one. Both sides have their own loop frequency and time precision.</p>
<ul>
<li>The real-time one is the container opening the streaming channel. It has a high-frequency function called at a precise <strong>sampling frequency</strong>.</li>
<li>The non-real-time one has a slower and unprecise timed function which is called at each <strong>chunk_time</strong>.</li>
</ul>
</li>
<li>
<p>By using streaming channels, you will be able to use big data chunks at low frequency to optimize the data rate efficiency of the bus. The idea is to exchange big chunks of data between containers instead of large amounts of time-constrained small messages flooding all containers.</p>
</li>
</ol>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<p>A motor-driver container has strict real-time constraints. If you want to have a smooth positioning movement or measurement you have to update the motor position at high-frequency (<strong>sampling frequency</strong>).<br/>
First, you have to define the <strong>sampling frequency</strong> allowing you to have a smooth movement or measurement on the motor. Let's take 200Hz in this example.</p>
<p>In the non-real-time side (the container commanding the motor), you can't have a 200Hz loop because it probably has other things to do and perhaps doesn't have a sufficient time precision. To simplify it you will have to send trajectory chunks regularly (<strong>chunk time</strong>), let's say approximately every 1 second.</p>
<p>Based on those numbers, your data chunk size will be:</p>
<pre><code class="language-AsciiDoc">chunk_size = chunk_time(s) x sampling_frequency(Hz)
chunk_size = 1 x 200 = 200 samples
</code></pre>
<p>In our configuration, data chunk needs to be 200 position samples each second, allowing to feed the streaming channel.</p>
<p>Following our example, if we want to send trajectory to the motor, we will have a <em>ring buffer</em> in the motor side managed by the <em>streaming channel</em>. Here are the different states of this ring_buffer:
<img src="pages/low/containers/../../../_assets/img/streaming.png"/></p>
<ol>
<li>The container who sends the trajectory has to make sure that the motor container always has data to consume. To do that you have to bootstrap your streaming flux by sending 2 data chunks to start and then send a new data chunk each <em>chunk_time</em>.
This way, the receiver always has at least one data chunk (1s in this example) ready to be consumed.</li>
<li>When data chunks are received, the receiver can start consuming data at its <em>sampling frequency</em>.</li>
<li>One data chunk later (1s in our example), the receiver has consumed the first data chunk, and the sender can start to compute the next one.</li>
<li>At the end of the data chunk computation, the sender sends the chunk. Luos adds it to the ring buffer.</li>
<li>At each second, the sender sends the next data chunk and Luos adds it to the ring buffer. At the end of the buffer, Luos puts extra data at the begining. The consumer pointer also goes back to the begining of the buffer when it reaches the end. This way we have infinite data stream without any discontinuity.</li>
<li>You can continue to do this indefinitely.</li>
</ol>
<blockquote>
<p><strong>Note:</strong> You can play, pause, stop or record a stream flux with the standard <strong>CONTROL</strong> command using the <strong>control_type_t</strong> structure.</p>
</blockquote>
<h2 id="how-to-use-it"><a class="header" href="#how-to-use-it">How to use it</a></h2>
<p><strong>A streaming channel is always created by the strict real-time container.</strong> The other container (the non-real-time one) will just send or receive its data chunks using <a href="pages/low/containers/./msg-handling.html#large-data">large data messages</a>.</p>
<h3 id="streaming-channel-creation"><a class="header" href="#streaming-channel-creation">Streaming channel creation</a></h3>
<p>Before starting to use the streaming method, you have to create a streaming channel linked to a buffer into the init function of your real-time container:</p>
<pre><code class="language-c">#define BUFFER_SIZE 1024
volatile angular_position_t trajectory_ring_buf[BUFFER_SIZE];
streaming_channel_t trajectory;

void Motor_Init(void) {
    trajectory = Stream_CreateStreamingChannel(trajectory_ring_buf, BUFFER_SIZE, sizeof(angular_position_t));
    Luos_CreateContainer(Motor_MsgHandler, CONTROLLER_MOTOR_MOD, &quot;motor_mod&quot;);
}
</code></pre>
<p>Now you can use this channel to receive or transmit a streaming flux:</p>
<ul>
<li><strong>reception</strong> is suited to make our motor move smoothly. A no-real-time container will send us parts of trajectory approximately each second and our motor will consume angular position at 200Hz.</li>
<li><strong>transmission</strong> is suited to measure precisely the movements of the motor. We can use it to send in a non-real-time way real-time data. In our motor it could be angular position measurement at 200Hz for example.</li>
</ul>
<h3 id="streaming-reception"><a class="header" href="#streaming-reception">Streaming reception</a></h3>
<p>This is used to make the motor move.<br/>
When your streaming channel has been created, you can feed it with received messages on your reception callback:</p>
<pre><code class="language-C">void Motor_MsgHandler(container_t *container, msg_t *msg) {
   // check message command
   if (msg-&gt;header.cmd == ANGULAR_POSITION) {
       // this is our trajectory reception
       Luos_ReceiveStreaming(container, msg, &amp;trajectory);
   }
}
</code></pre>
<p>Now your container is able to receive trajectory chunks. For the next step, you need to have a real-time callback (using a timer for example) which is able to manage the consumption of this trajectory at 200hz:</p>
<pre><code class="language-C">void 200hz_callback(void) {
    Stream_GetSample(&amp;trajectory, &amp;motor.target_angular_position);
}
</code></pre>
<h3 id="streaming-transmission"><a class="header" href="#streaming-transmission">Streaming transmission</a></h3>
<p>This is used to measure the motor movements.<br/>
To go the other way and send a sampled signal such as a position measurement, you have to use your streaming channel in reception.
First you have to put values into your streaming channel at 200Hz:</p>
<pre><code class="language-C">void 200hz_callback(void) {
    Stream_PutSample(&amp;trajectory, &amp;motor.angular_position);
}
</code></pre>
<p>This way, samples are buffered into your ring buffer, and you can send this real-time information as you want:</p>
<pre><code class="language-C">void Motor_MsgHandler(container_t *container, msg_t *msg) {
   msg_t pub_msg;
   // check message command
   if (msg-&gt;header.cmd == ASK_PUB_CMD) {
       // prepare a reply message and send
       pub_msg.header.target_mode = ID;
       pub_msg.header.target = msg-&gt;header.source;
       pub_msg.header.cmd = ANGULAR_POSITION;
       Luos_SendStreaming(container, &amp;pub_msg, &amp;measurement);
   }
}
</code></pre>
<p>The <code>Luos_SendStreaming</code> function sends available data on your streaming channel. You can continue to feed your channel with samples at the same time.</p>
<blockquote>
<p><strong>Warning:</strong> This example doesn't work if your container is configured as real-time. Please read <a href="pages/low/containers/./rt-config.html">Message Handling configuration page</a> for more informations.</p>
</blockquote>
<h1 id="message-handling-configuration"><a class="header" href="#message-handling-configuration">Message Handling configuration</a></h1>
<blockquote>
<p><strong>Warning:</strong> Make sure to read and understand how to <a href="pages/low/containers/./create-containers.html">Create Luos containers</a> before reading this page.</p>
</blockquote>
<p>Message callbacks of containers can be really difficult to use when a project has high real-time constraints.<br/>
Luos provides two different configurations allowing you to choose the best way for you to deal with messages.
The message handling configuration is set during the <a href="pages/low/containers/./create-containers.html">initialization of a container</a>.</p>
<table><thead><tr><th align="center">Configuration</th><th align="center">execution type</th></tr></thead><tbody>
<tr><td align="center"><a href="pages/low/containers/rt-config.html#Callback-configuration">Callback (default)</a></td><td align="center">runtime callback</td></tr>
<tr><td align="center"><a href="pages/low/containers/rt-config.html#polling-configuration">Polling</a></td><td align="center">no callback</td></tr>
</tbody></table>
<p>The following sections detail how the different configurations work.</p>
<h2 id="callback-configuration"><a class="header" href="#callback-configuration">Callback configuration</a></h2>
<p>This configuration is the default and most common setup. In this configuration, Luos directly calls the container callback during runtime. The time between the physical reception of a message and the callback may vary depending on the <code>luos_loop()</code> function call frequency.<br/>
With this configuration, you have no real constraints on the callback's time of execution, you can reply to a message directly on the callback.</p>
<p>To setup this configuration you have to simply setup the callback at container creation.</p>
<p>Here is a code example with a button:</p>
<pre><code class="language-c">void Button_MsgHandler(container_t *container, msg_t *msg) {
    if (msg-&gt;header.cmd == ASK_PUB_CMD) {
        // The message is filled with global variable with proper data
        msg_t pub_msg;
        pub_msg.header.cmd = IO_STATE;
        pub_msg.header.target_mode = ID;
        pub_msg.header.target = msg-&gt;header.source;
        pub_msg.header.size = sizeof(char);
        pub_msg.data[0] = HAL_GPIO_ReadPin(BTN_GPIO_Port, BTN_Pin);
        // Sending the message
        Luos_SendMsg(container, &amp;pub_msg);
        return;
    }
}

void Button_Init(void) {
    // container creation: (callback, container type, Default alias)
    container_t* container = Luos_CreateContainer(Button_MsgHandler, STATE_MOD, &quot;button_mod&quot;);
}

void Button_Loop(void) {
}
</code></pre>
<h2 id="polling-configuration"><a class="header" href="#polling-configuration">Polling configuration</a></h2>
<p>This configuration is often used in Arduino libraries to receive information in a basic way. This method allows you handle messages only when the user wants to do it in the loop of the container.</p>
<p>To setup this configuration, you have to create your container without any callbacks.</p>
<p>See the following code as an example, with a button:</p>
<pre><code class="language-c">container_t* container;
void Button_Init(void) {
    container = Luos_CreateContainer(0, STATE_MOD, &quot;button_mod&quot;);
}

void Button_Loop(void) {
    if (Luos_NbrAvailableMsg()) {
        msg_t *msg = Luos_ReadMsg(container);
        if (msg-&gt;header.cmd == ASK_PUB_CMD) {
            // The message is filled with global variable with proper data
            msg_t pub_msg;
            pub_msg.header.cmd = IO_STATE;
            pub_msg.header.target_mode = ID;
            pub_msg.header.target = msg-&gt;header.source;
            pub_msg.header.size = sizeof(char);
            pub_msg.data[0] = HAL_GPIO_ReadPin(BTN_GPIO_Port, BTN_Pin);
            // Sending the message
            Luos_SendMsg(container, &amp;pub_msg);
        }
    }
}
</code></pre>
<h1 id="code-examples"><a class="header" href="#code-examples">Code Examples</a></h1>
<p>Here is a list of project example you can use to understand different concepts used in this documentation.
You can use this table to find interesting project regarding specific features example you are looking for.</p>
<table id="cust_table">
<thead>
<tr>
<th align="left"><small>Projects</small></th>
<th align="center"><small><a href="pages/low/containers/../containers.html">Dynamic containers allocation</a></small></th>
<th align="center"><small><a href="pages/low/containers/./msg-handling.html">Large data</a></small></th>
<th align="center"><small><a href="pages/low/containers/./streaming.html">Streaming</a></small></th>
<th align="left"><small><a href="pages/low/containers/./od.html">Object Dictionnary</a></small></th>
<th align="center"><small><a href="pages/low/containers/./routing-table.html">Routing table</a></small></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Gate" target="_blank">Gate</a></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Potentiometer" target="_blank">Potentiometer</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Gpio" target="_blank">Gpio</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Distance" target="_blank">Distance</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Servo" target="_blank">Servo</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Dxl" target="_blank">Dxl</a></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Load" target="_blank">Load</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Stepper" target="_blank">Stepper</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Imu" target="_blank">IMU</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Button" target="_blank">Button</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Led" target="_blank">LED</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Dc_motor" target="_blank">DC motor</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Controller_motor" target="_blank">Controller motor</a></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Led_strip" target="_blank">LED strip</a></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Light_sensor" target="_blank">Light sensor</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
<tr>
<td align="left"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Power_switch" target="_blank">Power switch</a></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td style="background-color: rgba(143, 188, 143,0.2);" align="center"><strong>&#10003;</strong></td>
<td align="center"></td>
</tr>
</tbody>
</table>
<h1 id="high-level"><a class="header" href="#high-level">High level</a></h1>
<p>This part of the Luos documentation is dedicated to people aiming to control or monitor a device trough a computer or a Raspberry Pi using classic programming ways such as Python, JavaScript, or Rust.</p>
<p>Luos provides a Python library, <a href="pages/high/./pyluos.html"><strong>Pyluos</strong></a> and also works with <a href="pages/high/./ros.html"><strong>ROS</strong></a>. If you want to use another language, you should start reading about our <a href="pages/high/./json-api.html"><strong>JSON API</strong></a>.</p>
<h1 id="a-hrefpageshighjson-apihtmljson-api-classheader-idjson-apiimg-srcpageshigh_assetsimgjson-logopng-width80px--json-apia"><a class="header" href="#a-hrefpageshighjson-apihtmljson-api-classheader-idjson-apiimg-srcpageshigh_assetsimgjson-logopng-width80px--json-apia"><a href="pages/high/json-api.html#json-api" class="header" id="json-api"><img src="pages/high/../../_assets/img/json-logo.png" width="80px"> / JSON API</a></a></h1>
<p>The <a href="https://en.wikipedia.org/wiki/JSON" target="blank_">JSON formated data</a> is very common and widely used by many programming languages. Luos allows you to convert low-level Luos information into JSON objects, enabling conventional programming languages to easily interact with your device.<br/>
To do that, you must add a specific app container called a <a href="pages/high/./containers_list/gate.html">Gate</a> on your device.</p>
<p>The <a href="pages/high/./containers_list/gate.html">Gate container</a> is an app that converts Luos messages from a device's network into JSON data format, and the other way from JSON to Luos messages.<br/>
The Gate container can be hosted into different kinds of <span class="cust_tooltip">nodes<span class="cust_tooltiptext">Hardware element (MCU) hosting and running Luos and hosting one or several containers.</span></span> allowing you to choose the communication way fitting with your project (USB, Wifi, Bluetooth, etc.)</p>
<blockquote>
<p><strong>Warning:</strong> The Gate container refreshes sensors information as fast as it can, so that can be intensive to Luos bandwidth.</p>
</blockquote>
<h2 id="how-to-start-using-the-json-api"><a class="header" href="#how-to-start-using-the-json-api">How to start using the JSON API</a></h2>
<p>Before using your device through JSON, you have to be connected to the communication flow depending on the node type hosting your Gate container.<br/>
Then you can start the Gate by sending:</p>
<pre><code class="language-JSON">{&quot;detection&quot;: {}}\r
</code></pre>
<p>This command asks the Gate to start a topological detection, create a routing table, convert it into JSON and send it back to you.</p>
<h2 id="routing-table-messages"><a class="header" href="#routing-table-messages">Routing table messages</a></h2>
<blockquote>
<p><strong>Warning:</strong> Make sure to read and understand how <a href="pages/high/../low/containers/routing-table.html">routing table</a> works before reading this part.</p>
</blockquote>
<p>After the Gate starts, the first message you receive is a routing table.<br/>
This first message is really important, because it contains all the information allowing you to create a code object for your device, containing all its features.</p>
<h3 id="routing-table-structure"><a class="header" href="#routing-table-structure">Routing table structure</a></h3>
<p>A routing table in JSON consists in a list of the nodes present in the Luos network:</p>
<pre><code class="language-JSON">{
   &quot;routing_table&quot;:[
      {
         // node 1
      },
      {
         // node 2
      },
      {
         // node 3
      }
      // ...
   ]
}
</code></pre>
<h4 id="nodes-information"><a class="header" href="#nodes-information">Nodes information</a></h4>
<p>Each listed node of the network has basic node information and a list of hosted containers:</p>
<pre><code class="language-JSON">{ // node 1
   &quot;node_id&quot;:1,
   &quot;certified&quot;:true,
   &quot;port_table&quot;:[1, 2],
   &quot;containers&quot;:[
      {
         // container 1
      },
      {
         // container 2
      }
      // ...
   ]
}
</code></pre>
<blockquote>
<p><strong>Note:</strong> To understand the meanings of <em>uuid</em> and <em>port_table</em>, please refer to the <a href="pages/high/../low/containers/routing-table.html">routing table page</a>.</p>
</blockquote>
<h4 id="containers-1"><a class="header" href="#containers-1">Containers</a></h4>
<p>Each listed container of a node has basic containers information:</p>
<pre><code class="language-JSON">{ // container 1
   &quot;type&quot;:&quot;Type&quot;,
   &quot;id&quot;:1,
   &quot;alias&quot;:&quot;Alias&quot;
}
</code></pre>
<blockquote>
<p><strong>Note:</strong> To understand the meanings of <em>type</em>, <em>id</em> and <em>alias</em>, please refer to the <a href="pages/high/../low/containers.html">container page</a>.</p>
</blockquote>
<h4 id="full-routing-table-example"><a class="header" href="#full-routing-table-example">Full routing table example</a></h4>
<pre><code class="language-JSON">{
   &quot;routing_table&quot;:[
      {
         &quot;node_id&quot;:1,
         &quot;certified&quot;:true,
         &quot;port_table&quot;:[2, 65535],
         &quot;containers&quot;:[
            {
               &quot;type&quot;:&quot;Gate&quot;,
               &quot;id&quot;:1,
               &quot;alias&quot;:&quot;r_right_arm&quot;
            }
         ]
      },
      {
         &quot;node_id&quot;:2,
         &quot;certified&quot;:true,
         &quot;port_table&quot;:[4, 1],
         &quot;containers&quot;:[
            {
               &quot;type&quot;:&quot;State&quot;,
               &quot;id&quot;:2,
               &quot;alias&quot;:&quot;lock&quot;
            },
            {
               &quot;type&quot;:&quot;Unknown&quot;,
               &quot;id&quot;:3,
               &quot;alias&quot;:&quot;start_control&quot;
            }
         ]
      },
      {
         &quot;node_id&quot;:3,
         &quot;certified&quot;:true,
         &quot;port_table&quot;:[5, 3],
         &quot;containers&quot;:[
            {
               &quot;type&quot;:&quot;Imu&quot;,
               &quot;id&quot;:4,
               &quot;alias&quot;:&quot;gps&quot;
            }
         ]
      },
      {
         &quot;node_id&quot;:4,
         &quot;certified&quot;:true,
         &quot;port_table&quot;:[65535, 4],
         &quot;containers&quot;:[
            {
               &quot;type&quot;:&quot;Color&quot;,
               &quot;id&quot;:5,
               &quot;alias&quot;:&quot;alarm&quot;
            },
            {
               &quot;type&quot;:&quot;Unknown&quot;,
               &quot;id&quot;:6,
               &quot;alias&quot;:&quot;alarm_control&quot;
            }
         ]
      }
   ]
}
</code></pre>
<p>Below is a visual representation of this routing table:</p>
<p><img src="pages/high/../../_assets/img/luos-network-ex.png" alt="" /></p>
<h3 id="containers-information-messages"><a class="header" href="#containers-information-messages">Container's information messages</a></h3>
<p>When the JSON routing table is transmitted, the Gate starts to update and stream your network data with <strong>containers information</strong>.</p>
<p>This JSON is a &quot;container&quot; object listing all the containers by their alias and the values they send:</p>
<pre><code class="language-JSON">{
   &quot;containers&quot;:{
      &quot;container_alias1&quot;:{
         &quot;value1&quot;:12.5
      },
      &quot;container_alias2&quot;:{
         &quot;value1&quot;:13.6,
         &quot;value2&quot;:[1, 2, 3, 4]
      }
   }
}
</code></pre>
<p>You can use the exact same JSON object structure to send data to containers.</p>
<p>Here is the list of all values that can be used by containers:</p>
<table><thead><tr><th align="center">Value name</th><th align="center">Definition</th></tr></thead><tbody>
<tr><td align="center">power_ratio</td><td align="center">Percentage of power of an actuator (-100% to 100%)</td></tr>
<tr><td align="center">target_rot_position</td><td align="center">Actuator's target angular position (can be a number or an array)</td></tr>
<tr><td align="center">limit_rot_position</td><td align="center">Actuator's limit angular position</td></tr>
<tr><td align="center">limit_trans_position</td><td align="center">Actuator's limit angular position</td></tr>
<tr><td align="center">limit_power</td><td align="center">Limit ratio of an actuator's reduction</td></tr>
<tr><td align="center">limit_current</td><td align="center">Limit current value</td></tr>
<tr><td align="center">target_rot_speed</td><td align="center">Actuator's target rotation speed</td></tr>
<tr><td align="center">target_trans_position</td><td align="center">Actuator's target linear position (can be a number or an array)</td></tr>
<tr><td align="center">target_trans_speed</td><td align="center">Actuator's target linear speed</td></tr>
<tr><td align="center">time</td><td align="center">Time value</td></tr>
<tr><td align="center">compliant</td><td align="center">Actuator's compliance status</td></tr>
<tr><td align="center">pid</td><td align="center">Set of PID values (proportionnal, integral, derivative)</td></tr>
<tr><td align="center">resolution</td><td align="center">Sensor's resolution value</td></tr>
<tr><td align="center">offset</td><td align="center">Offset value</td></tr>
<tr><td align="center">reduction</td><td align="center">Ratio of an actuator's reduction</td></tr>
<tr><td align="center">dimension</td><td align="center">Dimension value</td></tr>
<tr><td align="center">volt</td><td align="center">Voltage value</td></tr>
<tr><td align="center">current</td><td align="center">Electric current value</td></tr>
<tr><td align="center">reinit</td><td align="center">Reinitialisation command</td></tr>
<tr><td align="center">control</td><td align="center">Control command (play, pause, stop, rec)</td></tr>
<tr><td align="center">color</td><td align="center">Color value</td></tr>
<tr><td align="center">io_state</td><td align="center">IO state</td></tr>
<tr><td align="center">uuid</td><td align="center">Container's uuid</td></tr>
<tr><td align="center">rename</td><td align="center">Renaming an alias</td></tr>
<tr><td align="center">revision</td><td align="center">Firmware revision</td></tr>
<tr><td align="center">trans_position</td><td align="center">Translation position value</td></tr>
<tr><td align="center">trans_speed</td><td align="center">Translation speed value</td></tr>
<tr><td align="center">rot_position</td><td align="center">Rotation position value</td></tr>
<tr><td align="center">rot_speed</td><td align="center">Rotation speed value</td></tr>
<tr><td align="center">lux</td><td align="center">Lux (light intensity) value</td></tr>
<tr><td align="center">temperature</td><td align="center">Temperature value</td></tr>
<tr><td align="center">force</td><td align="center">Force value</td></tr>
<tr><td align="center">moment</td><td align="center">Torque value</td></tr>
<tr><td align="center">power</td><td align="center">Power value</td></tr>
<tr><td align="center">linear_accel</td><td align="center">Linear acceleration value</td></tr>
<tr><td align="center">gravity_vector</td><td align="center">Gravity vector value</td></tr>
<tr><td align="center">compass</td><td align="center">Compass value</td></tr>
<tr><td align="center">gyro</td><td align="center">Gyroscope value</td></tr>
<tr><td align="center">accel</td><td align="center">Acceleration value</td></tr>
<tr><td align="center">euler</td><td align="center">Euler angle value</td></tr>
<tr><td align="center">quaternion</td><td align="center">Quaternion values</td></tr>
<tr><td align="center">rotational_matrix</td><td align="center">Rotational matrix values</td></tr>
<tr><td align="center">heading</td><td align="center">Heading</td></tr>
<tr><td align="center">pedometer</td><td align="center">Steps number value</td></tr>
<tr><td align="center">walk_time</td><td align="center">Walk time value</td></tr>
<tr><td align="center">luos_revision</td><td align="center">Luos's version</td></tr>
<tr><td align="center">luos_statistics</td><td align="center">Luos's memory usage statistics [Rx stack, Luos stack, Tx stack, Dropped messages, Loop delay, Send retry max number]</td></tr>
</tbody></table>
<p>Here is an exemple of a message sent by a Potentiometer container about the rotation angle of the associated potentiometer:</p>
<pre><code class="language-JSON">{
   &quot;containers&quot;:{
      &quot;potentiometer_m&quot;:{
         &quot;rot_position&quot;:12.5
      }
   }
}
</code></pre>
<p>Here is an exemple of a message sent by a gate container about Luos statistic:</p>
<pre><code class="language-JSON">{
   &quot;containers&quot;:{
      &quot;gate&quot;:{
         &quot;luos_statistics&quot;:{
            &quot;msg_stack&quot;:60,
            &quot;luos_stack&quot;:53,
            &quot;msg_drop&quot;:0,
            &quot;loop_ms&quot;:16,
            &quot;fail_ratio&quot;:0,
            &quot;nak_max&quot;:1,
            &quot;collision_max&quot;:5,
         }
      }
   }
}
</code></pre>
<h4 id="custom-parameters-and-specific-messages"><a class="header" href="#custom-parameters-and-specific-messages">Custom parameters and specific messages</a></h4>
<p>Some messages are specifically handled:</p>
<!-- - If the type is `VOID_MOD`, the container is empty and no message is converted.-->
<p>Custom parameters can be defined and sent to containers through the JSON API, either with Python (Pyluos) or any other programming language on a computer side.
Here is an example of a C function that can be implemented in order to send commands to containers in a Luos Network, through a gate:</p>
<pre><code class="language-C">def sendCmd(s, cmd, sleep_time=0.5):
    cmd = cmd + '\r'
    print(cmd)
    s.write(cmd.encode())
    time.sleep(sleep_time)
s = serial.Serial(sys.argv[1], 1000000)
# detect Luos network
sendCmd(s, '{&quot;detection&quot;: {}}')
# set speed mode and compliant mode
sendCmd(s, '{&quot;containers&quot;: {&quot;controller_moto&quot;: {&quot;parameters&quot;: 2441}}}')
# set pid parameters
sendCmd(s, '{&quot;containers&quot;: {&quot;controller_moto&quot;: { &quot;pid&quot;: [20, 0.02, 90]}}}')
# set speed mode and non compliant mode
sendCmd(s, '{&quot;containers&quot;: {&quot;controller_moto&quot;: {&quot;parameters&quot;: 2440}}}')
</code></pre>
<p>Parameters are defined by a 16-bit bitfield.</p>
<table><thead><tr><th align="center">Object</th><th align="center">Definition</th><th align="center">Structure</th><th align="center">Container(s)</th></tr></thead><tbody>
<tr><td align="center">parameters</td><td align="center">enabling or disabling some measurement</td><td align="center"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Controller_motor/lib/Controller_motor/controller_motor.h#L7-L31">Link to structure (GitHub)</a></td><td align="center"><a href="pages/high/./containers_list/stepper.html">Stepper</a>, <a href="pages/high/./containers_list/controller-motor.html">Controller-motor</a>, <a href="pages/high/./containers_list/servo.html">Servo</a></td></tr>
<tr><td align="center">parameters</td><td align="center">enabling or disabling some measurement</td><td align="center"><a href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Imu/lib/Imu/mpu_configuration.h#L37-L56">Link to structure (GitHub)</a></td><td align="center"><a href="pages/high/./containers_list/imu.html">Imu</a></td></tr>
</tbody></table>
<p>Other specific messages:</p>
<table><thead><tr><th align="center">Object</th><th align="center">Definition</th><th align="center">Container(s)</th></tr></thead><tbody>
<tr><td align="center">register</td><td align="center">Motor memory register filed with [register_number, value]</td><td align="center"><a href="pages/high/./containers_list/dxl.html">Dynamixel</a>, void</td></tr>
<tr><td align="center">set_id</td><td align="center">A set id command</td><td align="center"><a href="pages/high/./containers_list/dxl.html">Dynamixel</a>, void</td></tr>
<tr><td align="center">wheel_mode</td><td align="center">The wheel mode parameter for Dynamixel servomotors True or False</td><td align="center"><a href="pages/high/./containers_list/dxl.html">Dynamixel</a>, void</td></tr>
<tr><td align="center">delay</td><td align="center">reduce containers refresh rate</td><td align="center"><a href="pages/high/./containers_list/gate.html">Gate</a></td></tr>
</tbody></table>
<h3 id="containers-exclusion-messages"><a class="header" href="#containers-exclusion-messages">Containers exclusion messages</a></h3>
<p>Containers can be excluded from the network if a problem occurs (see <a href="pages/high/../low/containers/self-healing.html#container-exclusion">self-healing</a> for more information). In this case, the Gate sends an exclusion message indicating that this container is no longer available:</p>
<pre><code class="language-JSON">{&quot;dead_container&quot;: &quot;container_alias&quot;}
</code></pre>
<h3 id="node-assert-messages"><a class="header" href="#node-assert-messages">Node assert messages</a></h3>
<p>Nodes can assert if a critical issue occurs (see <a href="pages/high/../low/containers/self-healing.html#assert">self-healing</a> for more information). In this case, the Gate sends an assertion message indicating that this node is no longer available and some details about the crash:</p>
<pre><code class="language-JSON">{
   &quot;assert&quot;:{
      &quot;node_id&quot;:3,
      &quot;file&quot;:&quot;/Users/foo/luos/Examples/Drivers/Button/button.c&quot;,
      &quot;line&quot;:75
   }
}
</code></pre>
<h2 id="sending-large-binary-data"><a class="header" href="#sending-large-binary-data">Sending large binary data</a></h2>
<p>Binary data such as, for example, a motor tarjectory can't be included into a JSON file if it is too large. In order to allow this type of transmission, the size of the binary data is sent through the JSON, then followed by the actual data in binary format.</p>
<ul>
<li>
<p>If the data is short, it can be displayed inside the JSON as a regular value (see the different values in <a href="pages/high/json-api.html#containers-information-messages">Container's information messages section</a>), or as a table of several values (for example a motor trajectory).</p>
</li>
<li>
<p>If the data is large, the defined value must be a <strong>table of one element</strong>, containing only the size of the binary data to be transfered, in bytes.</p>
</li>
</ul>
<p>The following example shows a transfert of a binary data of 1024 bytes.</p>
<pre><code class="language-JSON">{
   &quot;containers&quot;:{
      &quot;container_alias1&quot;:{
         &quot;rot_position&quot;:[1024]
      }
   }
}
###BINARY_DATA###
</code></pre>
<h1 id="a-hrefpageshighpyluoshtmlpyluos-classheader-idpyluosimg-srcpageshigh_assetsimgpython-logopng-width80px--a-pyluos-guidea"><a class="header" href="#a-hrefpageshighpyluoshtmlpyluos-classheader-idpyluosimg-srcpageshigh_assetsimgpython-logopng-width80px--a-pyluos-guidea"><a href="pages/high/pyluos.html#pyluos" class="header" id="pyluos"><img src="pages/high/../../_assets/img/python-logo.png" width="80px"> / A Pyluos guide</a></a></h1>
<p>Pyluos is the standard Python library to manage a Luos system with a computer. In this tutorial, you will learn how to install Pyluos in order to use Luos with Python on a computer, through a  <a href="pages/high/./containers_list/gate.html"><em>gate</em></a> container.</p>
<h2 id="installation"><a class="header" href="#installation">Installation</a></h2>
<h3 id="required-installing-python-and-pip"><a class="header" href="#required-installing-python-and-pip">Required: Installing Python and Pip</a></h3>
<blockquote>
<p><strong>Warning:</strong> In order to use Pyluos library, Python and the Pip package manager must be installed on your computer.</p>
</blockquote>
<p><em>¬´ Python is a programming language that lets you work more quickly and integrate your systems more effectively. ¬ª (<small><a href="https://python.org" target="_blank">Source</a></small>)</em></p>
<p><em>¬´ <a href="https://pip.pypa.io/en/stable/" target="_blank">Pip</a> is the standard package manager for Python. It allows you to install and manage additional packages that are not part of the Python standard library. ¬ª (<small><a href="https://realpython.com/what-is-pip/#getting-started-with-pip" target="_blank">Source</a></small>)</em></p>
<p>If Python is not installed on your computer, download and run the last release according to your computer's OS: <a href="https://www.python.org/downloads/" target="_blank">https://www.python.org/downloads/</a>.</p>
<p>To install Pip, type the following commands in a console:</p>
<pre><code class="language-bash">curl https://bootstrap.pypa.io/get-pip.py -o get-pip.py
python get-pip.py
</code></pre>
<h3 id="installing-jupyter-notebook"><a class="header" href="#installing-jupyter-notebook">Installing Jupyter Notebook</a></h3>
<p>The tool <em>Jupyter Notebook</em> is needed for this tutorial. Jupyter Notebook will allow you to type Python commands in an internet browser to communicate with a Luos system, via Pyluos.</p>
<p><em>¬´ The Jupyter Notebook App is a server-client application that allows editing and running notebook documents via a web browser. The Jupyter Notebook App can be executed on a local desktop requiring no internet access (...) or can be installed on a remote server and accessed through the internet. ¬ª (<small><a href="https://jupyter-notebook-beginner-guide.readthedocs.io/en/latest/what_is_jupyter.html" target="_blank">Source</a></small>)</em></p>
<p>Type the following command in the console to install Jupyter:</p>
<pre><code class="language-bash">pip install jupyter
</code></pre>
<blockquote>
<p><strong>Note:</strong> Feel free to consult <a href="https://jupyter.readthedocs.io/en/latest/content-quickstart.html" target="_blank"><em>Jupyter Notebook</em>'s</a> documentation.</p>
</blockquote>
<h3 id="installing-or-updating-pyluos-library"><a class="header" href="#installing-or-updating-pyluos-library">Installing or updating Pyluos library</a></h3>
<p>You are now ready to install Pyluos. <strong>The last Pyluos version is <code>1.4.2</code>.</strong></p>
<p>In a console, the following command will install the <em>Pyluos</em> library using the <em>Pip package manager</em>:</p>
<pre><code class="language-bash">pip install pyluos
</code></pre>
<p>If Pyluos is already installed, it may only need to be updated:</p>
<pre><code class="language-bash">pip install --upgrade pyluos
</code></pre>
<p>Pyluos also provides auto generated pre-releases for advanced developers user. You can get it using:</p>
<pre><code class="language-bash">pip install --pre pyluos
</code></pre>
<h2 id="start-using-jupyter-notebook-and-pyluos"><a class="header" href="#start-using-jupyter-notebook-and-pyluos">Start using Jupyter Notebook and Pyluos</a></h2>
<p><em>Jupyter Notebook</em> can be launched through a console:</p>
<pre><code class="language-bash">jupyter notebook
</code></pre>
<p>In the browser page that opened, the <code>New</code> button creates a new Python file:</p>
<p><img src="pages/high/../../_assets/img/pyluos-1.png" alt="python" /></p>
<blockquote>
<p><strong>Note:</strong> In the previous picture, <em>Jupyter</em> use <em>Python 3</em> but you also can use <em>Python 2.7</em> depending on your computer configuration.</p>
</blockquote>
<p><img src="pages/high/../../_assets/img/pyluos-2.png" alt="Jupyter" /></p>
<p>The Jupyter work-space looks like the following image. On the keyboard,  <code>Shift+Enter</code> executes any selected part of code.</p>
<p>Now you are ready to code using Python.</p>
<h3 id="import-pyluos"><a class="header" href="#import-pyluos">Import Pyluos</a></h3>
<p>The first thing to do is to call the Pyluos library along with the <code>Device</code> tool inside that library:</p>
<pre><code class="language-python">from pyluos import Device
</code></pre>
<p>This line is always used while programming behaviors and should be called before any connection with the device is made.</p>
<h3 id="device-connection"><a class="header" href="#device-connection">Device connection</a></h3>
<p>Connect your device to your computer through a <a href="pages/high/../demo_boards/boards_list/usb.html">Gate</a> with a USB cable.</p>
<h4 id="configuring-usb-transfer-sizes-and-latency-timer"><a class="header" href="#configuring-usb-transfer-sizes-and-latency-timer">Configuring USB transfer sizes and latency timer</a></h4>
<p>Some devices may not work properly with the default USB transfer sizes and latency timer for COM ports on Windows. These parameters can be set to lower values in order to use your device properly while connected to your computer from a <a href="pages/high/../demo_boards/boards_list/usb.html">Gate</a>.</p>
<p><strong>USB Transfer Sizes</strong>: Default value is 4096 Bytes, however if you have issues to use your connected device, you should try the minimum possible values both for <code>Receive</code> and <code>Transmit</code>.</p>
<p><strong>Latency Timer</strong>: Default value is 16 msec, but you can rise lower it to the minimal value of 1 msec.</p>
<p>To access to these parameters, open the Device Manager in Windows, and right-click on the <em>USB Serial Port (COMX)</em> where your device is connected, then click on <em>Properties</em>.</p>
<p><img src="pages/high/../../_assets/img/device-manager.png" alt="" /></p>
<p>Click on <em>Port Settings</em> tab and click on <em>Advanced...</em> button.</p>
<p><img src="pages/high/../../_assets/img/serial-properties.png" alt="" /></p>
<p>Change the desired values.</p>
<p><img src="pages/high/../../_assets/img/com-port-adv-settings.png" alt="" /></p>
<p>These values can give you better results, for example if your device has motors to control.</p>
<h4 id="connection-to-the-device"><a class="header" href="#connection-to-the-device">Connection to the device</a></h4>
<p>Now you should be ready to use the Pyluos library and connect to your device. To do that, you have to create a device object with your device address as an argument.</p>
<p>Your device address can be an IP address (<code>192.168.0.6</code> or <code>my_device.local</code> for example) or a serial port (<code>COM13</code> on Windows or <code>/dev/cu.usbserial-DN2YEFLN</code> on Mac).</p>
<pre><code class="language-python">device = Device('address of the device')
</code></pre>
<p>This line makes the connexion between the computer and the device. Python should answer with this kind of message:</p>
<p><code>Connected to &quot;address to the device&quot;.</code><br />
<code>Sending detection signal.</code><br />
<code>Waiting for first state...</code><br />
<code>Device setup.</code></p>
<p>Only once the connection is set it is possible to start programming behaviors.</p>
<h3 id="routing-table-display"><a class="header" href="#routing-table-display">Routing table display</a></h3>
<p><a href="pages/high/../low/containers/routing-table.html">Routing table</a> can be easily displayed using Pyluos.</p>
<p>Pyluos can displays a list of all the containers by filtering the routing table, and their associated characteristics (type, alias and ID).
To display it, use the following command:</p>
<pre><code class="language-python">device.containers
</code></pre>
<blockquote>
<p><strong>Note:</strong> <code>device</code> is the name of the network.</p>
</blockquote>
<p>Pyluos will give you a list of all containers without any topological informations :</p>
<pre><code class="language-AsciiDoc">-------------------------------------------------
Type                Alias               ID
-------------------------------------------------
Gate                gate                1
Voltage             analog_read_P1      2
Voltage             analog_read_P7      3
Voltage             analog_read_P8      4
Voltage             analog_read_P9      5
State               digit_read_P5       6
State               digit_read_P6       7
State               digit_write_P2      8
State               digit_write_P3      9
State               digit_write_P4      10
Angle               potentiometer_m     11
</code></pre>
<p>Pyluos also can interpreate routing_table and transform it into a tree. This way we can display a lot more complete information usinig the following command :</p>
<pre><code class="language-python">device.nodes
</code></pre>
<blockquote>
<p><strong>Note:</strong> <code>device</code> is the name of the network.</p>
</blockquote>
<p>Based on the previous example Pyluos will give you all informations about containers and topological informations :</p>
<pre><code class="language-AsciiDoc">  ‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
  ‚îÉ  ‚ï≠node 1                Certified            ‚îÉ
  ‚îÉ  ‚îÇ  Type                Alias           ID   ‚îÉ
  ‚îÉ  ‚ï∞&gt; Gate                gate            1    ‚îÉ
‚ïî&gt;‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
‚ïë     ‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
‚ïö‚ïê‚ïê 0&gt;‚îÉ1 ‚ï≠node 2                Certified            ‚îÉ
      ‚îÉ  ‚îÇ  Type                Alias           ID   ‚îÉ
      ‚îÉ  ‚îú&gt; Voltage             analog_read_P1  2    ‚îÉ
      ‚îÉ  ‚îú&gt; Voltage             analog_read_P7  3    ‚îÉ
      ‚îÉ  ‚îú&gt; Voltage             analog_read_P8  4    ‚îÉ
      ‚îÉ  ‚îú&gt; Voltage             analog_read_P9  5    ‚îÉ
      ‚îÉ  ‚îú&gt; State               digit_read_P5   6    ‚îÉ
      ‚îÉ  ‚îú&gt; State               digit_read_P6   7    ‚îÉ
      ‚îÉ  ‚îú&gt; State               digit_write_P2  8    ‚îÉ
      ‚îÉ  ‚îú&gt; State               digit_write_P3  9    ‚îÉ
      ‚îÉ  ‚ï∞&gt; State               digit_write_P4  10   ‚îÉ
    ‚ïî&gt;‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
    ‚ïë     ‚îè‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îì
    ‚ïö‚ïê‚ïê 0&gt;‚îÉ1 ‚ï≠node 3                Certified            ‚îÉ
          ‚îÉ  ‚îÇ  Type                Alias           ID   ‚îÉ
          ‚îÉ  ‚ï∞&gt; Angle               potentiometer_m 11   ‚îÉ
         &gt;‚îó‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îõ
</code></pre>
<p>In this example, 3 nodes (MCU) and their associated UUID are listed, along with their containers and associated characteristics (type, alias and ID).
The characters after each set of node's containers and before the UUID's next node specify which connector is used. For example, <code>1&lt;=&gt;0</code> means the first node is connected from its second connector (1) to the first connector (0) of the next node.</p>
<h3 id="container-type"><a class="header" href="#container-type">Container type</a></h3>
<p>Each container has a type (eg. <code>Button</code>, <code>Led</code>, ...).
You can either retrieve your container's type from the previous code, or with the following line:</p>
<pre><code class="language-python">device.container_alias.type
</code></pre>
<p><code>container_alias</code> being the alias you got from the previous listing.</p>
<blockquote>
<p><strong>Note:</strong> <em>Unknown</em> container types are defaulty set for custom container types such as some <a href="pages/high/../low/containers/create-containers.html">Luos apps</a>.</p>
</blockquote>
<h3 id="get-and-set-containers-informations"><a class="header" href="#get-and-set-containers-informations">Get and set containers informations</a></h3>
<p>Once you have detected your containers, you can use these information like variables.</p>
<p>To access values you have to address them in the device object following this rules :</p>
<pre><code class="language-python">device.container_alias.variable
</code></pre>
<p>For example :</p>
<pre><code class="language-python">device.rgb_led_mod.color = [50,80,5] # Change the color of the LED in &quot;rgb_led_mod&quot; container

device.button_mod.state # Returns the status of the push button

device.button_mod.type # Returns the container type of the container &quot;button_mod&quot;

device.button_mod.luos_revision # Returns the version of luos

device.button_mod.robus_revision # Returns the version of robus
</code></pre>
<p>If you use <em>ipython</em> or <em>Jupyter Notebook</em>, you can use auto-completion using the <code>Tab</code> key to find every available objects and variables.</p>
<p><img src="pages/high/../../_assets/img/pyluos-3.png" alt="Auto-completion" /></p>
<h3 id="change-a-container-name"><a class="header" href="#change-a-container-name">Change a container name</a></h3>
<p>The name of any container can be changed by using this code: </p>
<pre><code class="language-python">device.container_alias.rename(&quot;new_name&quot;)
</code></pre>
<p>For example:</p>
<pre><code class="language-python">device.rgb_led_mod.rename(&quot;myLED&quot;)
</code></pre>
<blockquote>
<p><strong>Note:</strong> You should restart your device and reconnect to it after this operation.</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong> To get back to the container default name, set a void name (<code>&quot;&quot;</code>).</p>
</blockquote>
<h3 id="get-a-node-statistics"><a class="header" href="#get-a-node-statistics">Get a node statistics</a></h3>
<p>Nodes are able to send back some values representing the sanity of a node. You can use it to evaluate the Luos needs depending on your particular configuration.
The RAM usage of Luos depends on the number of messages the node has to treat and the max Luos loop delay.</p>
<pre><code class="language-python">device.container_alias.luos_statistics
</code></pre>
<p>For example:</p>
<pre><code class="language-python">device.gate.luos_statistics
</code></pre>
<pre><code class="language-AsciiDoc">gate statistics :
.luos allocated RAM occupation  = 53%
  .Message stack                = 50%
  .Luos stack                   = 53%
.Dropped messages number        = 0
.Max luos loop delay            = 16ms
.Msg fail ratio                 = 0%
.Nak msg max number             = 1
.Collision msg max number       = 5
</code></pre>
<ul>
<li>
<p><strong>luos allocated RAM occupation</strong> represents the global Luos RAM usage based on <strong>Message stack</strong> and <strong>Luos stack</strong>. You can use this value to know if you need to expand or reduce the amount of RAM dedicated to Luos through the <code>MAX_MSG_NB</code> configuration flag (equals to <code>2 * MAX_CONTAINER_NUMBER</code> where MAX_CONTAINER_NUMBER = 5 by default ).</p>
</li>
<li>
<p><strong>Dropped messages number</strong> represents the number of messages dropped by Luos. Luos is able to drop messages if they are too old and consume too much memory. If you experience message drops, you should increase the <code>MSG_BUFFER_SIZE</code> configuration flag (equals to <code>3 * sizeof(msg_t)</code> by default. sizeof(msg_t) -&gt; 7 bytes Header + 128 bytes data).</p>
</li>
<li>
<p>Contrary to <strong>Message stack</strong>,  <strong>Luos stack</strong>, <strong>Max luos loop delay</strong> which are Node relatif statistics, <strong>Msg fail ratio</strong> and <strong>NAK msg max number</strong> are container's statistic. <strong>Msg fail ratio</strong> give a ratio of msg send fail base a all the msg that the container has sent. <strong>NAK msg max number</strong> give the max number of NAK receive when a message has been sent.</p>
</li>
<li>
<p>The RAM occupation and message drop number is also related to <strong>Max luos loop delay</strong>. If <strong>Max luos loop delay</strong> is too big, Luos has to buffer more messages between loop executions and consumes more RAM. So you can reduce the RAM consumption and messages dropping by reducing the <strong>Max luos loop delay</strong>. To do that, you have to call the <code>Luos_Loop()</code> function more frequently.</p>
</li>
</ul>
<h3 id="full-script"><a class="header" href="#full-script">Full script</a></h3>
<pre><code class="language-python">from pyluos import Device
device = Device('address of the device')

device.containers

device.rgb_led_mod.color = [50,80,5]
device.button_mod.state
device.button_mod.type

device.rgb_led_mod.rename(&quot;myLED&quot;)
</code></pre>
<h1 id="angle-container-type"><a class="header" href="#angle-container-type">Angle container type</a></h1>
<p>The Angle container handles a rotation position value in degree.</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="variables"><a class="header" href="#variables">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">rot_position</td><td align="center">Reads the rotation position in degree</td><td align="center">Read only: Float</td></tr>
<tr><td align="center">threshold</td><td align="center">Thresholds position variation before <em>filter_changed</em> event triggers. Default value 10 ¬∞.</td><td align="center">Read / write: Float</td></tr>
</tbody></table>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<table><thead><tr><th align="center"><strong>Event name</strong></th><th align="center"><strong>Trigger</strong></th></tr></thead><tbody>
<tr><td align="center">changed</td><td align="center">Any movement on the position measurement</td></tr>
<tr><td align="center">filter_changed</td><td align="center">Movement bigger than <em>threshold</em></td></tr>
</tbody></table>
<h2 id="ros-topics"><a class="header" href="#ros-topics">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th></tr></thead><tbody>
<tr><td align="left">/potentiometer_m/variables/rot_position/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/potentiometer_m/variables/threshold/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/potentiometer_m/variables/threshold/write</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/potentiometer_m/events/changed</td><td align="center">luos_msgs/msg/FloatChange</td></tr>
<tr><td align="left">/potentiometer_m/events/filter_changed</td><td align="center">luos_msgs/msg/FloatChange</td></tr>
</tbody></table>
<h1 id="color-container-type"><a class="header" href="#color-container-type">Color container type</a></h1>
<p>The Color container handles an RGB color data.</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-1"><a class="header" href="#variables-1">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">color</td><td align="center">RGB color</td><td align="center">read / write: [Char, Char, Char]</td></tr>
<tr><td align="center">time</td><td align="center">Transition time between color command</td><td align="center">read / write: Float</td></tr>
</tbody></table>
<h2 id="ros-topics-1"><a class="header" href="#ros-topics-1">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th></tr></thead><tbody>
<tr><td align="left">/rgb_led_mod/variables/color/read</td><td align="center">std_msgs/msg/ColorRGBA</td></tr>
<tr><td align="left">/rgb_led_mod/variables/color/write</td><td align="center">std_msgs/msg/ColorRGBA</td></tr>
<tr><td align="left">/rgb_led_mod/variables/time/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/rgb_led_mod/variables/time/write</td><td align="center">std_msgs/msg/Float32</td></tr>
</tbody></table>
<h1 id="controller-motor-container-type"><a class="header" href="#controller-motor-container-type">Controller-motor container type</a></h1>
<p>This container type allows to control a motor with a reduction and a sensor (usually called motor-reducer or speed-reducer).
This container computes PID for speed, position and motion planning.</p>
<p>You can find basic information about PID control here: <a href="https://medium.com/luosdeviceics/an-introduction-to-pid-control-with-dc-motor-1fa3b26ec661" target="_blank">An introduction to PID control with DC motor</a>, and a code example to tune your PID at the end of this page.</p>
<p>Its type has access to all common capabilities.</p>
<h3 id="containerss-type-settings"><a class="header" href="#containerss-type-settings">containers‚Äôs type settings:</a></h3>
<blockquote>
<p><strong>Warning:</strong> This container doesn't save any of the following parameters, they must be set each time your container reboots.</p>
</blockquote>
<p>Before using your Controller-motor container, you have to setup the resolution, motor reduction and eventually the wheel size, if you plan to use translation modes. To check the configuration, just make a complete turn on the motor shaft with your hand and check if the rotation position value is OK.</p>
<p>Both PID‚Äôs values have to be set accordingly to the motor-reducer plugged to the board. Each different motor-reducer will have different PID‚Äôs values for position and speed control, and you have to define them by yourself.
The default values <code>[0, 0, 0]</code> won‚Äôt have any effect on the motor, and must be changed if you plan to use any position or speed control mode.
To setup your PID please refer to the example at the end of this page.</p>
<blockquote>
<p><strong>Warning:</strong> PID for position and speed must be set in your code as an initialization before starting to use your container with position or speed control.</p>
</blockquote>
<p>Now that everything is configured, you can enable the control modes you want to use. You can use position and speed mode simultaneously. Power mode is only usable alone. The Controller-motor is now ready to use, you can disable compliance to start moving the motor.</p>
<hr />
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">setToZero(self)</td><td align="center">Resets current position of the motor to 0</td><td align="center">You can use it to initialize the position of the motor</td></tr>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-2"><a class="header" href="#variables-2">Variables</a></h2>
<h3 id="motor-settings"><a class="header" href="#motor-settings">Motor settings</a></h3>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">positionPid</td><td align="center">Sets position PID used for rotation position mode and translation position mode</td><td align="center">read / write: [float P, float I, float D]</td></tr>
<tr><td align="center">speedPid</td><td align="center">Sets speed PID used for rotation speed mode and translation speed mode</td><td align="center">read / write: [float P, float I, float D]</td></tr>
<tr><td align="center">encoder_res</td><td align="center">Defines the motor sensor resolution, in steps by rotation.<br/><em>This container considers that the sensor is placed before the reduction. If it is not your case, just setup a reduction ratio of 1.</em></td><td align="center">read / write: float</td></tr>
<tr><td align="center">reduction</td><td align="center">Defines the motor reduction.<br/>Set this value to 1 if your sensor measures after the reduction.</td><td align="center">read / write: float</td></tr>
<tr><td align="center">wheel_size</td><td align="center">Defines wheel size used for translation mode, in mm.</td><td align="center">read / write: float</td></tr>
</tbody></table>
<h3 id="motor-control-modes"><a class="header" href="#motor-control-modes">Motor control modes</a></h3>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">compliant</td><td align="center">- True: disables the motor driver, you can use it to move the motor by hand.<br/> - False: Enables the motor driver.</td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">power_mode</td><td align="center">Enables/Disables the power control mode.<br/><em>Disables any other control mode if enabled.</em></td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">rot_position_mode</td><td align="center">Enables/Disables the motor rotation position control mode.<br/><em>Disables power mode and translation position mode if enabled.</em><br/><em>Doesn't work if no position PID is configured.</em></td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">rot_speed_mode</td><td align="center">Enables/Disables the motor rotation speed control mode.<br/><em>Disables power mode and translation speed mode if enabled.</em><br/><em>Doesn't work if no speed PID configured.</em></td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">trans_position_mode</td><td align="center">Enables/Disables the motor translation position control mode.<br/><em>Disables power mode and rotation position mode if enabled.</em><br/><em>Doesn't work if no position PID configured.</em></td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">trans_speed_mode</td><td align="center">Enables/Disables the motor translation speed control mode.<br/><em>Disables power mode and rotation speed mode if enabled.</em><br/><em>Doesn't work if no speed PID configured.</em></td><td align="center">read / write: Boolean (True or False)</td></tr>
</tbody></table>
<h3 id="motor-sensing"><a class="header" href="#motor-sensing">Motor sensing</a></h3>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">rot_position</td><td align="center">Reads rotation position in ¬∞<br/><em>Reading it auto-Enables actualization.</em></td><td align="center">read only: float</td></tr>
<tr><td align="center">rot_position</td><td align="center">Starts/Stops rotation position measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">rot_speed</td><td align="center">Reads rotation speed in ¬∞/s<br/><em>Reading it auto-Enables actualization.</em></td><td align="center">read only: float</td></tr>
<tr><td align="center">rot_speed</td><td align="center">Starts/Stops rotation speed measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">trans_position</td><td align="center">Reads translation position in mm<br/><em>Reading it auto-Enables actualization.</em></td><td align="center">read only: float</td></tr>
<tr><td align="center">trans_position</td><td align="center">Starts/Stops translation position measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">trans_speed</td><td align="center">Reads translation speed in mm/s<br/><em>Reading it auto-enables actualization.</em></td><td align="center">read only: float</td></tr>
<tr><td align="center">trans_speed</td><td align="center">Starts/Stops translation speed measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">current</td><td align="center">Reads the current consumption in A<br/><em>Reading it auto-enables actualization.</em></td><td align="center">read only: float</td></tr>
<tr><td align="center">current</td><td align="center">Starts/Stops current measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
</tbody></table>
<h3 id="motor-commands"><a class="header" href="#motor-commands">Motor commands</a></h3>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">power_ratio</td><td align="center">Sets the power quantity send to the motor between -100% and 100%.</td><td align="center">read / write: float</td></tr>
<tr><td align="center">target_rot_position</td><td align="center">Sets the target rotation position to reach in ¬∞.</td><td align="center">read / write: float</td></tr>
<tr><td align="center">target_rot_speed</td><td align="center">Sets the target rotation speed to reach in ¬∞/s.</td><td align="center">read / write: float</td></tr>
<tr><td align="center">target_trans_position</td><td align="center">Sets the target translation position to reach in mm.</td><td align="center">read / write: float</td></tr>
<tr><td align="center">target_trans_speed</td><td align="center">Sets the target translation speed to reach in mm/s.</td><td align="center">read / write: float</td></tr>
</tbody></table>
<h2 id="ros-topics-2"><a class="header" href="#ros-topics-2">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="left">/mod/variables/positionPid/read</td><td align="center">geometry_msgs/msg/Vector3</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/positionPid/write</td><td align="center">geometry_msgs/msg/Vector3</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/speedPid/read</td><td align="center">geometry_msgs/msg/Vector3</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/speedPid/write</td><td align="center">geometry_msgs/msg/Vector3</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/encoder_res/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/encoder_res/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/reduction/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/reduction/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/wheel_size/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/wheel_size/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/compliant/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/compliant/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/power_mode/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/power_mode/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/rot_position_mode/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/rot_position_mode/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/rot_speed_mode/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/rot_speed_mode/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/trans_position_mode/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/trans_position_mode/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/trans_speed_mode/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/trans_speed_mode/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/rot_position/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/rot_position/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/rot_speed/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/rot_speed/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/trans_position/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/trans_position/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/trans_speed/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/trans_speed/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/current/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/current/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/power_ratio/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/power_ratio/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/target_rot_position/read</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/mod/variables/target_rot_position/write</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/mod/variables/target_rot_speed/read</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/mod/variables/target_rot_speed/write</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/mod/variables/target_trans_position/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/target_trans_position/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/target_trans_speed/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/mod/variables/target_trans_speed/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
</tbody></table>
<h2 id="example-code"><a class="header" href="#example-code">Example code</a></h2>
<h3 id="pid-setting-example-code"><a class="header" href="#pid-setting-example-code">PID Setting example code</a></h3>
<p>The PID values allow your motor to stick to the target command as fast as possible. The quality of a set of PID values depends on time to reach the target position and position precision.
Tuning a PID is something difficult and takes a lot of practice. It's really important to have simple ways to evaluate PID values impact on your motor before starting to tune these values.
Here is the code we use at Luos to tune a PID by ourself. Use it with Jupyter notebook to get your plot instantly.</p>
<p>The main code:</p>
<pre><code class="language-python">%matplotlib inline
from pyluos import Device
from IPython.display import clear_output
import time
import matplotlib
matplotlib.use('TkAgg')
import matplotlib.pyplot as plt

# 1. Connect your Luos network (here using an USB container for example)
r = Device('/dev/cu.usbserial-DN2AAOVK')
r.containers

# 2. Select the container of your network you need to configure
container = r.controller_moto

# 3. Setup container basic settings
container.encoder_res = 48
container.reduction = 26.851

def run_speed_test(velocity_target):
    container.rot_position = False
    container.rot_speed = True
    container.rot_position_mode = False
    container.rot_speed_mode = True
    container.target_rot_speed = 0.0
    container.compliant = False
    target = []
    real = []
    test_time_vector = []
    test_start_time = time.time()
    target.append(container.target_rot_speed)
    real.append(container.rot_speed)
    test_time = time.time()
    test_time_vector.append(0.0)
    while (test_time &lt; test_start_time + 0.5):
        target.append(container.target_rot_speed)
        real.append(container.rot_speed)
        test_time_vector.append(test_time - test_start_time)
        test_time = time.time()
    container.target_rot_speed = velocity_target
    while (test_time &lt; test_start_time + 2.5):
        target.append(container.target_rot_speed)
        real.append(container.rot_speed)
        test_time_vector.append(test_time - test_start_time)
        test_time = time.time()
    container.compliant = True
    plot_test(test_time_vector, target, real)

def run_pos_test(pos_target):
    container.rot_speed = False
    container.rot_position = True
    container.rot_speed_mode = False
    container.rot_position_mode = True
    container.target_rot_position = 0.0
    container.compliant = False
    target = []
    real = []
    test_time_vector = []
    test_start_time = time.time()
    target.append(container.target_rot_position)
    real.append(container.rot_position)
    test_time = time.time()
    test_time_vector.append(0.0)
    while (test_time &lt; test_start_time + 1):
        target.append(container.target_rot_position)
        real.append(container.rot_position)
        test_time_vector.append(test_time - test_start_time)
        test_time = time.time()
    container.target_rot_position = pos_target
    while (test_time &lt; test_start_time + 2.5):
        target.append(container.target_rot_position)
        real.append(container.rot_position)
        test_time_vector.append(test_time - test_start_time)
        test_time = time.time()
    container.compliant = True
    plot_test(test_time_vector, target, real)

def plot_test(test_time_vector, target, real):
    fig = plt.figure()
    ax = plt.subplot(111)
    ax.plot(test_time_vector,target,'r')
    ax.plot(test_time_vector,real,'b')
    plt.show()
    plt.close(fig)
</code></pre>
<p>Now, you are ready to tune the PID values for position and speed control modes. To do that, you have to try values to get best the result possible. In order to succeed, we advise you to do it step by step:</p>
<ol>
<li>Set P, I, and D values to 0.</li>
<li>Increase the P value until you have a small oscillation around the target.</li>
<li>Increase the D value until you have a fast and stable position.</li>
<li>Increase with really small figures the I value to improve the motor precision.</li>
</ol>
<p>The code you can use to tune your speed PID:</p>
<pre><code class="language-python"># Speed PID settings
container.speedPid = [0.1,0.1,0] # speed PID [P, I, D]
run_speed_test(100.0)
</code></pre>
<p>The code you can use to tune your position PID:</p>
<pre><code class="language-python"># Position PID settings
container.positionPid = [4.0,0.02,100] # position PID [P, I, D]
run_pos_test(100.0)
</code></pre>
<h3 id="example-command-from-ros-topics"><a class="header" href="#example-command-from-ros-topics">Example command from ROS topics</a></h3>
<p>By publishing on 3 topics you will take control over the Controller-motor named <code>controller_moto</code> to a velocity command of 1.57 rad/s:</p>
<pre><code class="language-bash"># Launch the broker. Note: warnings will be displayed, please ignore them
ros2 launch luos_interface broker.launch.py

# Start the command in velocity mode
ros2 topic pub -1 /controller_moto/variables/rot_speed_mode/write std_msgs/msg/Bool data:\ true\ 
ros2 topic pub -1 /controller_moto/variables/target_rot_speed/write std_msgs/msg/Float32 data:\ 90.0\ 
ros2 topic pub -1 /controller_moto/variables/compliant/write std_msgs/msg/Bool data:\ false\ 
</code></pre>
<p>Then publish <code>true</code> to the <code>/controller_moto/variables/compliant/write</code> topic to stop the driver.</p>
<h1 id="dc-motor-container-type"><a class="header" href="#dc-motor-container-type">DC-motor container type</a></h1>
<p>The DC-motor container allows to drive a DC motor using only power mode.</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-3"><a class="header" href="#variables-3">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">power_ratio</td><td align="center">Sets the power quantity send to the motor between -100% and 100%.</td><td align="center">read / write: float</td></tr>
</tbody></table>
<h2 id="ros-topics-3"><a class="header" href="#ros-topics-3">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th></tr></thead><tbody>
<tr><td align="left">/DC_motor1_mod/variables/power_ratio/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/DC_motor1_mod/variables/power_ratio/write</td><td align="center">std_msgs/msg/Float32</td></tr>
</tbody></table>
<h1 id="distance-container-type"><a class="header" href="#distance-container-type">Distance container type</a></h1>
<p>The Distance container handles a sensor measuring a distance in mm.</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="variables-4"><a class="header" href="#variables-4">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">distance</td><td align="center">Reads the measured distance in mm</td><td align="center">read only: Float</td></tr>
<tr><td align="center">threshold</td><td align="center">Thresholds distance variation before filter_changed event trigers. Default value 10 mm.</td><td align="center">read / write: Float</td></tr>
</tbody></table>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<table><thead><tr><th align="center"><strong>Event name</strong></th><th align="center"><strong>Trigger</strong></th></tr></thead><tbody>
<tr><td align="center">changed</td><td align="center">Any movement on the distance measurement</td></tr>
<tr><td align="center">filter_changed</td><td align="center">Movement bigger than <em>threshold</em></td></tr>
</tbody></table>
<h2 id="ros-topics-4"><a class="header" href="#ros-topics-4">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th></tr></thead><tbody>
<tr><td align="left">/mod/variables/distance/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/variables/threshold/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/variables/threshold/write</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/events/changed</td><td align="center">luos_msgs/msg/FloatChange</td></tr>
<tr><td align="left">/mod/events/filter_changed</td><td align="center">luos_msgs/msg/FloatChange</td></tr>
</tbody></table>
<h1 id="dynamixel-container-type"><a class="header" href="#dynamixel-container-type">Dynamixel container type</a></h1>
<p>The Dynamixel container allows to control Dynamixel motors.</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">set_id(self, id)</td><td align="center">Changes motor ID</td><td align="center">This new Id will be saved by the Dynamixel motor. You have to detect motors again to make it work after this change.</td></tr>
<tr><td align="center">detect(self)</td><td align="center">Launches a motor detection</td><td align="center">You have to run a luos detection to include or exclude new motors.</td></tr>
<tr><td align="center">register(self, register, val)</td><td align="center">Sets a Dynamixel register value.</td><td align="center">This register only manage <em>word</em> size register. Use it only if you know what you do.</td></tr>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-5"><a class="header" href="#variables-5">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">compliant</td><td align="center">- True: disables the motor power, you can use it to move the motor by hand.<br/> - False: Enables the motor power.</td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">target_rot_position</td><td align="center">Sets the target rotation position to reach in ¬∞.</td><td align="center">read / write: Float</td></tr>
<tr><td align="center">target_rot_speed</td><td align="center">Sets the target rotation speed to reach in ¬∞/s.</td><td align="center">read / write: Float</td></tr>
<tr><td align="center">wheel_mode</td><td align="center">Enables or disables wheel mode on motor</td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">rot_position</td><td align="center">Measured position of the motor in ¬∞.</td><td align="center">read / write: Float</td></tr>
<tr><td align="center">temperature</td><td align="center">Measured temperature of the motor in ¬∞C.</td><td align="center">read / write: Float</td></tr>
<tr><td align="center">positionPid</td><td align="center">Sets position PID used for rotation position mode and translation position mode</td><td align="center">read / write: [float P, float I, float D]</td></tr>
<tr><td align="center">power_ratio_limit</td><td align="center">Max power limit in %.</td><td align="center">read / write: Float</td></tr>
<tr><td align="center">rot_position_limit</td><td align="center">Min and Max rotation position limit in ¬∞.</td><td align="center">read / write: [Float(min), Float(max)]</td></tr>
</tbody></table>
<h2 id="ros-topics-5"><a class="header" href="#ros-topics-5">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="left">/dxl_1/variables/compliant/read</td><td align="center">std_msgs/msg/Boolean</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/compliant/write</td><td align="center">std_msgs/msg/Boolean</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/target_rot_position/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/target_rot_position/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/target_rot_speed/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/target_rot_speed/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/wheel_mode/read</td><td align="center">std_msgs/msg/Boolean</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/wheel_mode/write</td><td align="center">std_msgs/msg/Boolean</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/rot_position/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/rot_position/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/temperature/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/temperature/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/positionPid/read</td><td align="center">geometry_msgs/msg/Vector3</td><td align="center">(x=P, y=I, z=D)</td></tr>
<tr><td align="left">/dxl_1/variables/positionPid/write</td><td align="center">geometry_msgs/msg/Vector3</td><td align="center">(x=P, y=I, z=D)</td></tr>
<tr><td align="left">/dxl_1/variables/power_ratio_limit/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/power_ratio_limit/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/dxl_1/variables/rot_position_limit/read</td><td align="center">geometry_msgs/msg/Vector3</td><td align="center">(x=min, y=max, z=<unused>)</td></tr>
<tr><td align="left">/dxl_1/variables/rot_position_limit/write</td><td align="center">geometry_msgs/msg/Vector3</td><td align="center">(x=min, y=max, z=<unused>)</td></tr>
</tbody></table>
<h2 id="example-code-1"><a class="header" href="#example-code-1">Example code</a></h2>
<h3 id="example-commands-from-ros-topics"><a class="header" href="#example-commands-from-ros-topics">Example commands from ROS topics</a></h3>
<p>Plot the real time angular position with RQT plot:</p>
<pre><code class="language-bash">ros2 run rqt_plot rqt_plot /dxl_1/variables/rot_position/read
</code></pre>
<p>Disable compliance:</p>
<pre><code class="language-bash">ros2 topic pub -1 /dxl_1/variables/compliant/write std_msgs/msg/Bool data:\ false\
</code></pre>
<p>The motor will move to its saved target.</p>
<p>Switch to wheel mode and set a rotational speed target:</p>
<pre><code class="language-bash">ros2 topic pub -1 /dxl_1/variables/wheel_mode/write std_msgs/msg/Bool data:\ true\ 
ros2 topic pub -1 /dxl_1/variables/target_rot_speed/write std_msgs/msg/Float32 data:\ 3.14\ 
</code></pre>
<p>The motor will move at 3.14 rad/s</p>
<p>Switch to position mode and set a rotational position target:</p>
<pre><code class="language-bash">ros2 topic pub -1 /dxl_1/variables/wheel_mode/write std_msgs/msg/Bool data:\ false\ 
ros2 topic pub -1 /dxl_1/variables/target_rot_position/write std_msgs/msg/Float32 data:\ 0.0\ 
</code></pre>
<p>The motor will go to angle zero. </p>
<p><strong>Note</strong>: If no motor is connected to the Dynamixel board, the ROS broker will display a warning message and ignore the board.</p>
<h1 id="gate-container-type"><a class="header" href="#gate-container-type">Gate container type</a></h1>
<p>The Gate container allows to translate Json to Luos and Luos to Json constantly. This container continuously pulls data from the sensors detected on the network and streams it into a Json format. Also, it can receive Json data and convert it into a container command.</p>
<p>You need to have at least one of these containers in one of your nodes to use the Luos network with a computer using Pyluos or any other lib.</p>
<p>Json is a really mainstream standard allowing you to use your favorite language easily trough a Json library.</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-6"><a class="header" href="#variables-6">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">delay</td><td align="center">Sets or reads the network refresh delay in ms.</td><td align="center">read / write: Integer</td></tr>
</tbody></table>
<h2 id="ros-topics-6"><a class="header" href="#ros-topics-6">ROS topics</a></h2>
<p>The gate has no topic but all topics names of all containers are prefixed with the name given to the broker associated to this gate at runtime.
Default is <code>luos_broker</code> but can be changed by passing an argument to the launchfile, e.g.: <code>ros2 launch luos_interface broker.launch.py name:=luos_broker_2</code>. This name must be unique to prevent conflicts.</p>
<h1 id="imu-container-type"><a class="header" href="#imu-container-type">Imu container type</a></h1>
<p>The Imu container handles an inertial sensor.</p>
<p>Its type has access to all common capabilities.</p>
<p>Imu containers can measure:</p>
<ul>
<li>Compass ‚Äì Magnetic field data in micro-tesla on each axis</li>
<li>Gyro ‚Äì X, Y, Z axis rotational acceleration data in degrees per second</li>
<li>Accel ‚Äì X, Y, Z axis linear acceleration data in G</li>
<li>Heading ‚Äì 360 degrees from North with Y+ axis as the pointer</li>
<li>Rotational Matrix ‚Äì linear math 9 element matrix representation</li>
<li>Euler Angles ‚Äì Pitch, roll, yaw based in degrees with frame reference</li>
<li>Quaternions ‚Äì Sensor fused w, x, y, z rotational angles</li>
<li>Linear Acceleration ‚Äì Linear acceleration in body frame coordinates</li>
<li>Gravity Vector ‚Äì Which access gravity effects</li>
<li>Pedometer ‚Äì Step number</li>
<li>walk time ‚Äì Duration (second) of the walk</li>
</ul>
<p>By default, the container will send only quaternions to keep a low number of data and avoid bus congestion. Retrieving any other types of measures requires to enable them first.</p>
<p>The easiest way to enable a measure is by using it, as Pyluos automatically enables a called measure. For example, to retrieve the linear acceleration value when it‚Äôs disabled, you can execute:</p>
<pre><code class="language-python">device.Imu_mod.linear_acceleration
</code></pre>
<p>This command doesn‚Äôt allow you to disable the value after using it in order to keep your device responsive. Another way to enable or disable a value is to set it to <code>True</code> or <code>False</code>. For example, if you want to disable the linear acceleration measure previously activated, you can execute:</p>
<pre><code class="language-python">device.Imu_mod.linear_acceleration = False
</code></pre>
<hr />
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-7"><a class="header" href="#variables-7">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">compass</td><td align="center">Magnetic field data in micro-tesla on each axis</td><td align="center">read only: [Float, Float, Float]</td></tr>
<tr><td align="center">compass</td><td align="center">Starts/Stops compass measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">gyro</td><td align="center">X, Y, Z axis rotational acceleration data in degrees per second</td><td align="center">read only: [Float, Float, Float]</td></tr>
<tr><td align="center">gyro</td><td align="center">Starts/Stops gyro measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">acceleration</td><td align="center">X, Y, Z axis linear acceleration data in G</td><td align="center">read only: [Float, Float, Float]</td></tr>
<tr><td align="center">acceleration</td><td align="center">Starts/Stops acceleration measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">heading</td><td align="center">360 degrees from North with Y+ axis as the pointer</td><td align="center">read only: [Float, Float, Float]</td></tr>
<tr><td align="center">heading</td><td align="center">Starts/Stops heading measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">rotational_matrix</td><td align="center">Linear math 9 element matrix representation</td><td align="center">read only: [Float, Float, Float, Float, Float, Float, Float, Float, Float]</td></tr>
<tr><td align="center">rotational_matrix</td><td align="center">Starts/Stops rotational_matrix measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">euler</td><td align="center">Pitch, roll, yaw based in degrees with frame reference</td><td align="center">read only: [Float, Float, Float]</td></tr>
<tr><td align="center">euler</td><td align="center">Starts/Stops euler measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">quaternion</td><td align="center">Sensor fused w, x, y, z rotational angles</td><td align="center">read only: [Float, Float, Float, Float]</td></tr>
<tr><td align="center">quaternion</td><td align="center">Starts/Stops quaternion measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">linear_acceleration</td><td align="center">Linear acceleration in body frame coordinates</td><td align="center">read only: [Float, Float, Float]</td></tr>
<tr><td align="center">linear_acceleration</td><td align="center">Starts/Stops linear_acceleration measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">gravity_vector</td><td align="center">Which access gravity effects</td><td align="center">read only: [Float, Float, Float]</td></tr>
<tr><td align="center">gravity_vector</td><td align="center">Starts/Stops gravity_vector measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">pedometer</td><td align="center">Step number</td><td align="center">read only: int</td></tr>
<tr><td align="center">pedometer</td><td align="center">Starts/Stops pedometer measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
<tr><td align="center">walk_time</td><td align="center">Duration (second) of the walk</td><td align="center">read only: Float</td></tr>
<tr><td align="center">walk_time</td><td align="center">Starts/Stops walk_time measurement actualization</td><td align="center">write only: Boolean (True or False)</td></tr>
</tbody></table>
<h2 id="ros-topics-7"><a class="header" href="#ros-topics-7">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th></tr></thead><tbody>
<tr><td align="left">/Imu_mod/variables/pedometer/read</td><td align="center">std_msgs/msg/UInt32</td></tr>
<tr><td align="left">/Imu_mod/variables/pedometer/write</td><td align="center">std_msgs/msg/Bool</td></tr>
<tr><td align="left">/Imu_mod/variables/walk_time/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/Imu_mod/variables/walk_time/write</td><td align="center">std_msgs/msg/Bool</td></tr>
<tr><td align="left">/Imu_mod/variables/gravity_vector/read</td><td align="center">geometry_msgs/msg/Vector3</td></tr>
<tr><td align="left">/Imu_mod/variables/gravity_vector/write</td><td align="center">std_msgs/msg/Bool</td></tr>
<tr><td align="left">/Imu_mod/variables/heading/read</td><td align="center">std_msgs/msg/UInt32</td></tr>
<tr><td align="left">/Imu_mod/variables/heading/write</td><td align="center">std_msgs/msg/Bool</td></tr>
<tr><td align="left">/Imu_mod/acceleration</td><td align="center">geometry_msgs/msg/Accel</td></tr>
<tr><td align="left">/Imu_mod/imu</td><td align="center">sensor_msgs/msg/Imu</td></tr>
<tr><td align="left">/Imu_mod/compass</td><td align="center">sensor_msgs/msg/MagneticField</td></tr>
</tbody></table>
<h2 id="example-of-use-of-your-imu-container-using-jupyter-notebook"><a class="header" href="#example-of-use-of-your-imu-container-using-jupyter-notebook">Example of use of your IMU container using Jupyter notebook</a></h2>
<p>In this example, we will display in 3D the rotation sensor by using quaternions. In order to do that, we will use the <em>pythreejs</em> lib and <em>jupyter notebook</em>.</p>
<p>First, install and enable this library by typing these commands in a terminal:</p>
<pre><code class="language-bash">pip install pythreejs

jupyter nbextension install --py --symlink --sys-prefix pythreejs

jupyter nbextension enable --py --sys-prefix pythreejs
</code></pre>
<p>Now, restart <em>jupyter notebook</em> and add this code to a new python script:</p>
<pre><code class="language-python">from pyluos import Device
import time
from pythreejs import *

# Create a cube to move following our sensor
cube = Mesh(
BoxBufferGeometry(3, 3, 3),
MeshPhysicalMaterial(color='green'),
position=[0, 0, 0],
castShadow = True
)

# Create a floor
plane = Mesh(
PlaneBufferGeometry(100, 100),
MeshPhysicalMaterial(color='gray'),
position=[0, -1.5, 0], receiveShadow = True)
plane.rotation = (-3.14/2, 0, 0, 'XYZ')

# Create a directional light following our cube
key_light = SpotLight(position=[0, 10, 10], angle = 0.3, penumbra = 0.1, target = cube, castShadow = True)
key_light.shadow.mapSize = (2048, 2048)

# Create a camera
c = PerspectiveCamera(position=[4, 12, 10], up=[0, 1, 0],
aspect=800/400)

# Create a scene
scene = Scene(children=[plane, cube, c, key_light, AmbientLight()])

# Display the scene with shadow and everything.
renderer = Renderer(camera=c,
scene=scene,
controls=[OrbitControls(controlling=c)],
width=800, height=400,
)
renderer.shadowMap.enabled = True
renderer.shadowMap.type = 'PCFSoftShadowMap'
display(renderer)

# Connect your Luos network (here using an USB container)
r = Device('/dev/cu.usbserial-DN38OIYT')

# Control the rotation of the cube with the rotation of the Imu sensor
while(True):
cube.quaternion = r.Imu_mod.quaternion
time.sleep(0.05)
</code></pre>
<p>You should obtain a result like this:</p>
<iframe width="800" height="450" src="https://www.youtube.com/embed/eTRd8a0ABMM?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<h1 id="light-container-type"><a class="header" href="#light-container-type">Light container type</a></h1>
<p>The Light container handles a sensor measuring a light intensity in lux.</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="variables-8"><a class="header" href="#variables-8">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">lux</td><td align="center">Reads the measured light intensity in lux</td><td align="center">read only: Float</td></tr>
<tr><td align="center">threshold</td><td align="center">Thresholds light intensity variation before <em>filter_changed</em> event trigers. Default value 10 lux.</td><td align="center">read / write: Float</td></tr>
</tbody></table>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<table><thead><tr><th align="center"><strong>Event name</strong></th><th align="center"><strong>Trigger</strong></th></tr></thead><tbody>
<tr><td align="center">changed</td><td align="center">Any movement on the light intensity measurement</td></tr>
<tr><td align="center">filter_changed</td><td align="center">Movement bigger than <em>threshold</em></td></tr>
</tbody></table>
<h2 id="ros-topics-8"><a class="header" href="#ros-topics-8">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th></tr></thead><tbody>
<tr><td align="left">/mod/variables/lux/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/variables/threshold/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/variables/threshold/write</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/events/changed</td><td align="center">luos_msgs/msg/FloatChange</td></tr>
<tr><td align="left">/mod/events/filter_changed</td><td align="center">luos_msgs/msg/FloatChange</td></tr>
</tbody></table>
<h1 id="servo-container-type"><a class="header" href="#servo-container-type">Servo container type</a></h1>
<p>The Servo container allows to drive RC elements like servomotor</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-9"><a class="header" href="#variables-9">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">rot_position</td><td align="center">Rotation position in ¬∞.</td><td align="center">read / write: float</td></tr>
<tr><td align="center">max_angle</td><td align="center">Sets <code>max_angle</code> value, in degrees (<code>¬∞</code>) (<code>180.0</code> by default)</td><td align="center">read / write: Float</td></tr>
<tr><td align="center">min_pulse</td><td align="center">Sets PWM minimum pulse value, in seconds (<code>s</code>) (<code>0.0005</code> by default)</td><td align="center">read / write: Float</td></tr>
<tr><td align="center">max_pulse</td><td align="center">Sets PWM maximum pulse value, in seconds (<code>s</code>) (<code>0.0015</code> by default)</td><td align="center">read / write: Float</td></tr>
</tbody></table>
<h2 id="ros-topics-9"><a class="header" href="#ros-topics-9">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="left">/servo1_mod/variables/rot_position/read</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/servo1_mod/variables/rot_position/write</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/servo1_mod/variables/max_angle/read</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/servo1_mod/variables/max_angle/write</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/servo1_mod/variables/min_pulse/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/servo1_mod/variables/min_pulse/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/servo1_mod/variables/max_pulse/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/servo1_mod/variables/max_pulse/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
</tbody></table>
<h2 id="example-code-2"><a class="header" href="#example-code-2">Example code</a></h2>
<h3 id="example-command-from-ros-topics-1"><a class="header" href="#example-command-from-ros-topics-1">Example command from ROS topics</a></h3>
<p>Move the servo1 to 1.57 radians:</p>
<pre><code class="language-bash">ros2 topic pub -1 /servo1_mod/variables/rot_position/write std_msgs/msg/Float32 data:\ 1.57\ 
</code></pre>
<h1 id="state-container-type"><a class="header" href="#state-container-type">State container type</a></h1>
<p>The State container can handles a sensor (Button board for example), or an actuator (Power Switch board for example). Generally, this type of containers allows to manage bi-state elements such as on/off, pushed/release, 0/1, ...</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-10"><a class="header" href="#variables-10">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">state</td><td align="center">Sets or reads the container state</td><td align="center">read / write: Boolean (True or False)</td></tr>
</tbody></table>
<h2 id="events-3"><a class="header" href="#events-3">Events</a></h2>
<table><thead><tr><th align="center"><strong>Event name</strong></th><th align="center"><strong>Trigger</strong></th></tr></thead><tbody>
<tr><td align="center">changed</td><td align="center">Any state modification pressed or released</td></tr>
<tr><td align="center">pressed</td><td align="center">State modification from True to False</td></tr>
<tr><td align="center">released</td><td align="center">State modification from False to True</td></tr>
</tbody></table>
<h2 id="ros-topics-10"><a class="header" href="#ros-topics-10">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th></tr></thead><tbody>
<tr><td align="left">/button_mod/variables/state/read</td><td align="center">std_msgs/msg/Bool</td></tr>
<tr><td align="left">/button_mod/variables/state/write</td><td align="center">std_msgs/msg/Bool</td></tr>
<tr><td align="left">/button_mod/events/released</td><td align="center">luos_msgs/msg/BoolChange</td></tr>
<tr><td align="left">/button_mod/events/pressed</td><td align="center">luos_msgs/msg/BoolChange</td></tr>
<tr><td align="left">/button_mod/events/changed</td><td align="center">luos_msgs/msg/BoolChange</td></tr>
</tbody></table>
<h1 id="stepper-container-type"><a class="header" href="#stepper-container-type">Stepper container type</a></h1>
<p>This container type allows to control a stepper motor. It computes micro-stepping and motion planning.</p>
<p>Its type has access to all common capabilities.</p>
<h3 id="containerss-type-settings-1"><a class="header" href="#containerss-type-settings-1">containers‚Äôs type settings:</a></h3>
<blockquote>
<p><strong>Warning:</strong> This container doesn't save any of the following parameters, they must be set each time your container reboots.</p>
</blockquote>
<p>The number of steps per turn must be defined, as well as the wheel diameter at the output of the motor if you wahnt to use translation. These specs may figure in your motor‚Äôs datasheet.</p>
<hr />
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">setToZero(self)</td><td align="center">Resets current position of the motor to 0</td><td align="center">You can use it to initialize the position of the motor</td></tr>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-11"><a class="header" href="#variables-11">Variables</a></h2>
<h3 id="motor-settings-1"><a class="header" href="#motor-settings-1">Motor settings</a></h3>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">stepPerTurn</td><td align="center">Defines the stepper resolution</td><td align="center">read / write: float</td></tr>
<tr><td align="center">wheel_size</td><td align="center">Defines wheel size used for translation mode</td><td align="center">read / write: float</td></tr>
</tbody></table>
<h3 id="motor-control-modes-1"><a class="header" href="#motor-control-modes-1">Motor control modes</a></h3>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">compliant</td><td align="center">- True: disables the motor driver, you can use it to move the motor by hand.<br/> - False: Enables the motor driver.</td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">rot_position_mode</td><td align="center">Enables/Disables the motor rotation position control mode.<br/><em>Disables power mode and translation position mode if enabled.</em><br/><em>Doesn't work if no position PID is configured.</em></td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">rot_speed_mode</td><td align="center">Enables/Disables the motor rotation speed control mode.<br/><em>Disables power mode and translation speed mode if enabled.</em><br/><em>Doesn't work if no speed PID configured.</em></td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">trans_position_mode</td><td align="center">Enables/Disables the motor translation position control mode.<br/><em>Disables power mode and rotation position mode if enabled.</em><br/><em>Doesn't work if no position PID configured.</em></td><td align="center">read / write: Boolean (True or False)</td></tr>
<tr><td align="center">trans_speed_mode</td><td align="center">Enables/Disables the motor translation speed control mode.<br/><em>Disables power mode and rotation speed mode if enabled.</em><br/><em>Doesn't work if no speed PID configured.</em></td><td align="center">read / write: Boolean (True or False)</td></tr>
</tbody></table>
<h3 id="motor-commands-1"><a class="header" href="#motor-commands-1">Motor commands</a></h3>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">target_rot_position</td><td align="center">Sets the target rotation position to reach in ¬∞.</td><td align="center">read / write: float</td></tr>
<tr><td align="center">target_rot_speed</td><td align="center">Sets the target rotation speed to reach in ¬∞/s.</td><td align="center">read / write: float</td></tr>
<tr><td align="center">target_trans_position</td><td align="center">Sets the target translation position to reach in mm.</td><td align="center">read / write: float</td></tr>
<tr><td align="center">target_trans_speed</td><td align="center">Sets the target translation speed to reach in mm/s.</td><td align="center">read / write: float</td></tr>
</tbody></table>
<h2 id="ros-topics-11"><a class="header" href="#ros-topics-11">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="left">/stepper_1/variables/stepPerTurn/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/stepPerTurn/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/wheel_size/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/wheel_size/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/compliant/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/compliant/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/rot_position_mode/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/rot_position_mode/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/rot_speed_mode/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/rot_speed_mode/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/trans_position_mode/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/trans_position_mode/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/trans_speed_mode/read</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/trans_speed_mode/write</td><td align="center">std_msgs/msg/Bool</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/target_rot_position/read</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/stepper_1/variables/target_rot_position/write</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/stepper_1/variables/target_rot_speed/read</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/stepper_1/variables/target_rot_speed/write</td><td align="center">std_msgs/msg/Float32</td><td align="center">value in radians</td></tr>
<tr><td align="left">/stepper_1/variables/target_trans_position/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/target_trans_position/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/target_trans_speed/read</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
<tr><td align="left">/stepper_1/variables/target_trans_speed/write</td><td align="center">std_msgs/msg/Float32</td><td align="center"></td></tr>
</tbody></table>
<h1 id="voltage-container-type"><a class="header" href="#voltage-container-type">Voltage container type</a></h1>
<p>The Voltage container handles a sensor measuring voltage.</p>
<p>Its type has access to all common capabilities.</p>
<hr />
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<table><thead><tr><th align="center"><strong>Function name and parameters</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Comment</strong></th></tr></thead><tbody>
<tr><td align="center">control(self)</td><td align="center">Displays container type graphical interface</td><td align="center">Only available using Jupyter notebook</td></tr>
</tbody></table>
<h2 id="variables-12"><a class="header" href="#variables-12">Variables</a></h2>
<table><thead><tr><th align="center"><strong>Variable name</strong></th><th align="center"><strong>Action</strong></th><th align="center"><strong>Type</strong></th></tr></thead><tbody>
<tr><td align="center">volt</td><td align="center">Reads or writes voltage in V</td><td align="center">read / write: Float</td></tr>
<tr><td align="center">threshold</td><td align="center">Thresholds voltage variation before filter_changed event trigger. Default value 1.0 V.</td><td align="center">read / write: Float</td></tr>
</tbody></table>
<h2 id="events-4"><a class="header" href="#events-4">Events</a></h2>
<table><thead><tr><th align="center"><strong>Event name</strong></th><th align="center"><strong>Trigger</strong></th></tr></thead><tbody>
<tr><td align="center">changed</td><td align="center">Any state modification falling or raising</td></tr>
<tr><td align="center">filter_changed</td><td align="center">Voltage variation bigger than <em>threshold</em></td></tr>
</tbody></table>
<h2 id="ros-topics-12"><a class="header" href="#ros-topics-12">ROS topics</a></h2>
<table><thead><tr><th align="left"><strong>Topic name</strong></th><th align="center"><strong>Message type</strong></th></tr></thead><tbody>
<tr><td align="left">/mod/variables/volt/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/variables/volt/write</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/variables/threshold/read</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/variables/threshold/write</td><td align="center">std_msgs/msg/Float32</td></tr>
<tr><td align="left">/mod/events/changed</td><td align="center">luos_msgs/msg/FloatChange</td></tr>
<tr><td align="left">/mod/events/filter_changed</td><td align="center">luos_msgs/msg/FloatChange</td></tr>
</tbody></table>
<h1 id="a-hrefpageshighroshtmlros-classheader-idrosimg-srcpageshigh_assetsimgros-logopng-width80px--using-luos-with-ros1-and-ros2a"><a class="header" href="#a-hrefpageshighroshtmlros-classheader-idrosimg-srcpageshigh_assetsimgros-logopng-width80px--using-luos-with-ros1-and-ros2a"><a href="pages/high/ros.html#ros" class="header" id="ros"><img src="pages/high/../../_assets/img/ros-logo.png" width="80px"> / Using Luos with ROS1 and ROS2</a></a></h1>
<p>Luos comes with a package for the <a href="https://www.ros.org/" target="_blank">Robot Operating System</a>.</p>
<p>ROS 2 is the default version but backward compatibility with ROS 1 is ensured via the official ROS 1 bridge. You can get an example of an application using Luos containers in ROS 2 with the <a href="https://github.com/aubrune/luos_bike_alarm_example" target="_blank">bike sharing example</a>.</p>
<p>In this tutorial, we will assume you're using ROS 2. If you want to communicate with a ROS 1 ecosystem, begin with this quickstart since ROS 2 needs to be installed, and then refer to the <a href="pages/high/./ros/ros1.html">Retrocompatibility with ROS 1</a> page.</p>
<h2 id="basics-a-few-ros-applied-to-luos-concepts"><a class="header" href="#basics-a-few-ros-applied-to-luos-concepts">Basics: a few ROS-applied-to-Luos concepts</a></h2>
<p>Here is a summary of core concepts in ROS:</p>
<ul>
<li><strong>ROS workspace</strong>: this is the directory in which you download all the ROS software that is built from sourcecode. You will likely setup your own projects here but it is also common to download dependencies here, such as <code>luos_ros2</code>. Here we assume your workspace is <code>~/ros2_ws</code></li>
<li><strong>ROS node</strong>: this is the name given to a single program or script being executed</li>
<li><strong>ROS launchfile</strong>: this is a file that launches multiple nodes at once.
Several nodes communicate with each other exchanging information in the form of structured pieces of data called <strong>messages</strong>, being exchanged through named communication channels called <strong>topics</strong>. Just like the filesystem of your hardrive, topics are hierarchised. E.g. <code>/something/into/something/else/data</code></li>
<li><strong>ROS package</strong>: a package is a folder that contains resources such as nodes, launchfiles, messages, ... Here we have 2 packages named <code>luos_msgs</code> and <code>luos_interface</code>.</li>
</ul>
<p>With Luos, data coming from/to Luos containers are messages sent on topics. Some messages representing popular types of data comply to existing message formats, e.g. <code>sensor_msgs/Imu</code> representing IMU data: this message is provided by the <code>sensor_msgs</code> package. Some other messages are Luos-specific and are provided by the <code>luos_msgs</code> package.</p>
<p>There is a particular node whose role is to connect the Luos ecosystem with the ROS ecosystem: the <strong>broker</strong>, provided by the <code>luos_interface</code> package. The broker is strongly associated to a Luos gate since it connects to one (and only one) gate, and ensures the communication seamlessly. A broker can be launched with the command <code>ros2 launch luos_interface broker.launch.py</code>, which then attempts to connect to a serial Luos gate.</p>
<p>With Luos, topics names all start with a prefix being the container's alias and end with suffixes:</p>
<ul>
<li><code>.../read</code>: this topic is read-only and a <code>.../write</code> topic exists</li>
<li><code>.../write</code>: this topic is write-only and a <code>.../read</code> topic exists. It is often a boolean type that (de)activates some source of data publishing</li>
<li>no suffix: this topic is read-only and no other related topic exists</li>
</ul>
<p>As an example, <code>/Imu_mod/variables/pedometer/read</code> allows to read-only the current pedometer variable from the IMU container named <code>Imu_mod</code>.</p>
<h2 id="install-ros-2-and-luos"><a class="header" href="#install-ros-2-and-luos">Install ROS 2 and Luos</a></h2>
<p>First install <a href="https://index.ros.org/doc/ros2/Installation/Foxy/" target="_blank">ROS 2 Foxy</a> for your OS with FastRTPS. Also install <a href="https://index.ros.org/doc/ros2/Tutorials/Colcon-Tutorial/#install-colcon" target="_blank"><code>colcon</code></a> as advised in the guidelines. If you are not familiar with ROS, you should go on with a couple of ROS 2 tutorials to get started.</p>
<p>Then clone <code>luos_ros2</code> to your workspace and compile it with colcon:</p>
<pre><code class="language-bash">cd ros2_ws/src/    # Or replace by your ROS 2 workspace name, maybe also dev_ws/src
git clone https://github.com/aubrune/luos_ros2.git
cd luos_ros2/luos_interface
pip3 install --no-warn-script-location .
cd ~/ros2_ws &amp;&amp; colcon build --symlink-install
source ~/ros2_ws/install/setup.bash
</code></pre>
<h2 id="get-started-with-luos-in-ros-2"><a class="header" href="#get-started-with-luos-in-ros-2">Get started with Luos in ROS 2</a></h2>
<p>Plug in your Luos gate and other containers, such as IMU, Color or State, and run the broker. It will return the detected containers: </p>
<pre><code class="language-bash">~$ ros2 launch luos_interface broker.launch.py
[INFO] [luos_broker]: Connecting to /dev/ttyUSB0...
[INFO] [luos_broker]: Found containers:
-------------------------------------------------
Type                Alias               ID   
-------------------------------------------------
Gate                gate                1    
Imu                 Imu_mod             2    
State               button_mod          3    
Color               rgb_led_mod         5    
</code></pre>
<blockquote>
<p><strong>Note:</strong> If you have several Luos gates, you need several brokers. Specify a port and a <strong>unique</strong> name for each of them:</p>
<pre><code class="language-bash">ros2 launch luos_interface broker.launch.py device:=/dev/ttyUSB1 name:=brokerUSB1
</code></pre>
</blockquote>
<p>According to the containers you have plugged-in, the broker will automatically publish the relevant topics in the namespace of your containers' aliases.
Here we have plugged a <code>State</code> container (alias <code>button_mod</code>), a <code>Imu</code> container (alias <code>Imu_mod</code>) and a <code>Color</code> container (alias <code>rgb_led_mod</code>) to the gate; thus the broker publishes the following topics:</p>
<pre><code class="language-bash">~$ ros2 topic list
/Imu_mod/acceleration
/Imu_mod/compass
/Imu_mod/imu
/Imu_mod/variables/gravity_vector/read
/Imu_mod/variables/gravity_vector/write
/Imu_mod/variables/heading/read
/Imu_mod/variables/heading/write
/Imu_mod/variables/pedometer/read
/Imu_mod/variables/pedometer/write
/Imu_mod/variables/walk_time/read
/Imu_mod/variables/walk_time/write
/button_mod/events/changed
/button_mod/events/pressed
/button_mod/events/released
/button_mod/variables/state/read
/button_mod/variables/state/write
/parameter_events
/rgb_led_mod/variables/color/read
/rgb_led_mod/variables/color/write
/rgb_led_mod/variables/time/read
/rgb_led_mod/variables/time/write
/rosout
</code></pre>
<p>Most variables advertise both <code>/read</code> and <code>/write</code> topics to get data, write data, or (de)activate this data source. Other types of data might be aggregates of Luos variables (such as the imu) or Luos events.</p>
<p>In order to echo messages from the terminal, use a regular ROS subscriber. For instance, here is the current IMU data:</p>
<pre><code class="language-bash">~$ ros2 topic echo /Imu_mod/imu
header:
  stamp:
    sec: 1581267954
    nanosec: 5449
  frame_id: Imu_mod
orientation:
  x: 0.97814
  y: 0.052695
  z: -0.042831
  w: 0.196548
orientation_covariance: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
angular_velocity:
  x: 0.0
  y: 0.0
  z: 0.0
angular_velocity_covariance: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
linear_acceleration:
  x: 0.177171
  y: 0.04968
  z: 0.176722
linear_acceleration_covariance: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
---
</code></pre>
<p>In order to publish messages to the Luos containers, use a regular ROS publisher. For instance, here is how to light up the Luos RGB container, in a pink color:</p>
<pre><code class="language-bash">ros2 topic pub /rgb_led_mod/variables/color/write std_msgs/msg/ColorRGBA &quot;{r: 64, g: 0, b: 64}&quot; --once
</code></pre>
<h2 id="get-started-with-my-own-ros2-package-using-luos-in-python"><a class="header" href="#get-started-with-my-own-ros2-package-using-luos-in-python">Get started with my own ROS2 package using Luos in Python</a></h2>
<p>These command lines will create a new package <code>my_luos_ros2_package</code> relying on <code>luos_interface</code>:</p>
<pre><code class="language-bash">cd ~/ros2_ws/src
ros2 pkg create my_luos_ros2_package --build-type ament_python --dependencies luos_interface
</code></pre>
<p>You can then add your ROS Python scripts, by taking example on the <a href="pages/high/./ros/bike_alarm.html">bike sharing example</a> page.</p>
<h1 id="ros-package-example-bike-sharing-example"><a class="header" href="#ros-package-example-bike-sharing-example">ROS package example: Bike sharing example</a></h1>
<p>This is a Luos example using ROS 2, the bike sharing application, that works this way:</p>
<ul>
<li>The bike pops up in steady green when it is idle</li>
<li>Shake the Imu when it is idle, meaning the bike is being stolen, the RGB alarm then flashes in red</li>
<li>Press the state button to acknowledge the alarm</li>
<li>Press again to start riding, the bike slightly blinks in green</li>
<li>Press again to stop riding, it becomes idle again</li>
</ul>
<p>It relies on the 3D vizualizer embedded in ROS 2, named <code>RViz 2</code>:</p>
<p><img src="https://raw.githubusercontent.com/aubrune/luos_bike_alarm_example/master/doc/img/rviz.png" alt="Bike sharing example" /></p>
<h2 id="test-the-example"><a class="header" href="#test-the-example">Test the example</a></h2>
<p>This example package relies on <code>luos_interface</code>, make sure you first installed it by following <a href="pages/high/ros/../ros.html">its own procedure</a>.</p>
<p>Then, download the example package and build your workspace with <code>colcon</code>:</p>
<pre><code class="language-bash">~/ros2_ws/src/$ git clone https://github.com/aubrune/luos_bike_alarm_example.git

~/ros2_ws/$ colcon build --symlink-install    # Build the ROS workspace
~/ros2_ws/$ source ~/.bashrc                  # Source all new launches messages and resources
</code></pre>
<p>Plug at least a Luos Imu node and a Gate to your computer, as well as optional RGB and State containers. The expected Luos containers' aliases are the default. If they are not, update the <a href="https://github.com/aubrune/luos_bike_alarm_example/blob/master/luos_bike_alarm_example/bike_alarm.py#L12-L15" target="_blank">topic names</a> with your custom aliases.</p>
<p>Then, start the bike example from its launchfile:</p>
<pre><code class="language-bash">~/ros2_ws/$ ros2 launch luos_bike_alarm_example example.launch.py
</code></pre>
<p><code>RViz2</code> will pop up and show a 3D bike. Shake the Luos Imu node in order to update the RViz2 view in real time. If the bike is displayed but does not actuate, make sure that Imu data comes from the expected topic <code>/Imu_mod/imu</code>, or try to change the topic name.</p>
<h1 id="luos-with-ros-1"><a class="header" href="#luos-with-ros-1">Luos with ROS 1</a></h1>
<p>The <code>ROS 1 Bridge</code> allows ROS 2 packages such as <code>luos_ros2</code> to communicate with a ROS 1 ecosystem. However, both ROS 1 and 2 need to be installed and the bridge takes care of the translation. 
This procedure has been tested with ROS 1 Noetic + ROS 2 Foxy and Python 3.8.2 in Ubuntu. It might work with older distributions although it has not been tested.</p>
<h2 id="1-install-ros-2-and-luos"><a class="header" href="#1-install-ros-2-and-luos">1. Install ROS 2 and Luos</a></h2>
<p>Make sure you have first <a href="pages/high/ros/../ros.html">installed ROS 2</a> and managed to run the broker in ROS 2 with the command <code>ros2 launch luos_interface broker.launch.py</code>.
We assume your ROS 2 workspace is <code>~/ros2_ws</code>.</p>
<h2 id="2-install-ros-1-and-the-ros-1-bridge"><a class="header" href="#2-install-ros-1-and-the-ros-1-bridge">2. Install ROS 1 and the ROS 1 bridge</a></h2>
<p>Then install <a href="http://wiki.ros.org/noetic/Installation/Ubuntu" target="_blank">ROS 1 Noetic on Ubuntu 20.04</a>.
We assume your ROS 1 workspace is <code>~/ros_ws</code>.</p>
<h2 id="3-initialize-the-bridge"><a class="header" href="#3-initialize-the-bridge">3. Initialize the bridge</a></h2>
<p>The bridge has its own workspace that is to be compiled with colcon (ROS 2):</p>
<pre><code class="language-bash">mkdir -p ~/ros1_bridge_ws/src
cd ~/ros1_bridge_ws/src
git clone -b foxy https://github.com/ros2/ros1_bridge.git
source ~/ros_ws/devel/setup.bash
source ~/ros2_ws/install/setup.bash
cd ~/ros1_bridge_ws
colcon build --packages-select ros1_bridge --cmake-force-configure --cmake-args -DBUILD_TESTING=FALSE
</code></pre>
<h2 id="4-start-luos-in-ros-1"><a class="header" href="#4-start-luos-in-ros-1">4. Start Luos in ROS 1</a></h2>
<h3 id="in-terminal-1-ros-core-in-workspace-ros_ws"><a class="header" href="#in-terminal-1-ros-core-in-workspace-ros_ws">In terminal 1: ROS Core in workspace <code>~/ros_ws</code></a></h3>
<pre><code class="language-bash">source ~/ros_ws/devel/setup.bash
roscore
</code></pre>
<h3 id="in-terminal-2-ros-1-bridge-in-workspace-ros1_bridge_ws"><a class="header" href="#in-terminal-2-ros-1-bridge-in-workspace-ros1_bridge_ws">In terminal 2: ROS 1 Bridge in workspace <code>~/ros1_bridge_ws</code></a></h3>
<pre><code class="language-bash">source ~/ros1_bridge_ws/install/setup.bash
ros2 run ros1_bridge dynamic_bridge --bridge-all-2to1-topics
</code></pre>
<h3 id="in-terminal-3-luos-broker-in-workspace-ros2_ws"><a class="header" href="#in-terminal-3-luos-broker-in-workspace-ros2_ws">In terminal 3: Luos broker in workspace <code>~/ros2_ws</code></a></h3>
<p>Plug some Luos containers before starting the broker.</p>
<pre><code class="language-bash">source ~/ros2_ws/install/setup.bash
ros2 launch luos_interface broker.launch.py
</code></pre>
<h3 id="in-terminal-1-your-ros-1-app-in-workspace-ros_ws"><a class="header" href="#in-terminal-1-your-ros-1-app-in-workspace-ros_ws">In terminal 1: Your ROS 1 app in workspace <code>~/ros_ws</code></a></h3>
<p>Let us consider here that <code>rostopic</code> is the ROS 1 app you want to run with Luos containers.</p>
<pre><code class="language-bash">source ~/ros_ws/devel/setup.bash
rostopic list
</code></pre>
<p>You can then publish and subscribe to the available topics in ROS 1.</p>
<h1 id="luos-demonstration-boards"><a class="header" href="#luos-demonstration-boards">Luos demonstration boards</a></h1>
<p>Luos provides simple electronic boards examples to build in order to demonstrate the Luos modular technology.
These examples are available on Github and contain a schematic file and a Kicad file, so that they can be easily reproduced to test Luos.</p>
<p>Start reading the <a href="pages/demo_boards/./electronic-use.html">board's general use page</a>, then you can read the <a href="pages/demo_boards/./quick-start.html">quick start page</a> to start using your demonstration boards. You can consult the <a href="pages/demo_boards/./boards-list.html">list of available Luos boards examples</a>. </p>
<h1 id="general-guide-to-luos-electronic-boards"><a class="header" href="#general-guide-to-luos-electronic-boards">General guide to Luos electronic boards</a></h1>
<p>Luos library has been designed to run on low-cost hardware. It works with all Arm microcontrollers, starting with the smallest and cheapest one: the <a href="https://developer.arm.com/ip-products/processors/cortex-m/cortex-m0" target="_blank">Cortex-M0</a>. </p>
<p>The demonstration boards are a set of small electronic boards examples, each one hosting Luos and providing with an electronic function (motor, distance sensor, battery, LED, potentiometer, etc.). These boards can be used to test the technology, or to quickly develop an electronic device prototype in order to prove a concept without any knowledge in electronics: demonstration boards are connected together with cables, behaviors can be programmed through a <a href="pages/demo_boards/./boards_list/usb.html">gate</a> board on a computer, and the device can be tested in a matter of minutes!</p>
<blockquote>
<p><strong>Warning:</strong> All examples codes of this documentation use the Pyluos Python library and are adapted to be used with Jupyter Notebook.</p>
</blockquote>
<h2 id="boards-general-specifications"><a class="header" href="#boards-general-specifications">Boards general specifications</a></h2>
<p>Almost every demonstration board in the provided examples is composed of a motherboard and a shield board. The motherboard, called L0, has a <span class="cust_tooltip">node<span class="cust_tooltiptext">Hardware element (MCU) hosting and running Luos and hosting one or several containers.</span></span> that hosts Luos. The shield board is added to a L0 to type it with an electronic function.</p>
<img src="pages/demo_boards/../../_assets/img/assembly.png" height="200px" />
<blockquote>
<p>Note: Power category boards don't include L0 motherboard as they provide only with power functions and don't need communication. However. he communication data pass through their connectors to other communicating boards.</p>
</blockquote>
<p>Here are the specifications of this motherboard:</p>
<hr />
<ul>
<li>Board name: L0</li>
<li>MCU: STM32f0</li>
<li>Dimensions: 20 x 26 mm</li>
<li>Supply Voltage: 5 V to 24 V</li>
<li>Output Voltage: 5 V</li>
<li>Connectors: 2x Robus connectors (<a href="https://octopart.com/df11-8dp-2ds%2824%29-hirose-39521447" target="_blank"><em>DF11-8DP-2DS(24)</em></a>)</li>
<li>Sockets: 2x 6 connectors (<a href="https://octopart.com/826926-3-te+connectivity-40939547" target="_blank"><em>826926-3</em></a>) </li>
<li>Other Output: 1x micro-USB</li>
<li>USB Serial Speed: 1 Mbaud/s</li>
</ul>
<hr />
<h2 id="boards-categories"><a class="header" href="#boards-categories">Boards categories</a></h2>
<p>Luos boards examples are organized in 6 categories. Each board belongs to at least one of these categories. Understanding every categories will help to understand how to connect the Luos boards together in order to achieve any type of electronic system.</p>
<img src="pages/demo_boards/../../_assets/img/boards_example.png" height="" />
<p><strong>Below is the list of the six categories:</strong></p>
<table><thead><tr><th align="left">Sensor</th><th align="left">Actuator</th><th align="left">Communication</th></tr></thead><tbody>
<tr><td align="left"><img src="pages/demo_boards/../../_assets/img/sticker-sensor.png" height="80" /></td><td align="left"><img src="pages/demo_boards/../../_assets/img/sticker-actuation.png" height="80" /></td><td align="left"><img src="pages/demo_boards/../../_assets/img/sticker-communication.png" height="80" /></td></tr>
<tr><td align="left">Sensor boards are able to measure the physical world.</td><td align="left">Actuation boards are able to act on the physical world.</td><td align="left">Communication boards (also called gates) are able to share your system‚Äôs inputs, outputs and configurations outside of your device, using a JSON API.</td></tr>
</tbody></table>
<table><thead><tr><th align="left">Cognition</th><th align="left">Interface</th><th align="left">Power</th></tr></thead><tbody>
<tr><td align="left"><img src="pages/demo_boards/../../_assets/img/sticker-cognition.png" height="80" /></td><td align="left"><img src="pages/demo_boards/../../_assets/img/sticker-interface.png" height="80" /></td><td align="left"><img src="pages/demo_boards/../../_assets/img/sticker-power.png" height="80" /></td></tr>
<tr><td align="left">Cognition are boards dedicated to execute your code or host your AI.</td><td align="left">These boards are built to interact with the user of the machine.</td><td align="left">Power boards are able to share their input power source into the <span class="cust_tooltip">Robus<span class="cust_tooltiptext">Bus communication protocol used by Luos.</span></span> wire to feed other boards.</td></tr>
</tbody></table>
<p><a name="plug"></a></p>
<h2 id="plugging-boards-together"><a class="header" href="#plugging-boards-together">Plugging boards together</a></h2>
<p>Luos boards have at least 2 connection ports in their design. All connectors are the same, so that any board can be connected to another one using any of these ports. Just avoid to make a loop circuit, otherwise you will inhibit communication between containers.</p>
<p>There is a correct side to plug a cable‚Äôs connector to a board. The small tab on the connector must face upward to plug correctly, as shown on the following pictures:</p>
<table><thead><tr><th align="left"><img src="pages/demo_boards/../../_assets/img/plug-no.png" alt="Wrong side img" /></th><th align="left"><img src="pages/demo_boards/../../_assets/img/plug-yes.png" alt="Right side img" /></th></tr></thead><tbody>
<tr><td align="left">Wrong side, the upper surface is flat</td><td align="left">Right side, the tab is visible on the upper surface</td></tr>
</tbody></table>
<h2 id="power-management"><a class="header" href="#power-management">Power management</a></h2>
<p>Luos boards can share their power inputs through the network connection, allowing you to feed other boards. These boards belong to the <strong>power category</strong>.
All the Luos boards can manage a voltage between 5V and 24V, up to 7A.</p>
<p>In a Luos network, <strong>you can have multiple power category boards</strong>. In this case, <strong>the power board with the highest voltage takes over</strong> and shares its power with other boards.</p>
<p>For example, for a device using a 12V motor and an USB board: The USB board belongs to the power category, so it can share its 5V into the network's wires. But you need 12V for your motor, so you will have to add a 12V AC plug board in your network to supply the motor. In this case, the USB board doesn‚Äôt share its power, only the AC plug board does, because 5V &lt; 12V.</p>
<p>Some components needs a specific voltage to work properly. For example, in order to use standard servomotor, you have to feed the Luos network with 5V or 7V. If you need to combine 7V and 12V motors in a system, for example, you can manage multiple voltages on the same network using a <a href="pages/demo_boards/./boards_list/power-isolator.html">power isolator board</a>.</p>
<h2 id="external-communication-management"><a class="header" href="#external-communication-management">External communication management</a></h2>
<p>The boards from the Communication category allow you to easily control a Luos network. These boards host a container called &quot;gate&quot;, they can communicate using different kinds of technologies and reach devices outside the device.<br/>To start using Luos technology, you have to use at least one of these gates to be able to program your machine's behaviors.</p>
<p>The &quot;gate&quot; container's task is to stream the Luos network activity into a standard JSON format file, and on the oposite to allow an external device to easily interact with any device in the network.</p>
<p>This way, it‚Äôs <strong>easy to use</strong> your favorite device and language to interact and control your device.</p>
<p>We created an open-source <strong>Python library</strong> managing this JSON API called <a href="pages/demo_boards/../high/pyluos.html"><em>Pyluos</em></a>. Feel free to use it, copy it, and convert it into your favorite language. We are open to contribution for any programing languages. You can suggest any change or new API on the <a href="https://community.luos.io/" target="_blank">Luos' forum</a>.</p>
<p>Get <a href="https://github.com/Luos-io/Pyluos" target="_blank">Pyluos on github</a>.</p>
<h2 id="update-luos-robus-and-boards-firmware"><a class="header" href="#update-luos-robus-and-boards-firmware">Update Luos, Robus and board's firmware</a></h2>
<p><a href="pages/demo_boards/../low/dev-env.html">Instal PlatformIO</a> if you don't have it yet and clone the <a href="https://github.com/Luos-io/Examples">Examples</a> repository.</p>
<p>To update Luos, <span class="cust_tooltip">Robus<span class="cust_tooltiptext">Bus communication protocol used by Luos.</span></span> or your containers' code, you must open the librairies tab <img src="pages/demo_boards/../../_assets/img/vscode-lib-button.png" alt="" /> on PlatformIO in Visual Studio Code:</p>
<p><img src="pages/demo_boards/../../_assets/img/Update_Luos_Robus_Containers.png" alt="" /></p>
<p>To update the board's firmware you need to follow 3 steps:</p>
<h3 id="1-open-the-container-folder-that-you-want-to-update-in-visual-studio-code"><a class="header" href="#1-open-the-container-folder-that-you-want-to-update-in-visual-studio-code">1. Open the container folder that you want to update in Visual Studio Code</a></h3>
<p>To do this, you must go to <em>File</em> -&gt; <em>Open the folder</em> and go to the folder of the container you want from <a href="https://github.com/Luos-io/Examples/tree/master/Projects">Examples/Projects</a>.</p>
<h3 id="2-compile-it-to-ensure-there-is-no-error"><a class="header" href="#2-compile-it-to-ensure-there-is-no-error">2. Compile it to ensure there is no error</a></h3>
<p>To compile your code, you must click on the <em>Compile</em> button <img src="pages/demo_boards/../../_assets/img/compile-button.png" alt="" /> at the bottom of your window:</p>
<p><img src="pages/demo_boards/../../_assets/img/compile.png" alt="" /></p>
<p>If your terminal looks like this, it means that your download was successful:</p>
<p><img src="pages/demo_boards/../../_assets/img/compile_success.png" alt="" /></p>
<p>If the compilation goes wrong in spite of your code having been perfectly compiled, perform a clean-up by clicking on the ant button <img src="pages/demo_boards/../../_assets/img/vscode-ant-button.png" alt="" /> and choosing <em>Clean</em> in the list of project tasks:</p>
<p><img src="pages/demo_boards/../../_assets/img/clean.png" alt="" /></p>
<h3 id="3-upload-the-new-code-into-the-board"><a class="header" href="#3-upload-the-new-code-into-the-board">3. Upload the new code into the board</a></h3>
<p>To upload the new code into the board you must click on the <em>Upload</em> button <img src="pages/demo_boards/../../_assets/img/upload-button.png" alt="" />:</p>
<p><img src="pages/demo_boards/../../_assets/img/upload.png" alt="" /></p>
<p>If your terminal looks like this, it means that your download was successful:</p>
<p><img src="pages/demo_boards/../../_assets/img/upload_success.png" alt="" /></p>
<h3 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h3>
<p>If the upload does not go as planned, it may be because your driver is not up-to-date. The fix depends on your OS:</p>
<h4 id="windows"><a class="header" href="#windows">Windows</a></h4>
<p>You need to install and run <em>Zadig</em> by following <a href="https://github.com/profezzorn/ProffieOS/wiki/zadig" target="blank_">this tutorial</a> on github.</p>
<h4 id="linux"><a class="header" href="#linux">Linux</a></h4>
<p>You need permissions to access the device for non-root users:</p>
<pre><code class="language-bash">echo 'SUBSYSTEMS==&quot;usb&quot;, ATTRS{idVendor}==&quot;0483&quot;, ATTRS{idProduct}==&quot;df11&quot;, GROUP=&quot;plugdev&quot;, MODE=&quot;0666&quot;' &gt; /etc/udev/rules.d/60-luos.rules
</code></pre>
<h1 id="getting-started-2"><a class="header" href="#getting-started-2">Getting started</a></h1>
<p>This page provides quick and easy tutorials to get started with Luos demonstration boards.</p>
<h2 id="tutorial-1"><a class="header" href="#tutorial-1">Tutorial #1</a></h2>
<p>On the following steps, you will learn how to make a simple behavior with a <a href="pages/demo_boards/./boards_list/rgbled.html">RGB LED</a> board and a <a href="pages/demo_boards/./boards_list/button.html">Button</a> board step-by-step.</p>
<h3 id="what-you-will-need"><a class="header" href="#what-you-will-need">What you will need</a></h3>
<p>In the following example, we will make a LED turn on and off by pushing and releasing a button. You will need the following boards and accessories:</p>
<ul>
<li>1x Luos <a href="pages/demo_boards/./boards_list/rgbled.html">LED board</a></li>
<li>1x Luos <a href="pages/demo_boards/./boards_list/button.html">Button board</a></li>
<li>1x Luos <a href="pages/demo_boards/./boards_list/usb.html">USB board</a> and an USB cable</li>
<li>2x Luos <a href="pages/demo_boards/./boards_list/cables.html">cables</a></li>
</ul>
<h3 id="steps"><a class="header" href="#steps">STEPS</a></h3>
<h4 id="1-configure-your-computer"><a class="header" href="#1-configure-your-computer">1. Configure your computer</a></h4>
<p>The default tool we use to control a Luos network is a board hosting a <a href="pages/demo_boards/../high/containers_list/gate.html">Gate</a> container, with a Python lib called <a href="pages/demo_boards/../high/pyluos.html">Pyluos</a>.</p>
<p>To begin, you have to install Python and Pyluos library, following the <a href="pages/demo_boards/../high/pyluos.html">Pyluos documentation page</a>.</p>
<h4 id="2-plug-the-boards-together"><a class="header" href="#2-plug-the-boards-together">2. Plug the boards together</a></h4>
<p>Plug together all the boards with <a href="pages/demo_boards/./boards_list/cables.html">cables</a>. You can plug them to any of the two connectors of each board, in any order.</p>
<blockquote>
<p><strong>Warning:</strong> Don't close a loop with the boards at each extremity.</p>
</blockquote>
<p><img src="pages/demo_boards/../../_assets/img/quickstart-1.png" alt="Boards" /><br />
<em>From left to right: LED, Button, and USB . The plug order doesn‚Äôt matter.</em></p>
<h4 id="3-connect-the-device-to-a-computer"><a class="header" href="#3-connect-the-device-to-a-computer">3. Connect the device to a computer</a></h4>
<p>Plug the USB board to a computer with micro-USB to USB cable.</p>
<p><em>In this particular example there is no high consumption component so we can use the power given by USB.</em></p>
<p>Your device is now powered and connected. All the low-level code and electronics is ready to use to help you program your own behaviors.</p>
<p><img src="pages/demo_boards/../../_assets/img/quickstart-2.png" alt="USB board" /><br /></p>
<h4 id="4-interact-with-the-device"><a class="header" href="#4-interact-with-the-device">4. Interact with the device</a></h4>
<p><em>The USB node handle a specific container called &quot;<a href="pages/demo_boards/../high/containers_list/gate.html">Gate</a>&quot;. There are other boards hosting &quot;Gate&quot; container and using different connection than USB. These particular containers convert Luos containers data into something easier to understand and manage, using <a href="pages/demo_boards/../high/json-api.html">JSON API</a>.</em></p>
<p>Interacting with the Luos system and program behaviors will require to spot the USB connection on your computer. The following steps are explained on the <a href="pages/demo_boards/./electronic-use.html">General board use page</a> with more details. In the following example, the associated port is <code>COM13</code>.</p>
<p>Once you know the port, you can connect using:</p>
<pre><code class="language-python">import pyluos
from pyluos import Device
device = Device('COM13')
</code></pre>
<p>When Pyluos establishes the connection with a Gate container, it asks to run a network detection. This detection allows to discover all boards wired together on the network.</p>
<p>To list the discovered boards you can run:</p>
<pre><code class="language-python">print(device.containers)
</code></pre>
<p>In this tutorial, Python should find three boards, the Gate (USB), the LED, and the Button boards. You can check that all are detected:</p>
<pre><code class="language-AsciiDoc">-------------------------------------------------
Type                Alias               ID
-------------------------------------------------
Gate                gate                1
Button              button_mod          2
Led                 rgb_led_mod         3
</code></pre>
<p>Knowing the alias of the boards, you can use them in your code.
To read values from a sensor, you just have to read a variable. For example, you can see the button state using this code:</p>
<pre><code class="language-python">print(device.button_mod.pressed)
</code></pre>
<p>Python will answer <code>True</code> if you execute this line by pressing the button and <code>False</code> if you don't.</p>
<p>The same way, you can control a board by setting variables.
In the following example we can control the led color using RGB values. Type and execute the following line:</p>
<pre><code class="language-python">device.rgb_led_mod.color = [50,80,5]
</code></pre>
<p>The LED turns on.</p>
<p>Changing to the value <code>[0, 0, 0]</code> will turn it off.</p>
<p>More details are provided on the page <a href="pages/demo_boards/./electronic-use.html">Luos boards general use</a>.</p>
<h4 id="5-write-a-simple-beahvior"><a class="header" href="#5-write-a-simple-beahvior">5. Write a simple beahvior</a></h4>
<p>You can now write a simple behavior that makes the LED to turn on when pushing the button and turn off when releasing it.</p>
<pre><code class="language-python"># Import libraries
from pyluos import Device
# Establish connection with the luos network
device = Device('COM13')

# Use an infinite loop to put the behavior inside
while 1:
    if (device.button_mod.pressed == True): # if the button is pushed
        device.rgb_led_mod.color = [0,15,15] # Assigns a color to the LED
    else: # If the button is released or idle
        device.rgb_led_mod.color = [0,0,0] # Turns the LED off
</code></pre>
<p>Test your behavior by executing the code.</p>
<p><img src="pages/demo_boards/../../_assets/img/quickstart-3.png" alt="LED board" /></p>
<hr />
<h2 id="tutorial-2"><a class="header" href="#tutorial-2">Tutorial #2</a></h2>
<p>The following video shows a basic tutorial explaining how to make a LED and a servomotor be responsive to a potentiometer.</p>
<iframe width="800" height="450" src="https://www.youtube.com/embed/ula16zdZgDk?feature=oembed" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><br /><br />
<hr />
<h2 id="whats-next"><a class="header" href="#whats-next">What‚Äôs next?</a></h2>
<p>These were simple tutorials to get you on tracks.</p>
<p>Now you just have to create awesome projects and share them with <a href="https://community.luos.io" target="_blank">the community</a>.</p>
<h1 id="demonstration-boards-list"><a class="header" href="#demonstration-boards-list">Demonstration boards list</a></h1>
<p>List of demonstration boards available on GitHub:</p>
<ul>
<li><a href="pages/demo_boards/./boards_list/battery-power-input.html">Battery power input</a></li>
<li><a href="pages/demo_boards/./boards_list/button.html">Button</a></li>
<li><a href="pages/demo_boards/./boards_list/controller-motor.html">Controller motor</a></li>
<li><a href="pages/demo_boards/./boards_list/dc-motor.html">DC motor</a></li>
<li><a href="pages/demo_boards/./boards_list/distance.html">Distance sensor</a></li>
<li><a href="pages/demo_boards/./boards_list/dxl.html">Dynamixel motor</a></li>
<li><a href="pages/demo_boards/./boards_list/gpio.html">GPIO</a></li>
<li><a href="pages/demo_boards/./boards_list/imu.html">IMU</a></li>
<li><a href="pages/demo_boards/./boards_list/jack-power-input.html">Jack power input</a></li>
<li><a href="pages/demo_boards/./boards_list/led-strip.html">Led strip</a></li>
<li><a href="pages/demo_boards/./boards_list/light.html">Light sensor</a></li>
<li><a href="pages/demo_boards/./boards_list/potentiometer.html">Potentiometer</a></li>
<li><a href="pages/demo_boards/./boards_list/power-isolator.html">Power isolator</a></li>
<li><a href="pages/demo_boards/./boards_list/powerpi.html">Power Pi</a></li>
<li><a href="pages/demo_boards/./boards_list/powerswitch.html">Power switch</a></li>
<li><a href="pages/demo_boards/./boards_list/rgbled.html">RGB LED</a></li>
<li><a href="pages/demo_boards/./boards_list/servo.html">Servo motor</a></li>
<li><a href="pages/demo_boards/./boards_list/stepper.html">Stepper motor</a></li>
<li><a href="pages/demo_boards/./boards_list/usb.html">USB</a></li>
<li><a href="pages/demo_boards/./boards_list/wifible.html">Wifi BLE</a></li>
<li><a href="pages/demo_boards/./boards_list/wire-power-input.html">Wire power input</a></li>
<li>Accessory: <a href="pages/demo_boards/./boards_list/cables.html">Cables</a></li>
</ul>
<h1 id="battery-power-input-board"><a class="header" href="#battery-power-input-board">Battery power input board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 0</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/battery-power-input-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-power.png" title="Power">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/tree/master/Hardware/wiring_and_power/XT60_power_input" target="_blank">Battery power input</a>
</div>
<h2 id="how-to-use-the-battery-power-input-board"><a class="header" href="#how-to-use-the-battery-power-input-board">How to use the Battery power input board</a></h2>
<p>The Battery power input board allows to power your Luos Network using XT60 or JST battery interface. This board is not active, you can't detect it.
The Battery power input board can provide 5V to 24V DC.</p>
<p>You can manage multiple voltage in the same network following Luos power rules defined in <a href="pages/demo_boards/boards_list/../electronic-use.html">Luos boards general use</a> or by using a <a href="pages/demo_boards/boards_list/./power-isolator.html">power isolator board</a>.</p>
<h1 id="button-board"><a class="header" href="#button-board">Button board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> button_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/state.html">State</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/button-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-interface.png" title="Interface">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-sensor.png" title="Sensor">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Button" target="_blank">Button</a>
</div>
<h2 id="button-board-functions"><a class="header" href="#button-board-functions">Button board functions</a></h2>
<p>The Button board provides a push-button that can be used as an interface human-machine or as a end-of-course sensor, for example. It returns the state of the button (pushed or idle).</p>
<h2 id="power-considerations"><a class="header" href="#power-considerations">Power considerations</a></h2>
<p>The Button board supports 5V to 24V DC.</p>
<h1 id="controller-motor-board"><a class="header" href="#controller-motor-board">Controller-motor board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> controller_moto</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/controller-motor.html">Controller motor</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/controller-motor-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-actuation.png" title="Actuation">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Controller_motor" target="_blank">Controller_motor</a>
</div>
<h2 id="how-to-connect-your-motor-reducer-to-your-boards"><a class="header" href="#how-to-connect-your-motor-reducer-to-your-boards">How to connect your motor-reducer to your boards</a></h2>
<p>The Controller-motor board is designed to control motors with a reducer and a sensor. It provides PH connector with 6 pins, where the motor can be plugged.</p>
<h3 id="connectors-reference"><a class="header" href="#connectors-reference">Connector's reference</a></h3>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/ctrl_mot_male_connector.png" alt="Male connector" /> Male connector's reference (on the board): <a href="https://octopart.com/b6b-ph-k-s%28lf%29%28sn%29-jst-248872" target="_blank"><strong>B6B-PH-K-S(LF)(SN)</strong></a>)</p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/ctrl_mot_female_connector.png" alt="Female connector" /> Female connector's reference (on the wire): <a href="https://octopart.com/phr-6-jst-279165" target="_blank"><strong>PHR-6</strong></a></p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/ctrl_mot_crimp.png" alt="Crimp" /> Crimp's reference (on the wire): <a href="https://octopart.com/bph-002t-p0.5s-jst-8407485" target="_blank"><strong>BPH-002T-P0.5S</strong></a></p>
<h3 id="pinout-and-characteristics"><a class="header" href="#pinout-and-characteristics">Pinout and characteristics</a></h3>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/controller_motor_pinout.png" alt="Pinout" /><br /><em>PHR-6 connector pinout.</em></p>
<p>This board accepts supply voltage from 7V to 24V.</p>
<p>To control regular DC motors (without reduction neither sensor), please refer to <a href="pages/demo_boards/boards_list/./dc-motor.html">DC motor board</a>‚Äôs documentation.</p>
<blockquote>
<p><strong>Warning:</strong> The USB board provides too weak power to drive a motor-reducer with this board. A power board such as Battery board or Power plug board shall be used.</p>
</blockquote>
<p>This board is able to control DC motors with a reduction and a sensor (usually called motor-reducer or speed-reducer).</p>
<p>The Controller-motor board provides a PID control on the output position, and PID control on the output speed, taking into account the reducer and the encoder.</p>
<p>You can find basic information about PID control here: <a href="https://medium.com/luosrobotics/an-introduction-to-pid-control-with-dc-motor-1fa3b26ec661" target="_blank"><strong>An introduction to PID control with DC motor</strong></a> and a example code to tune your PID on the <a href="pages/demo_boards/boards_list/../../high/containers_list/controller-motor.html">Controller motor container</a> page of this documentation.</p>
<h1 id="dc-motor-board"><a class="header" href="#dc-motor-board">DC-motor board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> DC_motor1_mod, DC_motor2_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/dc-motor.html">DC-motor</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 2</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/dc-motor-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-actuation.png" title="Actuation">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Dc_motor" target="_blank">DC motor</a>
</div>
<h2 id="dc-motor-board-functions"><a class="header" href="#dc-motor-board-functions">DC-motor board functions</a></h2>
<p>The DC-motor board allows to drive up to 2 low-power DC motors. This board is useful to easily drive a small and simple rover.</p>
<h2 id="power-considerations-1"><a class="header" href="#power-considerations-1">Power considerations</a></h2>
<p>The DC-motor board supports 5V to 12V DC input to drive 5V to 12V DC motors up to 2 x 1.5 A (2 A peak).</p>
<h1 id="distance-board"><a class="header" href="#distance-board">Distance board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> distance_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/distance.html">Distance</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/distance-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-sensor.png" title="Sensor">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Distance" target="_blank">Distance</a>
</div>
<h2 id="distance-board-functions"><a class="header" href="#distance-board-functions">Distance board functions</a></h2>
<p>The Distance board measures a distance using a time-of-flight laser range finder. This sensor is able to measure precise distances between 20 to 2000 mm.</p>
<h2 id="power-considerations-2"><a class="header" href="#power-considerations-2">Power considerations</a></h2>
<p>The Distance board supports 5V to 24V DC input.</p>
<h1 id="dynamixel-board"><a class="header" href="#dynamixel-board">Dynamixel board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> dxl_*id*</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> N x <a href="pages/demo_boards/boards_list/../../high/containers_list/dxl.html">Dynamixel motor</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> N</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/dxl1-container.png"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/dxl2-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-interface.png" title="Interface">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-sensor.png" title="Sensor">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Dxl" target="_blank">Dxl</a>
</div>
<h2 id="versions-of-dynamixel-board"><a class="header" href="#versions-of-dynamixel-board">Versions of Dynamixel board</a></h2>
<p>There are two versions of this board. One is the version for XL320 Dynamixel, the other is for other types of Dynamixel (eg. AX12). Both boards have a different connector.</p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/dxl-1.png" alt="Dynamixel connectors" /></p>
<p>Except for this connection, both versions work exactly the same way.</p>
<h2 id="how-to-connect-and-start-the-motors-to-the-board"><a class="header" href="#how-to-connect-and-start-the-motors-to-the-board">How to connect and start the motors to the board</a></h2>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/dxl-mod-1.jpg" alt="Dynamixel" /></p>
<p>The Dynamixel board is special because it has a dynamic number of visible containers, depending on the number of motors plugged to it. If you have 5 motors on your board, you will see 5 DynamixelMotor containers.</p>
<blockquote>
<p><strong>Note:</strong> If you don‚Äôt plug any motor to the board, it will create a special container called <code>void_dxl</code>.</p>
</blockquote>
<p>This board creates containers dynamically upon motor detection. So in order to create containers, this board has to detect motors, and to detect them each motor needs to have a proper power supply.</p>
<p>Indeed, if you power the Luos network with an unadapted voltage, the motors won‚Äôt reply to the board requests and you won‚Äôt be able to see any Dynamixel container on your network.</p>
<p>To be detected, the Dynamixel motors need to use a baudrate of 1 000 000 <code>baud</code> and to have an ID between 1 and 30.</p>
<p>When your Dynamixel motors are properly configured, you can connect them to the Luos network. Be sure to respect the following order to have a proper start-up:</p>
<ol>
<li>Connect the  board to the Luos network and to the Dynamixel motors.</li>
<li>Connect the correct power supply to the Luos network.</li>
<li>Connect the USB board to your computer.</li>
<li>Wait for the blue LED at the back of the board to turn off.</li>
</ol>
<blockquote>
<p><strong>Note:</strong> The blue LED is ON when the network is busy detecting Dynamixel motors.</p>
</blockquote>
<p>In order to begin using this board, you must disable the compliant mode, and you can then use the functions and variables of the <a href="pages/demo_boards/boards_list/../../high/containers_list/dxl.html">Dynamixel container</a>.</p>
<blockquote>
<p><strong>Warning:</strong> Dynamixel boards don‚Äôt belong to the power category. Thus, do not power your motors on the Robotis side, you won‚Äôt be able to share this power with others boards.</p>
</blockquote>
<h1 id="gpio-board"><a class="header" href="#gpio-board">GPIO board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> analog_read_P1, analog_read_P7, analog_read_P8, analog_read_P9, digit_read_P5, digit_read_P6, digit_write_P2, digit_write_P3, digit_write_P4</p>
<p class="cust_sheet-title" markdown="1"><strong>Types:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/state.html">State</a>, <a href="pages/demo_boards/boards_list/../../high/containers_list/voltage.html">Voltage</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 9</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/gpio-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-interface.png" title="Interface">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-sensor.png" title="Sensor">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Gpio" target="_blank">Gpio</a>
</div>
<h2 id="gpio-pinout-and-power-consideration"><a class="header" href="#gpio-pinout-and-power-consideration">GPIO pinout and power consideration</a></h2>
<p>The GPIO board allows you to use the pins of the L0 board through the Luos system. You can use <code>Digital Write</code>, <code>Digital Read</code>, or <code>Analog Read</code> pins.</p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/GPIO_pinout.png" alt="GPIO pinout" /></p>
<p>This board creates a container for each available pin.</p>
<h2 id="power-considerations-3"><a class="header" href="#power-considerations-3">Power considerations</a></h2>
<p>The GPIO board supports 5V to 24V DC input.</p>
<blockquote>
<p><strong>Warning:</strong> The pins only support 3.3V.</p>
</blockquote>
<h1 id="imu-board"><a class="header" href="#imu-board">IMU board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> Imu_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/imu.html">Imu</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/imu-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-sensor.png" title="Sensor">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Imu" target="_blank">Imu</a>
</div>
<h2 id="imu-board-functions"><a class="header" href="#imu-board-functions">IMU board functions</a></h2>
<p>The IMU board measures a wide set of position data and return values in several units. Refer to the <a href="pages/demo_boards/boards_list/../../high/containers_list/imu.html">IMU container page</a> for more details.</p>
<h2 id="power-considerations-4"><a class="header" href="#power-considerations-4">Power considerations</a></h2>
<p>The IMU board supports 5V to 24V DC.</p>
<h1 id="jack-power-input-board"><a class="header" href="#jack-power-input-board">Jack power input board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 0</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/jack-power-input-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-power.png" title="Power">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/tree/master/Hardware/wiring_and_power/Jack_power_input" target="_blank">Jack power input</a>
</div>
<h2 id="jack-power-input-board-functions"><a class="header" href="#jack-power-input-board-functions">Jack power input board functions</a></h2>
<p>The Jack power input board allows to power your Luos Network using a power Jack.</p>
<ul>
<li>plug inner diameter : 2 mm</li>
<li>plug outer diameter : 5.5 mm</li>
</ul>
<p>See the <a href="https://datasheet.octopart.com/694106301002-W%C3%BCrth-Elektronik-datasheet-111088219.pdf" target="_blank">DC power jack datasheet</a> for more information.</p>
<blockquote>
<p><strong>Warning:</strong> For your choice of power supply adapter, the max Ampere value should not exceed 5A.</p>
</blockquote>
<p>This board is not active, you can't detect it in a network.</p>
<p>You can manage multiple voltage in the same network following Luos power rules defined in <a href="pages/demo_boards/boards_list/../electronic-use.html">Luos boards general use</a> or by using a <a href="pages/demo_boards/boards_list/./power-isolator.html">Power isolator board</a>.</p>
<h2 id="power-considerations-5"><a class="header" href="#power-considerations-5">Power considerations</a></h2>
<p>The Jack power input board can provide 5V to 24V DC.</p>
<h1 id="light-board"><a class="header" href="#light-board">Light board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> light_sensor_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/light.html">Light</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/light-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-interface.png" title="Interface">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Light_sensor" target="_blank">Light sensor</a>
</div>
<h2 id="light-board-functions"><a class="header" href="#light-board-functions">Light board functions</a></h2>
<p>The Light board measures human visible light intensity and returns a value in lux.</p>
<h2 id="power-considerations-6"><a class="header" href="#power-considerations-6">Power considerations</a></h2>
<p>The Light board supports 5V to 24V DC input.</p>
<h1 id="rgb-led-strip-board"><a class="header" href="#rgb-led-strip-board">RGB LED strip board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> led_strip_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/color.html">Color</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1">N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-interface.png" title="Interface">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-actuation.png" title="Actuation">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Led_strip" target="_blank">Led strip</a>
</div>
<h2 id="board-function"><a class="header" href="#board-function">Board function</a></h2>
<p>This board controls a strip of several RGB LED. 
Refer to the <a href="pages/demo_boards/boards_list/../../high/containers_list/color.html">Color container page</a> for more details.</p>
<h2 id="power-considerations-7"><a class="header" href="#power-considerations-7">Power considerations</a></h2>
<p>The RGB LED strip board supports 5V to 24V DC.</p>
<h1 id="potentiometer-board"><a class="header" href="#potentiometer-board">Potentiometer board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> potentiometer_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/angle.html">Angle</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/potentiometer-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-interface.png" title="Interface">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-sensor.png" title="Sensor">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Potentiometer" target="_blank">Potentiometer</a>
</div>
<h2 id="potentiometer-board-functions"><a class="header" href="#potentiometer-board-functions">Potentiometer board functions</a></h2>
<p>The Potentiometer board measures the board potentiometer's rotation in degree.</p>
<h2 id="power-considerations-8"><a class="header" href="#power-considerations-8">Power considerations</a></h2>
<p>The board supports 5V to 24V DC input.</p>
<h1 id="power-isolator-board"><a class="header" href="#power-isolator-board">Power isolator board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 0</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/power-isolator-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-power.png" title="Power">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/tree/master/Hardware/wiring_and_power/Cable_power_isolator" target="_blank">Power isolator</a>
</div>
<h2 id="power-isolator-board-1"><a class="header" href="#power-isolator-board-1">Power isolator board</a></h2>
<p>The Power isolator board allows to manage multiple voltages into the same Luos network. As this board is not active, you can't detect it in your network.
This board isolates the voltage between each plugged-in side. You can use it to link components with different voltage needs. For example, to connect an XL320 motor (7V) and a MX28 motor (12V) on the same network, you can use a Dynamixel V2 board with a 7V power container for XL320, a Dynamixel V1 board with a 12V power container, and a Power isolator board to link both side together. You can connect a Gate like a <a href="pages/demo_boards/boards_list/./usb.html">USB board</a> in the side you want without any functioning trouble.</p>
<img height="350" src="pages/demo_boards/boards_list/../../../_assets/img/power_isolator_example.png" alt="Power isolator example image">
<h1 id="power-pi-board"><a class="header" href="#power-pi-board">Power Pi board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> gate</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/gate.html">Gate</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/power-pi-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-communication.png" title="Comunication">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-power.png" title="Power">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-cognition.png" title="Cognition">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Gate" target="_blank">Gate</a>
</div>
<h2 id="power-pi-board-1"><a class="header" href="#power-pi-board-1">Power Pi board</a></h2>
<p>The Power Pi board links any Raspberry Pi-like board to a Luos network. This board allows you to convert the Luos network power into 5V and up to 2A in order to power your Raspberry Pi or Odroid without any other power source. This board hosts a Gate container allowing to your Raspberry Pi to control your entire Luos network using Pyluos or any other language as a <a href="https://en.wikipedia.org/wiki/Single_system_image" target="_blank">single system image</a>.
The Power Pi board supports 5V to 24V DC input.</p>
<h2 id="connection-of-power-pi-board-to-a-raspberry-pi"><a class="header" href="#connection-of-power-pi-board-to-a-raspberry-pi">Connection of Power Pi board to a Raspberry Pi</a></h2>
<p>The connection of the Power Pi board to an ODrive board or to a Raspberry Pi board is made according to the following images.</p>
<blockquote>
<p><strong>Warning:</strong> Be sure to plug the board on the right pins of the Raspberry Pi, and facing the right side. A bad connection may damage both boards.</p>
</blockquote>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/power-pi-1.png" alt="Plug location" /><br />
<em>Red rectangles show where to plug the Power Pi board on an ODrive board (left) and on a Raspberry Pi board (right).</em></p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/power-pi-2.png" alt="Preview" /><br />
<em>On the left, a Power Pi board connected to an ODrive board; on the right, a Power Pi board connected to a Raspberry Pi board.</em></p>
<h2 id="how-to-easily-start-to-create-your-code-using-this-board"><a class="header" href="#how-to-easily-start-to-create-your-code-using-this-board">How to easily start to create your code using this board</a></h2>
<p>Coding on a Raspberry Pi in a device can be quite boring. Generally, you can't connect any screen and keyboard to work properly.
That's why we created a small piece of code allowing to convert the Gate container stream into Web Socket messages.
By using this Web Socket, you can connect Pyluos or any other lib you created to your Raspberry Pi. This way you can create and execute your device's behaviors directly on your computer.
When your behavior is complete and tested on your device, you just have to copy it into your Raspberry Pi to obtain an autonomous device.</p>
<p>To setup this pipe on your Raspberry Pi, please <a href="https://community.luos.io/t/create-a-web-socket-pipe-to-luos-network-using-raspberry-pi/197" target="_blank">follow the tutorial on our forum</a>.</p>
<h2 id="how-to-setup-your-power-pis-gate"><a class="header" href="#how-to-setup-your-power-pis-gate">How to setup your Power Pi's Gate</a></h2>
<p>You need to setup the Power Pi board before to start using it.</p>
<p>First, you have to connect your Raspberry Pi to the Gate network.</p>
<p>Several solution exist to configure the Raspberry Pi‚Äôs Gate, we provide you with two of them according to your setup:</p>
<h3 id="first-solution-with-a-computer-and-the-raspberry-pis-sd-card"><a class="header" href="#first-solution-with-a-computer-and-the-raspberry-pis-sd-card">First solution: with a computer and the Raspberry Pi‚Äôs SD card</a></h3>
<p>You will need the following parts:</p>
<ul>
<li>A micro SD to SD card adapter</li>
<li>A computer with <em>Bonjour</em> installed on it
You can download <em>Bonjour</em> by Apple <a href="https://support.apple.com/kb/DL999" target="_blank">here</a>. Install it on your computer if you don‚Äôt already have it.</li>
</ul>
<p>Plug the micro SD card to the micro-SD-to-SD adapter, and plug it to your computer. Ignore the messages that ask you if you want to format, and locate the SD card directory, named Boot. In Windows, it appears as a drive; in MacOS or Linux, go to</p>
<pre><code class="language-bash">cd /Volumes/boot
</code></pre>
<p>Create a new file in this directory called <code>wpa_supplicant.conf</code>. The file should contain the following code:</p>
<pre><code class="language-bash">country=fr
update_config=1
ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev

network={
 scan_ssid=1
 ssid=&quot;SSID-Internet-box&quot;
 psk=&quot;Secured-key&quot;
}
</code></pre>
<p>Choose the country according to where you live, and replace <code>SSID-Internet-box</code> by the SSID of your internet device, and <code>Secured-key</code> by the password.</p>
<p>Save the file and eject the SD card. Replace it into the Raspberry Pi‚Äôs slot.</p>
<p>The Raspberry Pi can be located with the expression <code>raspberrypi.local</code>, thanks to the software <em>Bonjour</em>.</p>
<h3 id="second-solution-with-a-screen-and-a-keyboard"><a class="header" href="#second-solution-with-a-screen-and-a-keyboard">Second solution: with a screen and a keyboard</a></h3>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/rpi-setup.jpg" alt="Raspberry-Pi connection" /></p>
<p>In order to establish a connection, you will need:</p>
<ul>
<li>A QWERTY keyboard</li>
<li>An HDMI screen</li>
<li>An USB charger or USB to micro-USB cable to power up the Raspberry Pi</li>
<li>A micro USB to female USB adapter</li>
<li>A micro-HDMI to HDMI adapter</li>
<li>You can find the adapters you need in the Raspberry Pi zero toolkit, for example.</li>
</ul>
<p>Plug all these elements and the Power Pi board on your Raspberry Pi (do not plug anything to the Power Pi board), and power it up. You should see on the screen the boot sequence and the file system expanding. After a few seconds, you should have a prompt asking you for username and password.</p>
<p>Usually, the Raspberry Pi has the default Raspberry username and password:</p>
<pre><code class="language-bash">Username: pi
Password: raspberry
</code></pre>
<p>As you can see at the bottom of the boot screen, the SSH port is now open, so you should start by changing the password of your board to avoid any security issue.</p>
<p>To do that, use the following command:</p>
<pre><code class="language-bash">sudo raspi-config
</code></pre>
<p>Choose option 1 to change your password and hostname, and choose option 2 to connect your board to your wifi.</p>
<p>You can check your Gate connection and retrieve the IP address using</p>
<pre><code class="language-bash">ifconfig
</code></pre>
<p>and halt your system using</p>
<pre><code class="language-bash">sudo halt
</code></pre>
<p>Your raspberry is now ready to be used, you can start setting your Luos network up.</p>
<blockquote>
<p><strong>Warning:</strong> The Power Pi board doesn‚Äôt belong to the Power category. Using the power input of your Raspberry Pi doesn‚Äôt allow you to supply the others boards in the Luos network. In order to make it work properly, please use a power board on your system.</p>
</blockquote>
<h2 id="how-to-use-your-power-pi-board"><a class="header" href="#how-to-use-your-power-pi-board">How to use your Power Pi board</a></h2>
<h3 id="power"><a class="header" href="#power">Power</a></h3>
<p>Please note that the Power Pi board connected to the Raspberry Pi is already powered by the Luos network, through the power boards you use (Power board or Battery board).</p>
<p>However, <strong>the USB board can‚Äôt power the Raspberry Pi board</strong>, because several voltage transformations are applied along the network. You can also use an universal power supply (+5.1V micro USB) directly plugged to the Raspberry Pi.</p>
<h3 id="communication-mode"><a class="header" href="#communication-mode">Communication mode</a></h3>
<p>By default, your Raspberry Pi starts a Luos service at boot called <em>pyluos-usb2ws</em>. This service creates a pipe between a <strong>websocket</strong> opened on <strong>port 9342</strong>, and the Luos system. If you send standard Luos Json data into this web socket, it is directly sent into the Luos network.</p>
<p>This way, you can control your device from your computer even if it is moving or dispatched. For example, if you are using Pyluos to control your device, you can start your program with:</p>
<pre><code class="language-python">from pyluos import Device
device = Device(&quot;raspberrypi.local&quot;)
device.containers
</code></pre>
<p>In this example, you can replace <code>raspberrypi.local</code> by your Raspberry Pi‚Äôs IP or hostname.</p>
<p>You should see the list of containers connected to the Power Pi board.</p>
<h3 id="cognition-mode"><a class="header" href="#cognition-mode">Cognition mode</a></h3>
<p>Also, you can use your Raspberry Pi like an embedded computer for your device.</p>
<p>To send your Json data to your network, please use the serial port <code>/dev/ttyAMA0</code> of your Raspberry Pi, as you can do it with the USB board.</p>
<h1 id="power-switch-board"><a class="header" href="#power-switch-board">Power-switch board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> switch_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/state.html">State</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/power-switch-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-actuation.png" title="Actuation">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/tree/master/Projects/l0/Power_switch" target="_blank">Power switch</a>
</div>
<h2 id="board-function-1"><a class="header" href="#board-function-1">Board function</a></h2>
<p>The Power-switch board allows you to interrupt another circuit up to 10A on 230V AC or 30V DC. The blue LED on the container indicates when the link between 2 entries on the screw connector is closed.</p>
<h2 id="power-considerations-9"><a class="header" href="#power-considerations-9">Power considerations</a></h2>
<p>The Power-switch board supports 5V to 24V DC input.</p>
<h1 id="rgb-led-board"><a class="header" href="#rgb-led-board">RGB LED board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> rgb_led_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/color.html">Color</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/rgb-led-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-interface.png" title="Interface">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-actuation.png" title="Actuation">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Led" target="_blank">Led</a>
</div>
<h2 id="board-function-2"><a class="header" href="#board-function-2">Board function</a></h2>
<p>This board contains an RGB LED that can be controlled to make a light of any chosen color.
Refer to the <a href="pages/demo_boards/boards_list/../../high/containers_list/color.html">Color container page</a> for more details.</p>
<h2 id="power-considerations-10"><a class="header" href="#power-considerations-10">Power considerations</a></h2>
<p>The RGB LED board supports 5V to 24V DC.</p>
<h1 id="servo-board"><a class="header" href="#servo-board">Servo board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> servo1_mod, servo2_mod, servo3_mod, servo4_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/servo.html">Servo</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 4</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/servo-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-actuation.png" title="Actuation">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Servo" target="_blank">Servo</a>
</div>
<h2 id="how-to-connect-your-servo-motors-to-your-containers"><a class="header" href="#how-to-connect-your-servo-motors-to-your-containers">How to connect your servo-motors to your containers</a></h2>
<p>The Servo board has 4 servo-motor ports ordered as shown on the following picture, from <code>S1</code> to <code>S4</code>.</p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/servo-1.png" alt="Servomotor ports" /></p>
<h2 id="power-considerations-11"><a class="header" href="#power-considerations-11">Power considerations</a></h2>
<p>The Servo board accepts supply voltage from <code>5V</code> to <code>7V</code>. Watch out to always power your motor with an appropriate voltage.</p>
<blockquote>
<p><strong>Warning:</strong> A USB board generally provides too weak power to drive a servomotor properly. It must be plugged to a Power plug board, for example.</p>
</blockquote>
<h1 id="stepper-board"><a class="header" href="#stepper-board">Stepper board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> stepper_mod</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/stepper.html">Stepper</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/stepper-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-actuation.png" title="Actuation">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Stepper" target="_blank">Stepper</a>
</div>
<h2 id="how-to-connect-a-stepper-motor-to-the-stepper-board"><a class="header" href="#how-to-connect-a-stepper-motor-to-the-stepper-board">How to connect a stepper motor to the Stepper board</a></h2>
<p>The Stepper board has one 4-pin PH connector where a stepper motor can be plugged.</p>
<h2 id="current-limitations"><a class="header" href="#current-limitations">Current limitations</a></h2>
<p>The current allowed in the stepper motor must be limited in order to avoid overheat into the board. The trimming potentiometer situated at the left of the radiator on the board is used to control the output current.</p>
<img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/steppermotor-potar.jpg" title="Stepper motor" />
<p>The trimming potentiometer is used as followed:</p>
<ol>
<li>Turning the trimming potentiometer clockwise (towards pin 3) has the effect of <strong>reducing</strong> the output current.</li>
<li>Turning the trimming potentiometer counterclockwise (towards pin 1) has the effect of <strong>rising</strong> the output current (with overheating risks).</li>
</ol>
<img height="100" src="pages/demo_boards/boards_list/../../../_assets/img/potentiometer-stepper-motor.png" title="Potentiometer Stepper motor" />
<blockquote>
<p><strong>Warning:</strong> Considering these specifications, be sure to have the trimming potentiometer fully turned clockwise to the pin 3 in order to limit the current and avoid overheat. Then you can set the right amount of output current by slowly turning the trimming potentiometer counterclockwise.</p>
</blockquote>
<h2 id="power-considerations-12"><a class="header" href="#power-considerations-12">Power considerations</a></h2>
<p>This board accepts supply voltage from <code>7V</code> to <code>24V</code>.</p>
<blockquote>
<p><strong>Warning:</strong> USB Gate board doesn't provide enough voltage through USB cable to power the Stepper board nor drive a stepper motor. A power board such as Battery board or Power plug board shall be used.</p>
</blockquote>
<h1 id="usb-board"><a class="header" href="#usb-board">USB board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> gate</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/gate.html">Gate</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/usb-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-communication.png" title="Communication">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-power.png" title="Power">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Gate" target="_blank">Gate</a>
</div>
<h2 id="driver-installation"><a class="header" href="#driver-installation">Driver installation</a></h2>
<p>With Windows, you must install <code>VCP</code> and <code>D2XX</code> drivers first. They are available for download on these pages:</p>
<p><a href="https://www.ftdichip.com/Drivers/VCP.htm" target="_blank">https://www.ftdichip.com/Drivers/VCP.htm</a></p>
<p><a href="https://www.ftdichip.com/Drivers/D2XX.htm" target="_blank">https://www.ftdichip.com/Drivers/D2XX.htm</a></p>
<p>Select the files to download according to your system (x86 or x64) and install them on your computer.</p>
<h2 id="how-to-connect-the-usb-board-to-your-computer"><a class="header" href="#how-to-connect-the-usb-board-to-your-computer">How to connect the USB board to your computer</a></h2>
<p>There are 2 micro-USB ports, but one of them is only used to manually update the board. The other one is the one we will use in this page.</p>
<p>The right USB port used on this page is the one at the opposite of the 2 Luos connectors.</p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/usb-1.jpg" alt="USB board" /></p>
<h2 id="how-to-use-the-usb-board"><a class="header" href="#how-to-use-the-usb-board">How to use the USB board</a></h2>
<p>Luos' USB board acts like a serial port on your system.
To control your device, you have to get and set Json data into the serial port opened by the USB board. In order do that with Pyluos, you can use the following python code:</p>
<pre><code class="language-python">from pyluos import Device
device = Device('COM13')
device.containers
</code></pre>
<h3 id="on-windows"><a class="header" href="#on-windows">On Windows</a></h3>
<p>On Windows, a <em>COM</em> port is usually used (like <code>COM1</code>, <code>COM2</code>, <code>COM3</code>, etc.). It can be found in <em>Device Manager</em> (right-click on <em>Start</em> button), after it‚Äôs plugged:</p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/usb-2.png" alt="Port COM" /></p>
<p>Once the port is known, the connexion can be set on Pyluos with python:</p>
<pre><code class="language-python">device = Device('COM27')
</code></pre>
<h3 id="on-macos"><a class="header" href="#on-macos">On MacOS</a></h3>
<p>To list the available serial ports, use the following command line:</p>
<pre><code class="language-bash">ls /dev/cu.usbserial-*
</code></pre>
<p>Once the port is known, the connexion can be set on Pyluos with python:</p>
<pre><code class="language-python">device = Device('/dev/cu.usbserial-DN30VKKB')
</code></pre>
<h3 id="on-linux"><a class="header" href="#on-linux">On Linux</a></h3>
<p>To list the available serial ports, type the following in a terminal:</p>
<pre><code class="language-bash">dmesg | grep tty
</code></pre>
<p>Once the port is known, the connexion can be set on Pyluos with python:</p>
<pre><code class="language-python">device = Device('/dev/ttyS0')
</code></pre>
<h3 id="serial-connectivity-with-other-languages"><a class="header" href="#serial-connectivity-with-other-languages">Serial connectivity with other languages</a></h3>
<p>In order to communicate from a computer to a Luos network through a gate, a serial connection can be established. This serial connectivity must have the following parameters:</p>
<ul>
<li>Baudrate: 1,000,000 Bits/s</li>
<li>8 Bits per transfer</li>
<li>1 stop bit</li>
<li>No parity bit</li>
<li>Least significant bit sent first</li>
<li>Non inverted</li>
</ul>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/serial-configuration.png" alt="" /></p>
<p>Although the connection can be made with Pyluos, the Python library, other languages can be used on the computer side. Here is a C Linux serial connection example:</p>
<pre><code class="language-C">void init_luos_comm(luos_t* m)
{
 m-&gt;serial_fd = open(SERIAL_PORT, O_RDWR);

 // Check for errors
 if (m-&gt;serial_fd &lt; 0)
 {
     printf(&quot;Error %i from open: %s\n&quot;, errno, strerror(errno));
     return -1;
 }

 struct termios tty;
 memset(&amp;tty, 0, sizeof tty);

 if (tcgetattr(m-&gt;serial_fd, &amp;tty) != 0)
 {
     printf(&quot;Error %i from tcgetattr: %s\n&quot;, errno, strerror(errno));
     return -1;
 }

 tty.c_cflag &amp;= ~PARENB;        // Disable parity
 tty.c_cflag &amp;= ~CSTOPB;        // Clear stop field
 tty.c_cflag |= CS8;            // 8 bits per byte
 tty.c_cflag &amp;= ~CRTSCTS;       // Disable RTS/CTS hardware flow control
 tty.c_cflag |= CREAD | CLOCAL; // Turn on READ &amp; ignore ctrl lines (CLOCAL = 1)
 tty.c_lflag &amp;= ~ICANON;        // Disable canonical mode
 tty.c_lflag &amp;= ~ECHO;          // Disable echo
 tty.c_lflag &amp;= ~ECHOE;         // Disable erasure
 tty.c_lflag &amp;= ~ECHONL;        // Disable new-line echo
 tty.c_lflag &amp;= ~ISIG;          // Disable interpretation of INTR, QUIT and SUSP

 // Turn off s/w flow ctrl
 tty.c_iflag &amp;= ~(IXON | IXOFF | IXANY);

 // Disable any special handling of received bytes
 tty.c_iflag &amp;= ~(IGNBRK|BRKINT|PARMRK|ISTRIP|INLCR|IGNCR|ICRNL);

 // Prevent special interpretation of output bytes (e.g. newline chars)
 tty.c_oflag &amp;= ~OPOST;

 // Prevent conversion of newline to carriage return/line feed
 tty.c_oflag &amp;= ~ONLCR;

 // Wait for up to 1s (10 deciseconds), returning as soon as any data is received.
 tty.c_cc[VTIME] = 10;
 tty.c_cc[VMIN] = 0;

 // Set in/out baud rate to be 1000000
 cfsetispeed(&amp;tty, B1000000);
 cfsetospeed(&amp;tty, B1000000);

 // Save tty settings
 if (tcsetattr(m-&gt;serial_fd, TCSANOW, &amp;tty) != 0)
 {
     printf(&quot;Error %i from tcsetattr: %s\n&quot;, errno, strerror(errno));
     return -1;
 }
 fcntl(m-&gt;serial_fd, F_SETFL, FNDELAY);
 usleep(500000);
}
</code></pre>
<h2 id="usb-board-power-delivery"><a class="header" href="#usb-board-power-delivery">USB board power delivery</a></h2>
<p>The USB board power-delivery in the Luos network is limited to <code>500 mA</code>. This board can‚Äôt power too many boards and power-demanding ones like, for example, a DC-motor board with one or two motors connected. If you experiment power issues, feel free to add a power category board like a <a href="pages/demo_boards/boards_list/./jack-power-input.html">Jack power input board</a>.</p>
<h1 id="wifi-ble-board"><a class="header" href="#wifi-ble-board">Wifi-BLE board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> gate</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> <a href="pages/demo_boards/boards_list/../../high/containers_list/gate.html">Gate</a></p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 1</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><!--<img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/power-switch-container.png">-->N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-communication.png" title="Communication">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/blob/master/Projects/l0/Gate" target="_blank">Gate</a>
</div>
<h2 id="how-to-configure-the-wi-fi-network"><a class="header" href="#how-to-configure-the-wi-fi-network">How to configure the Wi-Fi network</a></h2>
<p>This board allows to enable Wi-Fi communication into a Luos network.</p>
<ol>
<li>Plug the board to a powered Luos network or to a power source. It automatically turns the Wi-Fi on.</li>
<li>Connect your computer to the board's Wi-Fi. A page automatically opens in your default browser.</li>
<li>On the page, choose the name of the Wi-Fi network or choose an existing network to connect to.</li>
</ol>
<h2 id="power-considerations-13"><a class="header" href="#power-considerations-13">Power considerations</a></h2>
<p>This board accepts supply voltage from <code>7V</code> to <code>24V</code>.</p>
<h1 id="wire-power-input-board"><a class="header" href="#wire-power-input-board">Wire power input board</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> 0</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/wire-power-input-container.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(ies)</strong></p>
<p class="cust_indent" markdown="1">
<img height="50" src="pages/demo_boards/boards_list/../../../_assets/img/sticker-power.png" title="Power">
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/tree/master/Hardware/wiring_and_power/Wire_power_input" target="_blank">Wire power input</a>
</div>
<h2 id="how-to-use-the-wire-power-input-board"><a class="header" href="#how-to-use-the-wire-power-input-board">How to use the Wire power input board</a></h2>
<p>The Wire power input board allows to power your Luos Network using a wire-screw interface. 
As this board is not active, you can't detect it into a network.</p>
<h2 id="power-considerations-14"><a class="header" href="#power-considerations-14">Power considerations</a></h2>
<p>The Wire power input board can provide 5V to 24V DC.</p>
<p>You can manage multiple voltage in the same network following Luos power rules defined in <a href="pages/demo_boards/boards_list/../electronic-use.html">Luos boards general use</a> or by using a <a href="pages/demo_boards/boards_list/./power-isolator.html">Power isolator board</a>.</p>
<h1 id="cables"><a class="header" href="#cables">Cables</a></h1>
<div class="cust_sheet" markdown="1">
<p class="cust_sheet-title" markdown="1"><strong>Default Alias:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Type:</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Number of container(s):</strong> N/A</p>
<p class="cust_sheet-title" markdown="1"><strong>Image</strong></p>
<p class="cust_indent" markdown="1"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/cable-10cm.png"><img height="150" src="pages/demo_boards/boards_list/../../../_assets/img/cable-20cm.png"></p>
<p class="cust_sheet-title" markdown="1"><strong>Category(-ies)</strong></p>
<p class="cust_indent" markdown="1">N/A
</p>
<p class="cust_sheet-title" markdown="1"><strong>Project source </strong></p>
<a class="github-button" data-size="large" aria-label="Star Luos-io/Luos on GitHub" href="https://github.com/Luos-io/Examples/tree/master/Hardware/" target="_blank">Cables</a>
</div>
<h2 id="how-do-the-cables-work"><a class="header" href="#how-do-the-cables-work">How do the cables work?</a></h2>
<p>The cables are used to link the Luos bords together. There are two lengths of cables : 10 cm (3.9 in) cables and 20 cm (7.9 in) cables.
However, it is possible to build a cable from any disired length (see the next section).</p>
<p><strong>Maximal current value:</strong> The Luos cable can handle up to 7 A.</p>
<p><strong>Boards connection:</strong> The connectors on the board side and on the cable side have a foolproof so that they can plug together in one way only. Fore more information about plugging boards together with cables, please follow <a href="pages/demo_boards/boards_list/../electronic-use.html#plug">this link</a>.</p>
<h2 id="how-to-buid-a-luos-compatible-cable"><a class="header" href="#how-to-buid-a-luos-compatible-cable">How to buid a Luos compatible-cable?</a></h2>
<p>If you need a cable with a length not available, you can build one, provided you have electrical wire and two connectors:</p>
<ul>
<li>Electrical wire: <code>AWG 22</code></li>
<li>Connectors: <code>DF11-8DS-2C, 2 mm</code></li>
</ul>
<p><a href="https://datasheet.octopart.com/DF11-8DS-2C-Hirose-datasheet-15540170.pdf" target="_blank">The datasheet connector is available here</a>.</p>
<p>The board connector associated to the cables is <code>DF11-8DP-2DS</code>. this connector's pinout on Luos' boards is shown in the following picture:</p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/pinout-board-connector.png" alt="Luos board connector pinout" /></p>
<p>The routing of the board connector is as shown below:</p>
<p><img src="pages/demo_boards/boards_list/../../../_assets/img/board-large-view.png" alt="Luos board connector routing" /></p>
<p><a href="pages/demo_boards/boards_list/../../../_assets/img/routing-board-connector.png"><img src="pages/demo_boards/boards_list/../../../_assets/img/routing-board-connector-small.png" alt="Luos board connector routing" /></a>
<br /><em>Click on the image to display it in full size.</em></p>
<p>On a Luos cable, the wires are organized in this order:</p>
<ul>
<li>Pin 1 (first connector end) on pin 1 (second connector end)</li>
<li>Pin 2 (first connector end) on pin 2 (second connector end)</li>
<li>Pin 3 (first connector end) on pin 3 (second connector end)</li>
<li>...</li>
<li>Pin 8 (first connector end) on pin 8 (second connector end)</li>
</ul>
<blockquote>
<p><strong>Note:</strong> If you wish to use only 4 wires instead of 8 (data only, no power), this is possible with using the pins 4 (<code>B_RS_485_P</code>), 5 (<code>A_RS_485_N</code>), 3 or 6 (<code>PTP</code>), and <code>GND</code>. </p>
</blockquote>


                            <div class="cust_edit_page"><a id="gh_link">Contribute to this page</a>&nbsp;|&nbsp;<a id="feedback" class="cust_red_link" onclick="openFeedback()">This page wasn't helpful? &#128078;</a></div><div align="right" style="float: right; height: 30px; width: 400px; position: relative; top: -18px;"><a class="github-button" href="https://github.com/Luos-io" data-show-count="true" aria-label="Follow @Luos-io on GitHub">Follow @Luos-io</a>&nbsp;<a class="github-button" href="https://github.com/Luos-io/Luos/subscription" data-icon="octicon-eye" data-show-count="true" aria-label="Watch Luos-io/Luos on GitHub">Watch</a>&nbsp;<a class="github-button" href="https://github.com/Luos-io/Luos" data-icon="octicon-star" data-show-count="true" aria-label="Star Luos-io/Luos on GitHub">Star</a></div>

                            
                            <script language="javascript">
                                // Contribute to this page's href address
                                var page = window.location.pathname.slice(0, -4)+'md';
                                document.getElementById('gh_link').href = 'https://github.com/Luos-io/doc/tree/master/src'+page;
                                
                            </script>


                            <script language="javascript">
                                // Open the new window for feedback page
                                function openFeedback() {
                                  var myWindow = window.open("", "MsgWindow", "toolbar=yes,scrollbars=no,resizable=no,width=550,height=280");
                                  myWindow.document.write("<!DOCTYPE HTML><html><head><title>Luos documentation feedback</title><style>body{font-family: 'Roboto', sans-serif;} .zf-fmFooter .zf-submitColor{ font-size:14px; padding:4px 10px;}.zf-submitColor{ color: #fff; border:1px solid; border-color: #2F9EEC #1988D6 1988D6; background: #2596e6; background: -webkit-gradient(linear, left top, left bottom, from(#2f9eec), to(#1988d6)); background: moz-linear-gradienttop,  #2f9eec,  #1988d6); filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#2f9eec', endColorstr='#1988d6'); moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.15); -webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.15); box-shadow:0 1px 2px rgba(0, 0, 0, 0.15); text-shadow:0 1px 0 rgba(0, 0, 0, 0.25);  } .zf-submitColor:hover{ background: #1988d6; background: -webkit-gradient(linear, left top, left bottom, from(#1988d6), to(#1988d6)); background: -moz-linear-gradient(top,  #1988d6,  #1988d6);   filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#1988d6', endColorstr='#1988d6'); }textarea#details_feedback{  width: 90%;  height: 100px;  padding: 12px 12px;  margin: 8px 0;  display: inline-block;  border: 1px solid #ccc;  border-radius: 4px;  box-sizing: border-box;}</style></head><body><div style=\"margin: 20px 0 20px 0; padding: 10px 20px 20px 20px; width: 90%; background-color: #efefef;\" id=\"feedback-block\"><form action=\'https://forms.zohopublic.eu/luosio/form/Thumbsurvey/formperma/BlTjwTQeX5v3FQDKFEHW5NNUgyllNOKxC-9a5miMlSw/htmlRecords/submit\' name=\'form\' method=\'POST\' onSubmit=\'javascript:document.charset=\"UTF-8\"; return zf_ValidateAndSubmit();\' accept-charset=\'UTF-8\' enctype=\'multipart/form-data\' id=\'form\'><input type=\"hidden\" name=\"zf_referrer_name\" value=\"\"><input type=\"hidden\" name=\"zf_redirect_url\" value=\"\"><input type=\"hidden\" name=\"zc_gad\" value=\"\"><div style=\"margin: 5px 5px 5px 0px; color: #333; font-size: 1.5em;\">Help us to improve our documentation.<\/div><div style=\"margin: 0 0 0 10px; padding: 0 0 0 15px; border-left: 2px solid #ccc\"<label style=\"color: #909090; font-size: 0.9em; font-style: italic;\">Add details to help us improve this page: <\/label><div><textarea id=\"details_feedback\" name=\"MultiLine\" checktype=\"c1\" maxlength=\"65535\"><\/textarea><p id=\"MultiLine_error\" style=\"display:none;\">Invalid value<\/p><\/div><label style=\"display:none;\">window.location.href <\/label><div style=\"display:none;\"><textarea id=\"pageLocation\" name=\"MultiLine1\" checktype=\"c1\" maxlength=\"65535\"><\/textarea><p id=\"MultiLine1_error\" class=\"zf-errorMessage\" style=\"display:none;\">Invalid value<\/p><\/div><button class=\"zf-submitColor\" style=\"margin-top: 12px;\">Submit<\/button><\/div><\/form><\/div><script type=\"text/javascript\">var zf_DateRegex = new RegExp(\"^(([0][1-9])|([1-2][0-9])|([3][0-1]))[-](Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec|JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)[-](?:(?:19|20)[0-9]{2})$\"); var zf_MandArray = []; var zf_FieldArray = [ \"MultiLine\", \"MultiLine1\"];var isSalesIQIntegrationEnabled = false; var salesIQFieldsArray = []; document.getElementById(\'pageLocation\').value = window.location.href;<\/script></body>");
                                }
                            </script>


                            <br />

                                <!-- newsletter subscription -->
                                <iframe frameborder="0" style="height:200px;width:99%;border:none;" src='https://luos.maillist-manage.eu/ua/Optin?od=12ba7e1d8761&zx=14ac451cc1&lD=1b0211bfd6a6409&n=11699f74e8efc17&sD=1b0211bfd6dd285'></iframe>


                            <br />

                            <div class="cust_footer">
                                <p align="center">¬©2018-2020 <a href="https://www.luos.io">Luos.io</a></p>
                            </div>

                        </main>

                        <nav class="nav-wrapper" aria-label="Page navigation">
                            <!-- Mobile navigation buttons -->
                            

                            

                            <div style="clear: both"></div>
                        </nav>
                    </div>
                </div>

                <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    

                    
                </nav>

            </div>

            

            
            <!-- Google Analytics Tag -->
            <script type="text/javascript">
                var localAddrs = ["localhost", "127.0.0.1", ""];

                // make sure we don't activate google analytics if the developer is
                // inspecting the book locally...
                if (localAddrs.indexOf(document.location.hostname) === -1) {
                    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                    ga('create', 'UA-153509818-3', 'auto');
                    ga('send', 'pageview');
                }
            </script>
            

            
            
            

            

            
            <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
            <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
            <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
            

            <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
            <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
            <script src="book.js" type="text/javascript" charset="utf-8"></script>

            <!-- Custom JS scripts -->
            

            
            
            <script type="text/javascript">
            window.addEventListener('load', function() {
                window.setTimeout(window.print, 100);
            });
            </script>
            
            


    </body>
</html>
