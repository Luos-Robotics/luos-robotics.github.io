<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>

        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-M73ZRR4');</script>
        <!-- End Google Tag Manager -->

        <script async defer src="https://buttons.github.io/buttons.js"></script>

        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Routing table - Luos.io - Documentation</title>
                
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Luos official documentation pages">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" type="image/png" href="../../../favicon-luos.png">
        <!--<link rel="shortcut icon" type="image/png" href="../../../">-->
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
                <link rel="stylesheet" href="../../../src/_assets/css/custom.css">
        
        
        <!-- Chat Zoho -->
        <script type="text/javascript"> 
            var $zoho=$zoho || {};
            $zoho.salesiq = $zoho.salesiq || {widgetcode:"3527438c9fcafa0972a3a2576fae38964b4fe1b8f520ccf46ff8317a97584595", values:{},ready:function(){}};
            var d=document;s=d.createElement("script");
            s.type="text/javascript";
            s.id="zsiqscript";
            s.defer=true;
            s.src="https://salesiq.zoho.eu/widget";
            t=d.getElementsByTagName("script")[0];
            t.parentNode.insertBefore(s,t);
            d.write("<div id='zsiqwidget'></div>"); </script>

        <link href="../../../_assets/css/form.css" rel="stylesheet" type="text/css">
        <script src="../../../_assets/js/validation.js"></script>
        
        <div style="position:fixed;top:calc(50% - 250px);right:0;transition:width 300ms ease-out;width:0; z-index: 99;" data-qa="side_panel"> <a class="typeform-share button" href="https://form.typeform.com/to/KqtBEb6N?typeform-medium=embed-snippet" data-mode="side_panel" style="box-sizing:border-box;position:absolute;top:300px;width:230px;height:48px;padding:0 20px;margin:0;cursor:pointer;background:#75DBC7;border-radius:4px 4px 0px 0px;box-shadow:0px 2px 12px rgba(0, 0, 0, 0.06), 0px 2px 4px rgba(0, 0, 0, 0.08);display:flex;align-items:center;justify-content:flex-start;transform:rotate(-90deg);transform-origin:bottom left;color:white;text-decoration:none;z-index:9999;" data-hide-headers="true" data-hide-footer="true" data-width="320" data-height="500" target="_blank"> <span class="icon" style="width:32px;position:relative;text-align:center;transform:rotate(90deg) scale(0.85);left:-8px;"> <img alt="" src="https://images.typeform.com/images/9agMH7QtgJsU" style="max-width:24px;max-height:24px;margin-top:10px;" /> </span> <span style="text-decoration:none;font-size:18px;font-family:Helvetica,Arial,sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;text-align:center;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;">Is Luos for me? ü§î</span> </a> </div> <script> (function() { var qs,js,q,s,d=document, gi=d.getElementById, ce=d.createElement, gt=d.getElementsByTagName, id="typef_orm_share", b="https://embed.typeform.com/"; if(!gi.call(d,id)){ js=ce.call(d,"script"); js.id=id; js.src=b+"embed.js"; q=gt.call(d,"script")[0]; q.parentNode.insertBefore(js,q) } })() </script>
    </head>
    <body>

        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M73ZRR4"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->

        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
		
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

		<nav id="sidebar" class="sidebar" aria-label="Table of contents">
			<div id="sidebar-scrollbox" class="sidebar-scrollbox" style="padding-top: 100px;">
				<ol class="chapter"><li class="chapter-item affix "><a href="../../../index.html">Home</a></li><li class="chapter-item "><a href="../../../pages/overview/general-basics.html"><strong aria-hidden="true">1.</strong> Basics</a></li><li class="chapter-item expanded "><a href="../../../pages/low/low-level.html"><strong aria-hidden="true">2.</strong> Low level</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../pages/low/dev-env.html"><strong aria-hidden="true">2.1.</strong> Development environment</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../pages/low/dev_env/general-integration-consideration.html"><strong aria-hidden="true">2.1.1.</strong> General integration</a></li><li class="chapter-item "><a href="../../../pages/low/dev_env/platformio.html"><strong aria-hidden="true">2.1.2.</strong> PlatformIO</a></li><li class="chapter-item "><a href="../../../pages/low/dev_env/arduino.html"><strong aria-hidden="true">2.1.3.</strong> Arduino</a></li></ol></li><li class="chapter-item "><a href="../../../pages/low/hardware-topics.html"><strong aria-hidden="true">2.2.</strong> Hardware Topics</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../pages/low/hardware_topics/minimal-requirements.html"><strong aria-hidden="true">2.2.1.</strong> Minimum Requirements</a></li><li class="chapter-item "><a href="../../../pages/low/hardware_topics/electronic-design.html"><strong aria-hidden="true">2.2.2.</strong> Electronic design</a></li><li class="chapter-item "><a href="../../../pages/low/hardware_topics/luos-hal.html"><strong aria-hidden="true">2.2.3.</strong> Use of Luos HAL</a></li></ol></li><li class="chapter-item expanded "><a href="../../../pages/low/containers.html"><strong aria-hidden="true">2.3.</strong> Containers</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../pages/low/containers/create-project.html"><strong aria-hidden="true">2.3.1.</strong> Create Luos projects</a></li><li class="chapter-item "><a href="../../../pages/low/containers/create-containers.html"><strong aria-hidden="true">2.3.2.</strong> Create Luos containers</a></li><li class="chapter-item "><a href="../../../pages/low/containers/od.html"><strong aria-hidden="true">2.3.3.</strong> Object dictionary</a></li><li class="chapter-item expanded "><a href="../../../pages/low/containers/routing-table.html" class="active"><strong aria-hidden="true">2.3.4.</strong> Routing table</a></li><li class="chapter-item "><a href="../../../pages/low/containers/msg-handling.html"><strong aria-hidden="true">2.3.5.</strong> Messages handling</a></li><li class="chapter-item "><a href="../../../pages/low/containers/self-healing.html"><strong aria-hidden="true">2.3.6.</strong> Self-healing</a></li><li class="chapter-item "><a href="../../../pages/low/containers/streaming.html"><strong aria-hidden="true">2.3.7.</strong> Streaming</a></li><li class="chapter-item "><a href="../../../pages/low/containers/rt-config.html"><strong aria-hidden="true">2.3.8.</strong> Real-time configuration</a></li><li class="chapter-item "><a href="../../../pages/low/containers/examples.html"><strong aria-hidden="true">2.3.9.</strong> Codes Examples</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../pages/high/high-level.html"><strong aria-hidden="true">3.</strong> High level</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../pages/high/json-api.html"><strong aria-hidden="true">3.1.</strong> JSON API</a></li><li class="chapter-item "><a href="../../../pages/high/pyluos.html"><strong aria-hidden="true">3.2.</strong> Pyluos</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../pages/high/containers_list/angle.html"><strong aria-hidden="true">3.2.1.</strong> Angle</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/color.html"><strong aria-hidden="true">3.2.2.</strong> Color</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/controller-motor.html"><strong aria-hidden="true">3.2.3.</strong> Controller motor</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/dc-motor.html"><strong aria-hidden="true">3.2.4.</strong> DC motor</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/distance.html"><strong aria-hidden="true">3.2.5.</strong> Distance</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/dxl.html"><strong aria-hidden="true">3.2.6.</strong> Dynamixel motor</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/gate.html"><strong aria-hidden="true">3.2.7.</strong> Gate</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/imu.html"><strong aria-hidden="true">3.2.8.</strong> IMU</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/light.html"><strong aria-hidden="true">3.2.9.</strong> Light</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/servo.html"><strong aria-hidden="true">3.2.10.</strong> Servo motor</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/state.html"><strong aria-hidden="true">3.2.11.</strong> State</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/stepper.html"><strong aria-hidden="true">3.2.12.</strong> Stepper motor</a></li><li class="chapter-item "><a href="../../../pages/high/containers_list/voltage.html"><strong aria-hidden="true">3.2.13.</strong> Voltage</a></li></ol></li><li class="chapter-item "><a href="../../../pages/high/ros.html"><strong aria-hidden="true">3.3.</strong> ROS</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../pages/high/ros/bike_alarm.html"><strong aria-hidden="true">3.3.1.</strong> ROS package example</a></li><li class="chapter-item "><a href="../../../pages/high/ros/ros1.html"><strong aria-hidden="true">3.3.2.</strong> Retrocompatibility with ROS 1</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../pages/demo_boards/demo-boards.html"><strong aria-hidden="true">4.</strong> Demonstration boards examples</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../pages/demo_boards/electronic-use.html"><strong aria-hidden="true">4.1.</strong> Boards general use</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/quick-start.html"><strong aria-hidden="true">4.2.</strong> Quick start</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards-list.html"><strong aria-hidden="true">4.3.</strong> Boards list</a><a class="toggle"><div>‚ù±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/battery-power-input.html"><strong aria-hidden="true">4.3.1.</strong> Battery power input</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/button.html"><strong aria-hidden="true">4.3.2.</strong> Button</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/controller-motor.html"><strong aria-hidden="true">4.3.3.</strong> Controller motor</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/dc-motor.html"><strong aria-hidden="true">4.3.4.</strong> DC motor</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/distance.html"><strong aria-hidden="true">4.3.5.</strong> Distance sensor</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/dxl.html"><strong aria-hidden="true">4.3.6.</strong> Dynamixel motor</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/gpio.html"><strong aria-hidden="true">4.3.7.</strong> GPIO</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/imu.html"><strong aria-hidden="true">4.3.8.</strong> IMU</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/jack-power-input.html"><strong aria-hidden="true">4.3.9.</strong> Jack power input</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/light.html"><strong aria-hidden="true">4.3.10.</strong> Light sensor</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/led-strip.html"><strong aria-hidden="true">4.3.11.</strong> LED strip</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/potentiometer.html"><strong aria-hidden="true">4.3.12.</strong> Potentiometer</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/power-isolator.html"><strong aria-hidden="true">4.3.13.</strong> Power isolator</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/powerpi.html"><strong aria-hidden="true">4.3.14.</strong> Power Pi</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/powerswitch.html"><strong aria-hidden="true">4.3.15.</strong> Power switch</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/rgbled.html"><strong aria-hidden="true">4.3.16.</strong> RGB LED</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/servo.html"><strong aria-hidden="true">4.3.17.</strong> Servo motor</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/stepper.html"><strong aria-hidden="true">4.3.18.</strong> Stepper motor</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/usb.html"><strong aria-hidden="true">4.3.19.</strong> USB</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/wifible.html"><strong aria-hidden="true">4.3.20.</strong> Wifi BLE</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/wire-power-input.html"><strong aria-hidden="true">4.3.21.</strong> Wire power input</a></li><li class="chapter-item "><a href="../../../pages/demo_boards/boards_list/cables.html"><strong aria-hidden="true">4.3.22.</strong> Cables</a></li></ol></li></ol></li></ol>			<p style="marging-bottom: 40px;"><a class="cust_menu_item" href="https://www.luos.io" target="_blank">Go to Luos.io &#8599;</a></p>
           
            </div>


            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <script src="https://kit.fontawesome.com/e122236495.js" crossorigin="anonymous"></script>

        <div class="cust_menu_container">

            <div class="cust_column cust_logo_container">
                <a href="https://docs.luos.io/"><img src="../../../_assets/img/logo_luos_animated_white.gif" alt="Luos" id="logo" width="72px"></a>
            </div>

            <div class="cust_column cust_middle">

                <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar"><i class="fa fa-bars"></i>
                </button>
                <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                    <i class="fa fa-paint-brush"></i>
                </button>
                <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                    <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                    <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                    <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                    <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                    <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                </ul>
                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                    <i class="fa fa-search"></i>
                </button>
                                <a href="../../../print.html" title="Print this documentation" aria-label="Print this book"><i id="print-button" class="fa fa-print" style="padding-left: 5px;transform: translate(0px,1px) scale(0.8);"></i></a>

            </div>
            <div class="cust_column cust_right">

                <div class="cust_menu_inline"><a title="" target="_blank" href="https://www.luos.io/#technology">Technology</a></div>
                <div class="cust_menu_inline"><a title="" target="_blank" href="https://www.luos.io/pricing">Pricing</a></div>
                <div class="cust_menu_inline"><a title="" target="_blank" href="https://www.luos.io/appstore">Appstore</a></div>
                <div class="cust_menu_inline"><a title="" target="_blank" href="https://www.luos.io/blog">Blog</a></div>
                <div class="cust_menu_inline"><a style="color: #bd99ff;">Docs</a></div>
                <div class="cust_menu_inline"><a title="Download on Github" target="_blank" rel="noopener noreferrer" href="https://github.com/luos-io">Download</a></div>

            </div>
        </div>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="routing-table"><a class="header" href="#routing-table">Routing Table</a></h1>
<blockquote>
<p><strong>Warning:</strong> Make sure to read and understand how to <a href="./create-containers.html">Create Luos containers</a> before reading this page.</p>
</blockquote>
<p>The routing table is a feature of Luos allowing every <span class="cust_tooltip"><a href="../../overview/general-basics.html#container">container</a><span class="cust_tooltiptext">Software element run by Luos that can communicate with other containers. It can be a driver or an app. (Initially called a module)</span></span> to own a &quot;map&quot; (or topology) of the entire network of your device. This map allows containers to know their physical position and to search and interact with other containers easily.<br/>
This feature is particularly used by apps containers to find other containers they need to interact with. The routing table is shared by the container which launches the detection to other containers, but only apps containers store the routing table internaly.</p>
<h2 id="detection"><a class="header" href="#detection">Detection</a></h2>
<p>The routing table is automatically generated when a network detections is initiated by a container. It is then shared with other containers at the end of the detection. A detection can be initiated by any container, but driver containers should not be able to run it; this kind of features should be only used with app containers by including routingTable.h and using this routing table API.</p>
<p>To run a detection, type:</p>
<pre><code class="language-C">RoutingTB_DetectContainers(app);
</code></pre>
<p>where app is the <code>container_t</code> pointer running the detection.</p>
<p>A non-detected container (not in the routing table) has a specific ID of <code>0</code>. At the beginning of the detection, Luos erases each container's ID in the network, so all of them will have the ID <code>0</code> during this operation. You can use it on your containers code to act consequently to this detection if you need it (for example, a container can monitor its ID to detect if a detection has been made and if it has to reconfigure its auto-update).</p>
<p>Then the container running the detection will have the ID <code>1</code> and the other containers will have an ID between <code>2</code> and <code>4096</code>, depending on their position from the container detector. The IDs are attributed to the containers according to their position from the detector container and to the branch they are in. The ID attribution begins first to the PTPA port, then PTPB, etc.
When each container in the network has an attributed ID, the detection algorithm proceeds to the creation of the routing table and shares it with every containers (saved only one time per node).</p>
<p>Sometimes, multiple containers in the network can have the same alias, which is not allowed to prevent container confusion. In this case, detection algorithm will add a number after each instance of this alias on the routing table.</p>
<blockquote>
<p><strong>Warning:</strong> Be careful that during a detection, a container can change ID depending on the container running this detection. Do not consider your container's ID fixed. Also, be aware that every containers remove their auto-update configuration during the detection to prevent any ID movement.</p>
</blockquote>
<h2 id="modes"><a class="header" href="#modes">Modes</a></h2>
<p>As explained in <a href="../../overview/general-basics.html#what-is-a-node">this page</a>, <span class="cust_tooltip">nodes<span class="cust_tooltiptext">Hardware element (MCU) hosting and running Luos and hosting one or several containers.</span></span> can host multiple containers. To get the topology of your device, the routing table references physical connexions between your nodes and lists all the containers in each one of them.</p>
<p>The routing table is a table of a <code>routing_table_t</code> structure containing nodes or containers information.
The maximum number of containers and nodes are managed by the precompilation constant <code>MAX_containerS_NUMBER</code> (set to 40 by default).</p>
<pre><code class="language-c">routing_table_t routing_table[MAX_CONTAINERS_NUMBER];
</code></pre>
<p>The routing table structure has two modes: <em>container entry mode</em> and <em>node entry mode</em>.</p>
<pre><code class="language-c">typedef struct __attribute__((__packed__))
{
    entry_mode_t mode;
    union
    {
        struct __attribute__((__packed__))// CONTAINER mode entry
        {                               
            uint16_t id;                // Container ID.
            uint16_t type;              // Container type.
            char alias[MAX_ALIAS_SIZE]; // Container alias.
        };
        struct __attribute__((__packed__))// NODE mode entry
        { 
            // Watch out, this structure has a lot of similarities with the node_t struct.
            // It is similar to allow copy of a node_t struct directly in this one
            // but there is potentially a port_table size difference so
            // do not replace it with node_t struct.
            struct __attribute__((__packed__))
            {
                uint16_t node_id : 12;  // Node id
                uint16_t certified : 4; // True if the node have a certificate
            };
            uint16_t port_table[(MAX_ALIAS_SIZE + 2 + 2 - 2) / 2]; // Node link table
        };
        uint8_t unmap_data[MAX_ALIAS_SIZE + 2 + 2];
    };
} routing_table_t;
</code></pre>
<h3 id="container-entry-mode"><a class="header" href="#container-entry-mode">container entry mode</a></h3>
<p>This mode allows <code>routing_table</code> to contain:</p>
<ul>
<li>id: container's unique id</li>
<li>type: container's type</li>
<li>alias: container's alias</li>
</ul>
<p>For more information, please refer to the <a href="../containers.html">containers</a> page of this documentation.</p>
<h3 id="node-entry-mode"><a class="header" href="#node-entry-mode">Node entry mode</a></h3>
<p>This mode gives physical information of your devices.</p>
<p>The <strong>node_id</strong> is the unique number that you can use to identify each one of your nodes. At the beginning (or when a reset detection is perfomed), all node IDs are set to 0. When the RoutingTB_DetectContainers API is called, Luos assigns a unique ID to nodes and containers in your system topology.</p>
<p>The <strong>certified</strong> Luos node can be certified for your system by including Luos licencing number in your product (feature in progress).</p>
<p>The <strong>port_table</strong> allows sharing of topological information of your network. Each element of this table corresponds to a physical Luos port of the node and indicates which node is connected to it by sharing a node's <code>id</code>.</p>
<p>Here is an example:</p>
<img src="../../../_assets/img/routing-table.png" title="Routing table">
<p>As shown on this image, elements of the <code>port_table</code> indicate the first or last container id of the connected node through a given port.</p>
<p>Specific values taken by <code>port_table</code>:</p>
<ul>
<li><strong>0</strong>: this port is waiting to discover who is connected with. You should never see this value.</li>
<li><strong>0x0FFF</strong>: this port is not connected to any other Node.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Routing tables can be easily displayed using <a href="../../high/pyluos.html">Pyluos</a> through a <a href="../../high/containers_list/gate.html">USB gate</a>. Please refer to the <a href="../../high/pyluos.html#routing-table-display">Pyluos routing table section</a> for more information.</p>
</blockquote>
<h2 id="search-tools"><a class="header" href="#search-tools">Search tools</a></h2>
<p>The routing table library provides the following search tools to find containers and nodes' information into a Luos network:</p>
<table><thead><tr><th align="center">Description</th><th align="center">Function</th><th align="center">Return</th></tr></thead><tbody>
<tr><td align="center">Find a container's id from its alias</td><td align="center"><code>RoutingTB_IDFromAlias(char* alias);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Find a container's id from its type (return the first of the list)</td><td align="center"><code>RoutingTB_IDFromType(luos_type_t type);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Find a container's id from a container</td><td align="center"><code>RoutingTB_IDFromContainer(container_t *container);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Find a container's alias from its id (return the first of the list)</td><td align="center"><code>RoutingTB_AliasFromId(uint16_t id);</code></td><td align="center"><code>char*</code></td></tr>
<tr><td align="center">Find a container's type from its id</td><td align="center"><code>RoutingTB_TypeFromID(uint16_t id);</code></td><td align="center"><code>container_type_t</code></td></tr>
<tr><td align="center">Find a container's type from its alias</td><td align="center"><code>RoutingTB_TypeFromAlias(char* alias);</code></td><td align="center"><code>container_type_t</code></td></tr>
<tr><td align="center">Find a container's string from its type (return the first of the list)</td><td align="center"><code>RoutingTB_StringFromType(luos_type_t type);</code></td><td align="center"><code>char*</code></td></tr>
<tr><td align="center">Test if a container's type is a sensor</td><td align="center"><code>RoutingTB_ContainerIsSensor(container_type_t type);</code></td><td align="center"><code>uint8_t</code></td></tr>
<tr><td align="center">Get the number of nodes in a Luos network</td><td align="center"><code>RoutingTB_GetNodeNB(void);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Get a node's id</td><td align="center"><code>RoutingTB_GetNodeID(unsigned short index);</code></td><td align="center"><code>uint16_t</code></td></tr>
</tbody></table>
<h2 id="management-tools"><a class="header" href="#management-tools">Management tools</a></h2>
<p>Here are the management tools provided by the routing table library:</p>
<table><thead><tr><th align="center">Description</th><th align="center">Function</th><th align="center">Return</th></tr></thead><tbody>
<tr><td align="center">Compute the rooting table</td><td align="center"><code>RoutingTB_ComputeRoutingTableEntryNB(void);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Detect the containers in a Luos network</td><td align="center"><code>RoutingTB_DetectContainers(container_t* container);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Convert a node to a routing table entry</td><td align="center"><code>RoutingTB_ConvertNodeToRoutingTable(routing_table_t *entry, node_t *node);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Convert a container to a routing table entry</td><td align="center"><code>RoutingTB_ConvertContainerToRoutingTable(routing_table_t* entry, container_t* container);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Remove an entry in the routing table (by id)</td><td align="center"><code>RoutingTB_RemoveOnRoutingTable(uint16_t id);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Erase routing table</td><td align="center"><code>RoutingTB_Erase(void);</code></td><td align="center"><code>void</code></td></tr>
<tr><td align="center">Get the routing table</td><td align="center"><code>RoutingTB_Get(void);</code></td><td align="center"><code>routing_table_t*</code></td></tr>
<tr><td align="center">Get the last container in a Luos network</td><td align="center"><code>RoutingTB_GetLastContainer(void);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Get the last entry in a Luos network</td><td align="center"><code>RoutingTB_GetLastEntry(void);</code></td><td align="center"><code>uint16_t</code></td></tr>
<tr><td align="center">Get the last node in a Luos network</td><td align="center"><code>RoutingTB_GetLastNode(void);</code></td><td align="center"><code>uint16_t*</code></td></tr>
</tbody></table>
   
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../../pages/low/containers/od.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../../pages/low/containers/msg-handling.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../../pages/low/containers/od.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../../pages/low/containers/msg-handling.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

            <footer id="footer">
                <div class="cust_edit_page">
                    <a id="gh_link">Contribute to this page</a>&nbsp;|&nbsp;<a id="feedback" class="cust_red_link" onclick="openFeedback()">This page wasn't helpful? &#128078;</a>
                </div>
                <div align="right" style="float: right; height: 30px; width: 400px; position: relative; top: -13px;">
                    <a class="github-button" href="https://github.com/Luos-io" data-show-count="true" aria-label="Follow @Luos-io on GitHub">Follow @Luos-io</a>&nbsp;<a class="github-button" href="https://github.com/Luos-io/Luos/subscription" data-icon="octicon-eye" data-show-count="true" aria-label="Watch Luos-io/Luos on GitHub">Watch</a>&nbsp;<a class="github-button" href="https://github.com/Luos-io/Luos" data-icon="octicon-star" data-show-count="true" aria-label="Star Luos-io/Luos on GitHub">Star</a>
                </div>
                
                <script language="javascript">
                    // Contribute to this page's href address
                    var page = window.location.pathname.slice(0, -4)+'md';
                    document.getElementById('gh_link').href = 'https://github.com/Luos-io/doc/tree/master/src'+page;
                    
                </script>

                <script language="javascript">
                    // Open the new window for feedback page
                    function openFeedback() {
                      var mywidth = 550;
                      var myheight = 280;
                      var myleft = (screen.width - mywidth) /2 ;
                      var mytop = (screen.height - myheight) / 4;
                      var myWindow = window.open("", "MsgWindow", "toolbar=yes,scrollbars=no,resizable=no,width="+mywidth+",height="+myheight+",left="+myleft+",top="+mytop);
                      myWindow.document.write("<!DOCTYPE HTML><html><head><title>Luos documentation feedback</title><style>body{font-family: 'Roboto', sans-serif;} .zf-fmFooter .zf-submitColor{ font-size:14px; padding:4px 10px;}.zf-submitColor{ color: #fff; border:1px solid; border-color: #2F9EEC #1988D6 1988D6; background: #2596e6; background: -webkit-gradient(linear, left top, left bottom, from(#2f9eec), to(#1988d6)); background: moz-linear-gradienttop,  #2f9eec,  #1988d6); filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#2f9eec', endColorstr='#1988d6'); moz-box-shadow:0 1px 2px rgba(0, 0, 0, 0.15); -webkit-box-shadow:0 1px 2px rgba(0, 0, 0, 0.15); box-shadow:0 1px 2px rgba(0, 0, 0, 0.15); text-shadow:0 1px 0 rgba(0, 0, 0, 0.25);  } .zf-submitColor:hover{ background: #1988d6; background: -webkit-gradient(linear, left top, left bottom, from(#1988d6), to(#1988d6)); background: -moz-linear-gradient(top,  #1988d6,  #1988d6);   filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#1988d6', endColorstr='#1988d6'); }textarea#details_feedback{  width: 90%;  height: 100px;  padding: 12px 12px;  margin: 8px 0;  display: inline-block;  border: 1px solid #ccc;  border-radius: 4px;  box-sizing: border-box;}</style></head><body><div style=\"margin: 20px 0 20px 0; padding: 10px 20px 20px 20px; width: 90%; background-color: #efefef;\" id=\"feedback-block\"><form action=\'https://forms.zohopublic.eu/luosio/form/Thumbsurvey/formperma/BlTjwTQeX5v3FQDKFEHW5NNUgyllNOKxC-9a5miMlSw/htmlRecords/submit\' name=\'form\' method=\'POST\' onSubmit=\'javascript:document.charset=\"UTF-8\"; return zf_ValidateAndSubmit();\' accept-charset=\'UTF-8\' enctype=\'multipart/form-data\' id=\'form\'><input type=\"hidden\" name=\"zf_referrer_name\" value=\"\"><input type=\"hidden\" name=\"zf_redirect_url\" value=\"\"><input type=\"hidden\" name=\"zc_gad\" value=\"\"><div style=\"margin: 5px 5px 5px 0px; color: #333; font-size: 1.5em;\">Help us to improve our documentation.<\/div><div style=\"margin: 0 0 0 10px; padding: 0 0 0 15px; border-left: 2px solid #ccc\"<label style=\"color: #909090; font-size: 0.9em; font-style: italic;\">Add details to help us improve this page: <\/label><div><textarea id=\"details_feedback\" name=\"MultiLine\" checktype=\"c1\" maxlength=\"65535\"><\/textarea><p id=\"MultiLine_error\" style=\"display:none;\">Invalid value<\/p><\/div><label style=\"display:none;\">window.location.href <\/label><div style=\"display:none;\"><textarea id=\"pageLocation\" name=\"MultiLine1\" checktype=\"c1\" maxlength=\"65535\"><\/textarea><p id=\"MultiLine1_error\" class=\"zf-errorMessage\" style=\"display:none;\">Invalid value<\/p><\/div><button class=\"zf-submitColor\" style=\"margin-top: 12px;\">Submit<\/button><\/div><\/form><\/div><script type=\"text/javascript\">var zf_DateRegex = new RegExp(\"^(([0][1-9])|([1-2][0-9])|([3][0-1]))[-](Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec|JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC)[-](?:(?:19|20)[0-9]{2})$\"); var zf_MandArray = []; var zf_FieldArray = [ \"MultiLine\", \"MultiLine1\"];var isSalesIQIntegrationEnabled = false; var salesIQFieldsArray = []; document.getElementById(\'pageLocation\').value = window.location.href;<\/script></body>");
                    }
                </script>

                <br />

                <!-- newsletter subscription -->
                <iframe frameborder="0" style="height:110px;width:99%;border:none;" src='https://luos.maillist-manage.eu/ua/Optin?od=12ba7e1d8761&zx=14ac451cc1&lD=1b0211bfd6a6409&n=11699f74e8efc17&sD=1b0211bfd6dd285'></iframe>

                <div style="font-size: 10px; margin: auto; padding-bottom: 15px; width: 50%; text-align: center;" >¬©2018-2021 <a href="https://www.luos.io">Luos.io</a></div>
                </div>
            </footer>

        </div>

        
                <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-153509818-3', 'auto');
                ga('send', 'pageview');
            }
        </script>
        
                
        
        
                <script src="../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        

    </body>
    <script type="text/javascript">
        _linkedin_partner_id = "3400409";
        window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
        window._linkedin_data_partner_ids.push(_linkedin_partner_id);
    </script><script type="text/javascript">
        (function(){var s = document.getElementsByTagName("script")[0];
        var b = document.createElement("script");
        b.type = "text/javascript";b.async = true;
        b.src = "https://snap.licdn.com/li.lms-analytics/insight.min.js";
        s.parentNode.insertBefore(b, s);})();
    </script>
    <noscript>
        <img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=3400409&fmt=gif" />
    </noscript>
</html>
